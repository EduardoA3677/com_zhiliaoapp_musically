.class public abstract Ll;
.super LX/101b;
.source "SourceFile"


# direct methods
.method public constructor <init>()V
    .locals 0

    invoke-direct {p0}, LX/101b;-><init>()V

    return-void
.end method


# virtual methods
.method public final LIZ()Lcom/bytedance/hybrid/spark/security/web_js/setting/JSInjectConfig;
    .locals 14

    new-instance v1, Lcom/bytedance/hybrid/spark/security/web_js/setting/JSInjectConfig;

    const-string v2, "_jsmanage_js_recording_core"

    const-string v3, "custom_manual"

    const/4 v4, 0x1

    const-string v0, "."

    invoke-static {v0}, Ljava/util/Collections;->singletonList(Ljava/lang/Object;)Ljava/util/List;

    move-result-object v5

    sget-object v6, LX/0Pgk;->INSTANCE:LX/0Pgk;

    const-string v7, "https://lf16-gecko-source.tiktokcdn.com/obj/tiktok-teko-source-sg/tt/webview/js_manage/tiktok_webview_js_inject_manage/assets/js/js_recording_core.js"

    const/4 v8, 0x0

    const/4 v11, 0x0

    const/16 v12, 0x1c0

    move-object v9, v8

    move-object v10, v8

    move-object v13, v8

    invoke-direct/range {v1 .. v13}, Lcom/bytedance/hybrid/spark/security/web_js/setting/JSInjectConfig;-><init>(Ljava/lang/String;Ljava/lang/String;ILjava/util/List;Ljava/util/List;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;ZILkotlin/jvm/internal/DefaultConstructorMarker;)V

    return-object v1
.end method

.method public final LJ()Ljava/lang/String;
    .locals 1

    const-string v0, "!function(e){\"use strict\";var t,n,r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function o(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function i(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},\"function\"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError(\"Generator is already executing.\");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function a(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")}function s(e,t){var n=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function l(e,t){var n,r=\"undefined\"!=typeof __PIA_WORKER__?new Function(\"return this\")():\"undefined\"!=typeof window?window:{};return r.JS2NativeBridge&&r.JS2NativeBridge._invokeMethod?n=function(e){return r.JS2NativeBridge._invokeMethod(JSON.stringify(e))}:r.ToutiaoJSBridge&&r.ToutiaoJSBridge.invokeMethod?n=function(e){return r.ToutiaoJSBridge.invokeMethod(JSON.stringify(e))}:r.JS2NativeBridge&&r.JS2NativeBridge.call?n=function(e){return r.JS2NativeBridge.call(e.func,JSON.stringify(e))}:r.webkit&&r.webkit.messageHandlers&&r.webkit.messageHandlers.callMethodParams?n=function(e){r.webkit.messageHandlers.callMethodParams.postMessage(e)}:r.callMethodParams&&(n=function(e){return r.callMethodParams(e.func,e)}),n({func:e,params:t,JSSDK:\"2.0.0\",__msg_type:\"call\"})}!function(e){e.GET=\"get_autofill\",e.TRIGGER=\"trigger_autofill\",e.HANDSHAKE1=\"hand_shake1\",e.HANDSHAKE2=\"hand_shake2\",e.GET_SUBMIT=\"get_submit\",e.TRIGGER_SUBMIT=\"trigger_submit\",e.RECEIVE_SUBMIT=\"receive_submit\",e.TRIGGER_AUTOFILL_SUBMIT=\"trigger_autofill_success\",e.RECEIVE_AUTOFILL_SUBMIT=\"receive_autofill_success\",e.IFRAME_SUBMIT=\"iframe_submit\",e.AUTOFILL_POPUP_CHANGE=\"autofill_popup_change\",e.SET_IFRAME_DATA=\"set_iframe_data\",e.HANDSHANKE_TIMEOUT=\"handshake_timeout\",e.IFRAME_NO_SCOPE=\"iframe_no_scope\",e.IFRAME_HAVE_SCOPE=\"iframe_have_scope\",e.SET_FOCUS=\"set_focus\",e.RESET_DATA=\"reset_data\",e.IFRAME_TO_MAIN_SENDCLICK=\"iframe_to_main_sendclick\",e.MAIN_TO_IFRAME_REMOVESELECT=\"main_to_iframe_removeselect\"}(t||(t={})),function(e){e.PENDING=\"pending\",e.FULFILLED=\"fulfilled\"}(n||(n={}));var c=function(){function e(e,t){this.recordingRules={},this.version=\"version_20251126_0.6609780302723349\",this.js_from=\"cdn\",this.executed=!1,this.status=n.PENDING,this.origin=\"\",this.source=null,this.iframeSourceList=[],this.startTime=0,this.iframescope=[],this._isInit=!1,this._previousScrollY=0,this._isScrolling=!1,this._scrollTimeoutId=null,this._touchStartY=0,this._touchStartTime=0,this.version=\"version_20251126_0.6609780302723349\",this.js_from=\"cdn\"}return e.prototype.matchRule=function(e){var t,n;if(!e||\"object\"!=typeof e)return null;try{for(var r=a(Object.entries(this.recordingRules)),o=r.next();!o.done;o=r.next()){var i=s(o.value,2),l=i[0],c=i[1];if(Array.isArray(c))if(c.some((function(t){var n,r;if(!t||\"string\"!=typeof t.key||!Array.isArray(t.rules))return!1;var o=e,i=t.key.split(\".\");try{for(var s=(n=void 0,a(i)),l=s.next();!l.done;l=s.next()){var c=l.value;if(!o||\"object\"!=typeof o||!(c in o))return!1;o=o[c]}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}var d=String(o||\"\").toLowerCase();return t.rules.some((function(e){if(\"string\"!=typeof e)return!1;var n=e.toLowerCase();return\"xpath\"===t.key?d===n:d.includes(n)}))})))return l}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null},e.prototype.addNativeUpdateEvent=function(){window.__recordingCallback__=this.recordingCallback.bind(this)},e.prototype.registerForPageComplete=function(){try{if(this.executed)return;this.executed=!0,this.addNativeUpdateEvent(),this.init()}catch(e){this.sendEventV3(\"lp_click_recorder_init_fail\",{code:1,fail_reason:JSON.stringify({msg:e.message,stack:e.stack})})}},e.prototype.init=function(){try{this.initHandshake(),this.addGlobalClickListener(),this.addGlobalScrollListener(),this.sendEventV3(\"lp_click_recorder_init_success\",{js_version:this.version,js_from:this.js_from}),this.getAndReportClientContext(),this.reportCurrentHtml(),this.addUrlChangeListener()}catch(e){this.sendEventV3(\"lp_click_recorder_init_fail\",{code:0,fail_reason:JSON.stringify({fail_reason:e.message,stack:e.stack}),js_version:this.version,js_from:this.js_from})}},e.prototype.getAndReportClientContext=function(){try{if(\"function\"==typeof window.getClientContext){var e=window.getClientContext();e&&this.sendEventV3(\"lp_client_context_received\",{client_context:JSON.stringify(e)})}}catch(e){console.error(\"Error getting client context:\",e)}},e.prototype.getCroppedHtml=function(){try{var e=document.body;if(!e)return\"\";var t=e.cloneNode(!0);return t.querySelectorAll(\"script\").forEach((function(e){return e.remove()})),t.querySelectorAll(\"style\").forEach((function(e){return e.remove()})),t.querySelectorAll(\"[style]\").forEach((function(e){return e.removeAttribute(\"style\")})),t.querySelectorAll(\'header, footer, nav, aside, .header, .footer, .nav, .aside, #header, #footer, #nav, #aside, .banner, .advertisement, .ad, .ads, .loading, .spinner, .splash, [data-role=\"banner\"], [data-role=\"footer\"], [data-role=\"nav\"]\').forEach((function(e){return e.remove()})),t.querySelectorAll(\'[hidden], [style*=\"display: none\"], [style*=\"visibility: hidden\"], [style*=\"opacity: 0\"]\').forEach((function(e){return e.remove()})),t.querySelectorAll(\"p, div, span, h1, h2, h3, h4, h5, h6, pre, blockquote\").forEach((function(e){e.textContent&&e.textContent.length>200&&(e.textContent=e.textContent.substring(0,200)+\"...\")})),t.querySelectorAll(\"img\").forEach((function(e){return e.remove()})),t.querySelectorAll(\"svg, canvas\").forEach((function(e){return e.remove()})),t.innerHTML}catch(e){return console.error(\"Error cropping HTML:\",e),\"\"}},e.prototype.reportCurrentHtml=function(){try{var e={html:this.getCroppedHtml(),js_version:this.version,page_title:document.title,url:window.location.href},t={event_label:\"html\",timestamp:Date.now(),web_context:e};l(\"sendLog\",{labelName:\"recordingJsEvent\",eventName:\"ad_wap_stat\",is_ad_event:1,value:\"\",extJson:{category:\"event_v3\",tag:\"ad_wap_stat\",refer:\"recording\",nt:4,is_ad_event:1,value:\"\",log_extra:{},ad_extra_data:JSON.stringify(t)}})}catch(e){console.error(\"Error reporting HTML:\",e)}},e.prototype.addUrlChangeListener=function(){var e=this;window.addEventListener(\"popstate\",(function(){e.reportCurrentHtml()})),window.addEventListener(\"hashchange\",(function(){e.reportCurrentHtml()}));var t=history.pushState,n=history.replaceState;history.pushState=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(history,e);return window.dispatchEvent(new Event(\"urlchange\")),r},history.replaceState=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=n.apply(history,e);return window.dispatchEvent(new Event(\"urlchange\")),r},window.addEventListener(\"urlchange\",(function(){e.reportCurrentHtml()}))},e.prototype.addGlobalClickListener=function(){var e=this;document.addEventListener(\"click\",(function(t){var n=t.target;e.handleClickEvent(n,t)}),!0)},e.prototype.addGlobalScrollListener=function(){var e=this;document.addEventListener(\"touchstart\",(function(t){e.handleTouchStart(t)}),{passive:!0}),document.addEventListener(\"touchmove\",(function(t){e.handleTouchMove(t)}),{passive:!0}),document.addEventListener(\"touchend\",(function(t){e.handleTouchEnd(t)}),{passive:!0})},e.prototype.throttle=function(e,t){var n=0;return function(){var r=Date.now();r-n>=t&&(n=r,e())}},e.prototype.handleTouchStart=function(e){try{if(this._touchStartY=e.touches[0].clientY,this._touchStartTime=Date.now(),null!==this._scrollTimeoutId&&(window.clearTimeout(this._scrollTimeoutId),this._scrollTimeoutId=null),!this._isScrolling){this._isScrolling=!0;var n=this.buildScrollData(\"start\");window!==window.top?this.postMessageToMainFrame(t.IFRAME_TO_MAIN_SENDCLICK,{scroll_data:n}):this.sendEventV3(\"lp_element_scroll\",n)}}catch(e){console.error(\"Error handling touch start event:\",e)}},e.prototype.handleTouchMove=function(e){try{null!==this._scrollTimeoutId&&(window.clearTimeout(this._scrollTimeoutId),this._scrollTimeoutId=null)}catch(e){console.error(\"Error handling touch move event:\",e)}},e.prototype.handleTouchEnd=function(e){try{if(null!==this._scrollTimeoutId&&(window.clearTimeout(this._scrollTimeoutId),this._scrollTimeoutId=null),this._isScrolling){this._isScrolling=!1;var n=this.buildScrollData(\"end\");window!==window.top?this.postMessageToMainFrame(t.IFRAME_TO_MAIN_SENDCLICK,{scroll_data:n}):this.sendEventV3(\"lp_element_scroll\",n)}}catch(e){console.error(\"Error handling touch end event:\",e)}},e.prototype.buildScrollData=function(e){var t=window.scrollY;0===this._previousScrollY&&0!==t&&(this._previousScrollY=t);var n=this._previousScrollY,r=Math.abs(t-n),o=\"none\";t>n?o=\"down\":t<n&&(o=\"up\"),this._previousScrollY=t;var i=r>0?Math.round(r/16*1e3):0,a=Math.max(window.scrollY,document.documentElement.scrollTop);return{scroll_status:e,scroll_direction:o,scroll_delta:r,scroll_velocity:i,is_at_top:a<=0,is_at_bottom:a>=document.documentElement.scrollHeight-window.innerHeight,page_title:document.title,url:window.location.href,viewport_size:{x:window.innerWidth,y:window.innerHeight},document_size:{x:document.documentElement.scrollWidth,y:document.documentElement.scrollHeight},scroll_position:{x:window.scrollX,y:t},js_version:this.version}},e.prototype.handleClickEvent=function(e,n){try{var r=this.buildClickData(e,n);window!==window.top?this.postMessageToMainFrame(t.IFRAME_TO_MAIN_SENDCLICK,{click_data:r}):this.sendEventV3(\"lp_element_click\",r)}catch(e){console.error(\"Error handling click event:\",e)}},e.prototype.initHandshake=function(){return o(this,void 0,Promise,(function(){return i(this,(function(e){return this._isInit?[2]:(this._isInit=!0,this.startTime=(new Date).getTime(),window===window.top?[2,this.initMainFrameHandshake()]:[2,this.initIframeHandshake()])}))}))},e.prototype.initMainFrameHandshake=function(){var e=this;return new Promise((function(t){window.addEventListener(\"message\",e.handleMainFrameMessage.bind(e)),t()}))},e.prototype.initIframeHandshake=function(){var e=this;return new Promise((function(t,n){window.addEventListener(\"message\",e.handleIframeMessage.bind(e)),e.polling(1,t,n)}))},e.prototype.polling=function(e,r,o){var i=this;if(void 0===e&&(e=1),Date.now()-this.startTime>3e4)return clearTimeout(this.pollingTimeoutId),void o();this.status!==n.FULFILLED?(this.postMessageToMainFrame(t.HANDSHAKE1,{iframescope:[],url:window.location.href,path:new URL(window.location.href).pathname}),this.pollingTimeoutId=setTimeout((function(){i.polling(e+1,r,o)}),1e3)):clearTimeout(this.pollingTimeoutId)},e.prototype.handleMainFrameMessage=function(e){var n=e.data,r=e.origin,o=e.source;switch(n.event_name){case t.HANDSHAKE1:this.handleHandshake1(n,r,o);break;case t.IFRAME_TO_MAIN_SENDCLICK:this.handleIframeSendClick(n)}},e.prototype.handleIframeMessage=function(e){switch(e.data.event_name){case t.HANDSHAKE2:this.status===n.PENDING&&(this.status=n.FULFILLED)}},e.prototype.handleHandshake1=function(e,n,r){r&&n&&(this.iframeSourceList.some((function(e){return e.origin===n&&e.source===r}))||this.iframeSourceList.push({origin:n,source:r,iframescope:e.iframescope}));null==r||r.postMessage({event_name:t.HANDSHAKE2},n)},e.prototype.handleIframeSendClick=function(e){try{e.click_data&&this.sendEventV3(\"lp_element_click\",e.click_data),e.scroll_data&&this.sendEventV3(\"lp_element_scroll\",e.scroll_data)}catch(e){console.error(\"Error handling iframe event:\",e)}},e.prototype.postMessageToMainFrame=function(e,t){var n;null===(n=window.top)||void 0===n||n.postMessage(r({event_name:e},t),\"*\")},e.prototype.buildClickData=function(e,t){if(!e||1!==e.nodeType)return{};var n={};if(e.id&&(n.id=e.id),e.className&&(n.class=e.className),e.attributes&&e.attributes.length>0)for(var r=0;r<e.attributes.length;r++){var o=e.attributes[r];if(o&&o.nodeName&&null!==o.nodeValue&&void 0!==o.nodeValue)if(\"id\"!==o.nodeName&&\"class\"!==o.nodeName&&\"className\"!==o.nodeName||\"id\"===o.nodeName&&!n.id||(\"class\"===o.nodeName||\"className\"===o.nodeName)&&!n.class)n[\"className\"===o.nodeName?\"class\":o.nodeName]=o.nodeValue}var i={is_iframe:window!==window.top,tag:e.tagName,attributes:n,num_child_buttons:this.countChildButtons(e),timestamp:Date.now()};window!==window.top&&(i.iframe_url=window.location.href),e.innerText&&(i.inner_text=String(e.innerText).trim().slice(0,100));var a=this.getElementPath(e);a&&(i.xpath=a);var s={};[\"screenX\",\"screenY\",\"clientX\",\"clientY\",\"pageX\",\"pageY\"].forEach((function(e){var n=t[e];null==n||isNaN(n)||(s[e]=n)})),Object.keys(s).length>0&&(i.position=s),document.title&&(i.page_title=document.title),i.url=window.location.href;var l={};void 0!==window.innerWidth&&(l.x=window.innerWidth),void 0!==window.innerHeight&&(l.y=window.innerHeight),Object.keys(l).length>0&&(i.viewport_size=l);var c={};void 0!==document.documentElement.scrollWidth&&(c.x=document.documentElement.scrollWidth),void 0!==document.documentElement.scrollHeight&&(c.y=document.documentElement.scrollHeight),Object.keys(c).length>0&&(i.document_size=c);var d={};return void 0!==window.scrollX&&(d.x=window.scrollX),void 0!==window.scrollY&&(d.y=window.scrollY),Object.keys(d).length>0&&(i.scroll_position=d),i},e.prototype.getElementPath=function(e){if(!e)return\"\";if(e.id)return\'//*[@id=\"\'.concat(e.id,\'\"]\');for(var t=[],n=e;n&&n.nodeType===Node.ELEMENT_NODE;){for(var r=0,o=!1,i=n.previousSibling;i;)i.nodeType!==Node.DOCUMENT_TYPE_NODE&&i.nodeName===n.nodeName&&r++,i=i.previousSibling;for(i=n.nextSibling;i;){if(i.nodeName===n.nodeName){o=!0;break}i=i.nextSibling}var a=n.nodeName.toLowerCase(),s=r||o?\"[\".concat(r+1,\"]\"):\"\";if(t.push(a+s),\"BODY\"===n.nodeName||\"HTML\"===n.nodeName)break;n=n.parentNode}return\"//\"+t.reverse().join(\"/\")},e.prototype.countChildButtons=function(e){return e.querySelectorAll(\"button\").length},e.prototype.recordingCallback=function(e){try{e&&e.rules&&e.rules.feature_info&&(this.recordingRules=JSON.parse(e.rules.feature_info)),this.sendEventV3(\"lp_recording_callback_received\",{rules_received:JSON.stringify(this.recordingRules)})}catch(e){try{this.sendEventV3(\"lp_recording_callback_error\",{error_message:e.message})}catch(t){console.error(\"Error in recordingCallback:\",e)}}},e.prototype.sendEventV3=function(e,t){try{e=String(e||\"\");var n=r({js_version:this.version,js_from:this.js_from},t||{}),o=\"other\";if(\"lp_element_click\"===e)o=this.matchRule(t)||\"common_click\";else\"lp_element_scroll\"===e&&(o=\"scroll\");var i={event_label:o,timestamp:Date.now(),web_context:n},a={labelName:\"recordingJsEvent\",eventName:\"ad_wap_stat\",is_ad_event:1,value:\"\",extJson:{category:\"event_v3\",tag:\"ad_wap_stat\",refer:\"autofill\",nt:4,is_ad_event:1,value:\"\",log_extra:{},ad_extra_data:JSON.stringify(i)}};if(\"other\"===o)return void(a.labelName=e);l(\"sendLog\",a)}catch(e){console.error(\"Error sending event:\",e)}},e}();new c(\"/** adInfo **/\",\"/** extraData **/\").registerForPageComplete(),e.ClickEventRecorder=c}({});"

    return-object v0
.end method

.method public final LJI()Ljava/lang/String;
    .locals 1

    const-string v0, "_jsmanage_js_recording_core"

    return-object v0
.end method
