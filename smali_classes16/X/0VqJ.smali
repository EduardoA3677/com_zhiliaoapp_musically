.class public abstract LX/0VqJ;
.super LX/101b;
.source "SourceFile"


# direct methods
.method public constructor <init>()V
    .locals 0

    invoke-direct {p0}, LX/101b;-><init>()V

    return-void
.end method


# virtual methods
.method public final LIZ()Lcom/bytedance/hybrid/spark/security/web_js/setting/JSInjectConfig;
    .locals 14

    new-instance v1, Lcom/bytedance/hybrid/spark/security/web_js/setting/JSInjectConfig;

    const-string v2, "_jsmanage_iab_error_report"

    const-string v3, "custom_manual"

    const/4 v4, 0x1

    const-string v0, "."

    invoke-static {v0}, Ljava/util/Collections;->singletonList(Ljava/lang/Object;)Ljava/util/List;

    move-result-object v5

    sget-object v6, LX/0Pgk;->INSTANCE:LX/0Pgk;

    const-string v7, "https://lf16-gecko-source.tiktokcdn.com/obj/tiktok-teko-source-sg/tt/webview/js_manage/tiktok_webview_js_inject_manage/assets/js/iab_error_report.js"

    const/4 v8, 0x0

    const/4 v11, 0x0

    const/16 v12, 0x1c0

    move-object v9, v8

    move-object v10, v8

    move-object v13, v8

    invoke-direct/range {v1 .. v13}, Lcom/bytedance/hybrid/spark/security/web_js/setting/JSInjectConfig;-><init>(Ljava/lang/String;Ljava/lang/String;ILjava/util/List;Ljava/util/List;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;ZILkotlin/jvm/internal/DefaultConstructorMarker;)V

    return-object v1
.end method

.method public final LJ()Ljava/lang/String;
    .locals 1

    const-string v0, "!function(){\"use strict\";var r,t,e,o,n=function(){return(n=Object.assign||function(r){for(var t,e=1,o=arguments.length;e<o;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}).apply(this,arguments)};function i(r,t,e,o){return new(e||(e=Promise))((function(n,i){function a(r){try{c(o.next(r))}catch(r){i(r)}}function s(r){try{c(o.throw(r))}catch(r){i(r)}}function c(r){var t;r.done?n(r.value):(t=r.value,t instanceof e?t:new e((function(r){r(t)}))).then(a,s)}c((o=o.apply(r,t||[])).next())}))}function a(r,t){var e,o,n,i,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},\"function\"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(e)throw new TypeError(\"Generator is already executing.\");for(;a;)try{if(e=1,o&&(n=2&i[0]?o.return:i[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,i[1])).done)return n;switch(o=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(n=a.trys,(n=n.length>0&&n[n.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){a.label=i[1];break}if(6===i[0]&&a.label<n[1]){a.label=n[1],n=i;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(i);break}n[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(r,a)}catch(r){i=[6,r],o=0}finally{e=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function s(r){var t=\"function\"==typeof Symbol&&Symbol.iterator,e=t&&r[t],o=0;if(e)return e.call(r);if(r&&\"number\"==typeof r.length)return{next:function(){return r&&o>=r.length&&(r=void 0),{value:r&&r[o++],done:!r}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")}function c(r,t){return i(this,void 0,void 0,(function(){return a(this,(function(t){return function(r,t,e){var o=function(){var r,t,e;(null===(r=window.JS2NativeBridge)||void 0===r?void 0:r._invokeMethod)?e=function(r){var t;return null===(t=window.JS2NativeBridge)||void 0===t?void 0:t._invokeMethod(JSON.stringify(r))}:(null===(t=window.ToutiaoJSBridge)||void 0===t?void 0:t.invokeMethod)&&(e=function(r){var t;return null===(t=window.ToutiaoJSBridge)||void 0===t?void 0:t.invokeMethod(JSON.stringify(r))});return e}();if(!o)return!1;o(n({__msg_type:\"call\",__callback_id:\"-1\",func:r,params:null!=t?t:{},JSSDK:\"1.0.0-your-tag\"},(null==e?void 0:e.namespace)&&{namespace:e.namespace}))}(\"sendLog\",r),[2]}))}))}!function(r){r.RUNTIME=\"runtime_error\",r.PROMISE=\"promise_error\",r.RESOURCE=\"resource_error\",r.AJAX=\"ajax_error\",r.FETCH=\"fetch_error\",r.VUE=\"vue_error\",r.REACT=\"react_error\",r.CUSTOM=\"custom_error\"}(r||(r={})),function(r){r.FATAL=\"fatal\",r.ERROR=\"error\",r.WARNING=\"warning\",r.INFO=\"info\"}(t||(t={})),function(r){r.SCRIPT=\"script\",r.STYLESHEET=\"stylesheet\",r.IMAGE=\"image\",r.FONT=\"font\",r.XHR=\"xhr\",r.FETCH=\"fetch\",r.OTHER=\"other\"}(e||(e={})),function(r){r.CLICK=\"click\",r.NAVIGATION=\"navigation\",r.INPUT=\"input\",r.SCROLL=\"scroll\"}(o||(o={})),new(function(){function i(t){this.sk=\"b64ffd8feffe7a6a\",this.index=parseInt(sessionStorage.getItem(this.sk),10)||0,this.slowRequestThreshold=5e3,this.adInfo={cid:0,log_extra:\"\"},this.extra_data=getClientContext().ad_extra_data,this.scene_state=0,this.errorMonitorConfig={sampleRate:1,maxErrorsPerMinute:30,maxStackLength:50,ignoreErrors:[/Script error/i,/ResizeObserver loop limit exceeded/i],ignoreUrls:[],recordUserActions:!0,maxUserActions:20,enableConsoleError:!0,enabledErrorTypes:[r.RUNTIME,r.PROMISE,r.RESOURCE,r.AJAX,r.FETCH]},this.userActions=[],this.errorCount=0,this.lastMinuteTimestamp=Date.now(),this.errorCache=new Set,this.originalConsoleError=null,this.originalFetch=null,this.originalXhrOpen=null,this.originalXhrSend=null,this._checkTime=0,this._clsData=null,this._lcpData=null,this._fcpData=null,this._fidData=null;try{var e=\"string\"==typeof t?JSON.parse(t):t;this.adInfo={cid:e.cid||e.ad_id,log_extra:e.log_extra},this._extra_data=\"string\"==typeof this.extra_data?JSON.parse(this.extra_data):this.extra_data,this.scene_state=this._extra_data.scene_state,this.slowRequestThreshold=this._extra_data.slowRequestThreshold?this._extra_data.slowRequestThreshold:this.slowRequestThreshold,this._extra_data.errorMonitorConfig&&(this.errorMonitorConfig=n(n({},this.errorMonitorConfig),this._extra_data.errorMonitorConfig))}catch(r){throw this.sendEventV3(\"landing_perf_error\",{code:0,msg:JSON.stringify(t)}),r}}return i.prototype.execute=function(){this.initErrorMonitoring()},i.prototype.initErrorMonitoring=function(){var r=this;this.sendEventV3(\"landing_page_erro_init\",{});try{window.addEventListener(\"error\",(function(t){\"error\"in t&&t.error?r.handleJsError(t):t.target&&t.target.tagName&&r.handleResourceError(t)}),!0),window.addEventListener(\"unhandledrejection\",this.handlePromiseError.bind(this)),this.errorMonitorConfig.enableConsoleError&&this.monitorConsoleErrors(),this.monitorVueErrors(),window.captureReactError=this.captureReactError.bind(this)}catch(r){console.error(\"Failed to initialize error monitoring:\",r)}},i.prototype.handleJsError=function(e){var o,n,i;try{if(!this.shouldCaptureError(r.RUNTIME,(null===(o=e.error)||void 0===o?void 0:o.message)||e.message))return;var a={type:r.RUNTIME,severity:t.ERROR,message:(null===(n=e.error)||void 0===n?void 0:n.message)||e.message||\"Unknown error\",stack:null===(i=e.error)||void 0===i?void 0:i.stack,filename:e.filename||\"\",lineno:e.lineno||0,colno:e.colno||0,timestamp:Date.now(),url:window.location.href,userAgent:navigator.userAgent,context:this.getErrorContext()};a.fingerprint=this.generateErrorFingerprint(a),this.reportError(a)}catch(r){console.error(\"Error in handleJsError:\",r)}},i.prototype.handleResourceError=function(o){try{var n=o.target;if(!n||!n.tagName)return;var i=n.tagName.toLowerCase(),a={img:e.IMAGE,link:e.STYLESHEET,script:e.SCRIPT,audio:e.OTHER,video:e.OTHER}[i]||e.OTHER,s=n.src||n.href||\"\";if(!this.shouldCaptureError(r.RESOURCE,s))return;var c={type:r.RESOURCE,subType:a,severity:t.WARNING,message:\"Failed to load \".concat(a,\": \").concat(s),filename:s,timestamp:Date.now(),url:window.location.href,userAgent:navigator.userAgent,context:this.getErrorContext(),metadata:{tagName:i,resourceType:a,resourceUrl:s}};c.fingerprint=this.generateErrorFingerprint(c),this.reportError(c)}catch(r){console.error(\"Error in handleResourceError:\",r)}},i.prototype.handlePromiseError=function(e){try{var o=e.reason,n=this.getPromiseErrorMessage(o);if(!this.shouldCaptureError(r.PROMISE,n))return;var i=o instanceof Error?o.stack:\"\",a={type:r.PROMISE,severity:t.ERROR,message:n,stack:i,timestamp:Date.now(),url:window.location.href,userAgent:navigator.userAgent,context:this.getErrorContext()};i&&(a.filename=this.extractFilenameFromStack(i),a.lineno=this.extractLinenoFromStack(i)),a.fingerprint=this.generateErrorFingerprint(a),this.reportError(a)}catch(r){console.error(\"Error in handlePromiseError:\",r)}},i.prototype.monitorConsoleErrors=function(){try{if(!console||!console.error)return;var e=console.error,o=this;this.originalConsoleError=e,console.error=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];try{var a=n.map((function(r){return r instanceof Error?r.message:\"string\"==typeof r?r:JSON.stringify(r)})).join(\" \");if(o.shouldCaptureError(r.CUSTOM,a)){var s={type:r.CUSTOM,subType:\"console_error\",severity:t.WARNING,message:a.substring(0,500),timestamp:Date.now(),url:window.location.href,userAgent:navigator.userAgent,context:o.getErrorContext()},c=n.find((function(r){return r instanceof Error}));c&&c.stack&&(s.stack=c.stack,s.filename=o.extractFilenameFromStack(c.stack),s.lineno=o.extractLinenoFromStack(c.stack)),s.fingerprint=o.generateErrorFingerprint(s),o.reportError(s)}}catch(r){}e.apply(console,n)}}catch(r){console.error(\"Failed to monitor console.error:\",r)}},i.prototype.monitorVueErrors=function(){try{if(void 0!==window.Vue){var e=window.Vue,o=this;e.config.errorHandler=function(n,i,a){var s,c,l;try{if(!o.shouldCaptureError(r.VUE,n.message))return;var u=(null===(s=null==i?void 0:i.$options)||void 0===s?void 0:s.name)||(null===(c=null==i?void 0:i.$options)||void 0===c?void 0:c._componentTag)||\"AnonymousComponent\",h={type:r.VUE,severity:t.ERROR,message:n.message||\"Vue Error\",stack:n.stack,timestamp:Date.now(),url:window.location.href,userAgent:navigator.userAgent,context:o.getErrorContext(),metadata:{componentName:u,info:a,propsData:null===(l=null==i?void 0:i.$options)||void 0===l?void 0:l.propsData}};n.stack&&(h.filename=o.extractFilenameFromStack(n.stack),h.lineno=o.extractLinenoFromStack(n.stack)),h.fingerprint=o.generateErrorFingerprint(h),o.reportError(h)}catch(r){console.error(\"Error in Vue error handler:\",r)}\"function\"==typeof e.config.originalErrorHandler&&e.config.originalErrorHandler(n,i,a)},e.config.originalErrorHandler=e.config.errorHandler}}catch(r){console.error(\"Failed to monitor Vue errors:\",r)}},i.prototype.captureReactError=function(e,o){try{if(!this.shouldCaptureError(r.REACT,e.message))return;var n={type:r.REACT,severity:t.ERROR,message:e.message||\"React Error\",stack:e.stack,timestamp:Date.now(),url:window.location.href,userAgent:navigator.userAgent,context:this.getErrorContext(),metadata:{componentStack:o.componentStack}};e.stack&&(n.filename=this.extractFilenameFromStack(e.stack),n.lineno=this.extractLinenoFromStack(e.stack)),n.fingerprint=this.generateErrorFingerprint(n),this.reportError(n)}catch(r){console.error(\"Error in captureReactError:\",r)}},i.prototype.startRecordingUserActions=function(){try{var r=this,t=this.errorMonitorConfig.maxUserActions;window.addEventListener(\"click\",(function(e){try{var n=e.target;if(!n)return;var i=n.tagName.toLowerCase(),a=n.id?\"#\".concat(n.id):\"\",s=n.className&&\"string\"==typeof n.className?\".\".concat(n.className.split(\" \").join(\".\")):\"\",c=n.textContent?n.textContent.substring(0,50).trim():\"\",l={type:o.CLICK,target:\"\".concat(i).concat(a).concat(s),timestamp:Date.now(),data:{text:c,x:e.clientX,y:e.clientY}};r.userActions.unshift(l),r.userActions.length>t&&(r.userActions=r.userActions.slice(0,t))}catch(r){}}),!0),window.addEventListener(\"popstate\",(function(){try{var e={type:o.NAVIGATION,target:window.location.pathname,timestamp:Date.now()};r.userActions.unshift(e),r.userActions.length>t&&(r.userActions=r.userActions.slice(0,t))}catch(r){}}))}catch(r){console.error(\"Failed to start recording user actions:\",r)}},i.prototype.getPromiseErrorMessage=function(r){try{return r?\"string\"==typeof r?r:r instanceof Error?r.message||\"Unknown error\":String(r):\"Promise rejected without reason\"}catch(r){return\"Failed to get promise error message\"}},i.prototype.extractFilenameFromStack=function(r){if(!r)return\"\";for(var t=r.split(\"\\n\"),e=0;e<t.length;e++){var o=t[e],n=o.match(/at\\s+.*\\s+\\((.*?)(?::\\d+:\\d+)?\\)/);if(n&&n[1])return n[1];var i=o.match(/at\\s+(.*?)(?::\\d+:\\d+)?$/);if(i&&i[1])return i[1]}return\"\"},i.prototype.extractLinenoFromStack=function(r){if(!r)return 0;for(var t=r.split(\"\\n\"),e=0;e<t.length;e++){var o=t[e],n=o.match(/at\\s+.*\\s+\\(.*?:(\\d+):\\d+\\)/);if(n&&n[1])return parseInt(n[1],10);var i=o.match(/at\\s+.*?:(\\d+):\\d+$/);if(i&&i[1])return parseInt(i[1],10)}return 0},i.prototype.getErrorContext=function(){return{userActions:this.userActions.slice(),pageInfo:{title:document.title,referrer:document.referrer,viewport:{width:window.innerWidth,height:window.innerHeight}},networkInfo:this.getNetworkInfo(),memoryInfo:this.getMemoryInfo(),customData:this._extra_data}},i.prototype.getNetworkInfo=function(){try{var r=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(r)return{type:r.type,effectiveType:r.effectiveType,downlink:r.downlink,rtt:r.rtt}}catch(r){}return{}},i.prototype.getMemoryInfo=function(){try{if(window.performance&&window.performance.memory){var r=window.performance.memory;return{jsHeapSizeLimit:r.jsHeapSizeLimit,totalJSHeapSize:r.totalJSHeapSize,usedJSHeapSize:r.usedJSHeapSize}}}catch(r){}return{}},i.prototype.truncateResponseText=function(r){if(!r)return\"\";return r.length<=500?r:r.substring(0,500)+\"...\"},i.prototype.generateErrorFingerprint=function(r){try{return[r.type,r.message,r.filename||\"\",r.lineno||0].join(\"|\")}catch(r){return\"\".concat(Date.now(),\"-\").concat(Math.random())}},i.prototype.shouldCaptureError=function(r,t){var e,o,n,i;try{if(!this.errorMonitorConfig.enabledErrorTypes.includes(r))return!1;if(Math.random()>this.errorMonitorConfig.sampleRate)return!1;var a=Date.now();if(a-this.lastMinuteTimestamp>6e4)this.lastMinuteTimestamp=a,this.errorCount=0;else if(this.errorCount>=this.errorMonitorConfig.maxErrorsPerMinute)return!1;try{for(var c=s(this.errorMonitorConfig.ignoreErrors),l=c.next();!l.done;l=c.next()){if(l.value.test(t))return!1}}catch(r){e={error:r}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(e)throw e.error}}var u=window.location.href;try{for(var h=s(this.errorMonitorConfig.ignoreUrls),f=h.next();!f.done;f=h.next()){if(f.value.test(u))return!1}}catch(r){n={error:r}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}var d=\"\".concat(r,\"|\").concat(t);return!this.errorCache.has(d)&&(this.errorCache.add(d),this.errorCache.size>100&&this.errorCache.clear(),!0)}catch(r){return!0}},i.prototype.reportError=function(r){try{if(this.errorCount++,r.stack&&this.errorMonitorConfig.maxStackLength>0){var t=r.stack.split(\"\\n\");t.length>this.errorMonitorConfig.maxStackLength&&(r.stack=t.slice(0,this.errorMonitorConfig.maxStackLength).join(\"\\n\"))}this.sendEventV3(\"landing_page_error\",r)}catch(r){console.error(\"Error in reportError:\",r)}},i.prototype.sendEventV3=function(r,t){this.adInfo.cid,this.adInfo.log_extra,JSON.stringify({ad_extra_data:JSON.stringify(t)});c({labelName:r,eventName:\"landing_ad\",is_ad_event:1,value:this.adInfo.cid,extJson:{category:\"event_v3\",tag:\"landing_ad\",nt:4,is_ad_event:1,value:this.adInfo.cid,log_extra:this.adInfo.log_extra,ad_extra_data:JSON.stringify(t)}})},i}())(getClientContext().adInfo).execute()}();"

    return-object v0
.end method

.method public final LJI()Ljava/lang/String;
    .locals 1

    const-string v0, "_jsmanage_iab_error_report"

    return-object v0
.end method
