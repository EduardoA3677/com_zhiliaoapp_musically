.class public abstract LX/0Vzl;
.super LX/101b;
.source "SourceFile"


# direct methods
.method public constructor <init>()V
    .locals 0

    invoke-direct {p0}, LX/101b;-><init>()V

    return-void
.end method


# virtual methods
.method public final LIZ()Lcom/bytedance/hybrid/spark/security/web_js/setting/JSInjectConfig;
    .locals 14

    new-instance v1, Lcom/bytedance/hybrid/spark/security/web_js/setting/JSInjectConfig;

    const-string v2, "_jsmanage_ad_autofill_seventhversion"

    const-string v3, "custom_manual"

    const/4 v4, 0x1

    const-string v0, "."

    invoke-static {v0}, Ljava/util/Collections;->singletonList(Ljava/lang/Object;)Ljava/util/List;

    move-result-object v5

    sget-object v6, LX/0Pgk;->INSTANCE:LX/0Pgk;

    const-string v7, "https://lf16-gecko-source.tiktokcdn.com/obj/tiktok-teko-source-sg/tt/webview/js_manage/tiktok_webview_js_inject_manage/assets/js/ad_autofill_seventhversion.js"

    const/4 v8, 0x0

    const/4 v11, 0x0

    const/16 v12, 0x1c0

    move-object v9, v8

    move-object v10, v8

    move-object v13, v8

    invoke-direct/range {v1 .. v13}, Lcom/bytedance/hybrid/spark/security/web_js/setting/JSInjectConfig;-><init>(Ljava/lang/String;Ljava/lang/String;ILjava/util/List;Ljava/util/List;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;ZILkotlin/jvm/internal/DefaultConstructorMarker;)V

    return-object v1
.end method

.method public final LJ()Ljava/lang/String;
    .locals 2

    new-instance v1, Ljava/lang/StringBuilder;

    const v0, 0x109c5

    invoke-direct {v1, v0}, Ljava/lang/StringBuilder;-><init>(I)V

    const-string v0, "!function(){\"use strict\";var t=function(){return(t=Object.assign||function(t){for(var e,i=1,a=arguments.length;i<a;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};function e(t,e,i,a){return new(i||(i=Promise))((function(n,o){function s(t){try{r(a.next(t))}catch(t){o(t)}}function l(t){try{r(a.throw(t))}catch(t){o(t)}}function r(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,l)}r((a=a.apply(t,e||[])).next())}))}function i(t,e){var i,a,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},\"function\"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(i)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(i=1,a&&(n=2&o[0]?a.return:o[0]?a.throw||((n=a.return)&&n.call(a),0):a.next)&&!(n=n.call(a,o[1])).done)return n;switch(a=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,a=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(n=s.trys,(n=n.length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],a=0}finally{i=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}function a(t){var e=\"function\"==typeof Symbol&&Symbol.iterator,i=e&&t[e],a=0;if(i)return i.call(t);if(t&&\"number\"==typeof t.length)return{next:function(){return t&&a>=t.length&&(t=void 0),{value:t&&t[a++],done:!t}}};throw new TypeError(e?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")}function n(){console.log(\"bridge\");var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};function e(e,i){function a(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(a.prototype=i.prototype,new a)}var i,a=function(){return(a=Object.assign||function(t){for(var e,i=1,a=arguments.length;i<a;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};!function(t){t[t.Failure=0]=\"Failure\",t[t.Success=1]=\"Success\",t[t.Unauthorized=-1]=\"Unauthorized\",t[t.NotExist=-2]=\"NotExist\"}(i||(i={}));var n=\"undefined\"==typeof __PIA_WORKER__?1023:1023e5,o=function(){function t(t){this.version=t.version||\"2.0.3\",this.nativeMethodInvoker=t.nativeMethodInvoker,this.nativeEventListener=t.nativeEventListener,this.scheme=t.scheme||\"nativeapp://\",this.dispatchMessagePath=t.dispatchMessagePath||\"dispatch_message/\",this.setResultPath=t.setResultPath||\"private/setresult/SCENE_FETCHQUEUE\",this.dispatchMessageIFrameId=t.dispatchMessageIFrameId||\"__JSBridgeIframe__\",this.setResultIFrameId=t.setResultIFrameId||\"__JSBridgeIframe_SetResult__\",this.listenNativeEvent=!0===t.listenNativeEvent,this.callbackId=n,this.callbackMap={},this.eventMap={},this.javascriptMessageQueue=[],this.callbackProcessor=t.callbackProcessor}return t.prototype.call=function(t,e,i,a){void 0===a&&(a=this.version);var n,o=this.version;if(t&&\"string\"==typeof t){\"object\"!=typeof e&&(e={}),\"string\"==typeof a?o=a||this.version:\"object\"==typeof a&&(n=a.namespace,o=a.sdkVersion||this.version);var s={func:t,params:e,JSSDK:o,__msg_type:\"call\",namespace:n};if(\"function\"==typeof i||void 0===i){var l=this.registerCallback(t,i);s.__callback_id=l}\"undefined\"==typeof __PIA_WORKER__&&window.parent!==window&&(s.__iframe_url=window.location.href),this.sendMessageToNative(s)}},t.prototype.on=function(t,e,i){if(void 0===i&&(i=!1),t&&\"string\"==typeof t&&\"function\"==typeof e){var a=this.registerCallback(t,e);return this.eventMap[t]=this.eventMap[t]||{},this.eventMap[t][a]={once:i},this.listenNativeEvent&&(this.nativeEventListener?this.nativeEventListener(t):this.call(\"addEventListener\",{name:t},null,{sdkVersion:1})),a}},t.prototype.once=function(t,e){return this.on(t,e,!0)},t.prototype.off=function(t,e){if(!t||\"string\"!=typeof t)return!0;var i=this.eventMap[t];return!i||\"object\"!=typeof i||!i.hasOwnProperty(e)||(this.deregisterCallback(e),delete i[e],!0)},t.prototype.trigger=function(t,e){return this.handleMessageFromNative({__msg_type:\"event\",__params:e,__event_id:t})},t.prototype.handleMessageFromNative=function(t){var e=this,i=t,a=String(i.__callback_id);if(this.callbackProcessor&&\"function\"==typeof this.callbackProcessor){var n=(this.callbackMap&&this.callbackMap[a]||{}).method;this.callbackProcessor(i,n)}var o=i.__params,s=String(i.__event_id||\"\"),l=i.__msg_type;this.callbackMap[a]?l=\"callback\":this.eventMap[a]&&(l=\"event\",s=s||a);var r={__err_code:\"cb404\"};switch(l){case\"callback\":var c=(this.callbackMap&&this.callbackMap[a]||{}).callback;\"function\"==typeof c&&(r=c(o)),this.deregisterCallback(a);break;case\"event\":var u=this.eventMap[s];u&&\"object\"==typeof u&&Object.keys(u).forEach((function(t){var i=(e.callbackMap&&e.callbackMap[t]||{}).callback,a=u[t];\"function\"==typeof i&&(r=i(o)),a&&a.once&&(e.deregisterCallback(t),delete u[t])}))}return r},t.prototype.fetchJavaScriptMessageQueue=function(){var t=JSON.stringify(this.javascriptMessageQueue),e=btoa(unescape(encodeURIComponent(t)));return this.setResultIFrame&&this.javascriptMessageQueue.length>0&&(this.setResultIFrame.src=\"\"+this.scheme+this.setResultPath+\"&\"+e),this.javascriptMessageQueue.splice(0,this.javascriptMessageQueue.length),t},t.prototype.sendMessageToNative=function(t){if(\"1\"!==String(t.JSSDK)&&this.nativeMethodInvoker){var e=this.nativeMethodInvoker(t);if(e){var i=JSON.parse(e);this.handleMessageFromNative(i)}}else this.javascriptMessageQueue.push(t),this.dispatchMessageIFrame||this.tryCreateIFrames(),this.dispatchMessageIFrame.src=\"\"+this.scheme+this.dispatchMessagePath},t.prototype.registerCallback=function(t,e){var i=String(this.callbackId++);return this.callbackMap[i]={method:t,callback:e},i},t.prototype.deregisterCallback=function(t){delete this.callbackMap[t]},t.prototype.tryCreateIFrames=function(){this.dispatchMessageIFrame=this.createIFrame(this.dispatchMessageIFrameId),this.setResultIFrame=this.createIFrame(this.setResultIFrameId)},t.prototype.createIFrame=function(t){var e=document.getElementById(t);return e&&\"IFRAME\"===e.tagName||((e=document.createElement(\"iframe\")).style.display=\"none\",e.id=t,document.documentElement.appendChild(e)),e},t}(),s=\"undefined\"!=typeof __PIA_WORKER__?new Function(\"return this\")():\"undefined\"!=typeof window?window:{},l=void 0!==s&&s.navigator?s.navigator.userAgent:\"\",r=(!!l.match(/(newsarticle|videoarticle|lv|faceu|ulike|beauty_me_|faceu-os|ulike-os|beauty_me_oversea_|retouch)\\/([\\d.]+)/i)||/super|automobile/gi.test(l))&&!/webcast/gi.test(l)&&!/luckycatversion/gi.test(l),c=!!l.match(/(faceu)\\/([\\d.]+)/i)||/gsdk/gi.test(l)||/PIANativeWorker/gi.test(l),u=!!l.match(/ttad\\/0/i),f=!!l.match(/aweme|trill|musical_ly|phoenix_\\d+|TikTokNow_\\d+|alligatortiktok/i),p=!!l.match(/live_stream/i),_=!!l.match(/Webcast/i),d=!!l.match(/super/i),h=!!l.match(/life_service_merchant/i),m=/super/gi.test(l);function g(){var t;if(r)return s.JSBridge&&s.JSBridge.on?t=s.JSBridge.on:s.JS2NativeBridge&&s.JS2NativeBridge.on?t=function(t){var e={JSSDK:\"2.2.17\",__msg_type:\"event\",__callback_id:t,func:t};s.JS2NativeBridge.on(t,JSON.stringify(e))}:s.webkit&&s.webkit.messageHandlers&&s.webkit.messageHandlers.onMethodParams?t=function(t){var e={JSSDK:\"2.2.17\",__msg_type:\"event\",__callback_id:t,func:t};s.webkit.messageHandlers.onMethodParams.postMessage(e)}:s.onMethodParams&&(t=function(t){var e={JSSDK:\"2.2.17\",__msg_type:\"event\",__callback_id:t,func:t};return s.onMethodParams(t,e)}),t}function y(t,e){if((\"string\"!=typeof e||!0!==/^(x|tc)\\./.test(e))&&(f||p||_||h)){var i=t.__params;s.JS2NativeBridge&&s.JS2NativeBridge._invokeMethod&&(t.__params=a({code:i.code},i.data))}}var v=function(t){function i(){var e=t.call(this,{version:\"2.2.17\",scheme:\"bytedance://\",listenNativeEvent:!0,dispatchMessageIFrameId:\"__JSBridgeIframe_1.0__\",setResultIFrameId:\"__JSBridgeIframe_SetResult_1.0__\",nativeEventListener:g(),callbackProcessor:y})||this;return e.publicApi={call:e.call.bind(e),on:e.on.bind(e),once:e.once.bind(e),off:e.off.bind(e),trigger:e.trigger.bind(e),_fetchQueue:e.fetchJavaScriptMessageQueue.bind(e),_handleMessageFromToutiao:e.handleMessageFromNative.bind(e)},e}return e(i,t),i.prototype.exposePublicApiToGlobal=function(){s.ToutiaoJSBridge=Object.assign(s.ToutiaoJSBridge||{},this.publicApi)},i}(o),b=function(t){function i(e){var i,a=t.call(this,{version:\"2.2.17\",nativeMethodInvoker:(s.JS2NativeBridge&&s.JS2NativeBridge._invokeMethod?i=function(t){return s.JS2NativeBridge._invokeMethod(JSON.stringify(t))}:s.ToutiaoJSBridge&&s.ToutiaoJSBridge.invokeMethod?i=function(t){return s.ToutiaoJSBridge.invokeMethod(JSON.stringify(t))}:s.JS2NativeBridge&&s.JS2NativeBridge.call?i=function(t){return s.JS2NativeBridge.call(t.func,JSON.stringify(t))}:s.webkit&&s.webkit.messageHandlers&&s.webkit.messageHandlers.callMethodParams?i=function(t){s.webkit.messageHandlers.callMethodParams.postMessage(t)}:s.callMethodParams&&(i=function(t){return s.callMethodParams(t.func,t)}),i),nativeEventListener:g(),scheme:d?\"bds://\":m?\"bytedance://\":r||s.JSBridge&&s.JSBridge._invokeMethod?\"nativeapp://\":\"bytedance://\",listenNativeEvent:r,callbackProcessor:y})||this;return a.toutiaoLegacyJSB=e,a.publicApi={call:a.call.bind(a),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),trigger:a.trigger.bind(a),_fetchQueue:a.fetchJavaScriptMessageQueue.bind(a),_handleMessageFromApp:a.handleMessageFromNative.bind(a),_handleMessageFromToutiao:a.handleMessageFromNative.bind(a)},a}return e(i,t),i.prototype.call=function(e,i,a,n){void 0===n&&(n=\"2.2.17\"),this.isLegacyCall(e)?this.toutiaoLegacyJSB.call(e,i,a,n):t.prototype.call.call(this,e,i,a,n)},i.prototype.on=function(e,i,a,n){return void 0===a&&(a=!1),(n||{}).useLegacy||this.isLegacyCall(e)?this.toutiaoLegacyJSB.on(e,i,a):t.prototype.on.call(this,e,i,a)},i.prototype.once=function(e,i){return this.isLegacyCall(e)?this.toutiaoLegacyJSB.once(e,i):t.prototype.once.call(this,e,i)},i.prototype.off=function(e,i){return this.isLegacyCall(e)?this.toutiaoLegacyJSB.off(e,i):t.prototype.off.call(this,e,i)},i.prototype.trigger=function(e,i){return this.isLegacyCall(e)?this.toutiaoLegacyJSB.trigger(e,i):t.prototype.trigger.call(this,e,i)},i.prototype.exposePublicApiToGlobal=function(){var t=this;s.JSBridge=Object.assign(s.JSBridge||{},this.publicApi),s.__DISABLE_JSB_PROTOCAL2__||(s.Native2JSBridge=Object.assign(s.Native2JSBridge||{},this.publicApi)),m?s.ToutiaoJSBridge=Object.assign(s.ToutiaoJSBridge||{},this.publicApi):(r||u)&&this.toutiaoLegacyJSB?this.toutiaoLegacyJSB.exposePublicApiToGlobal():s.ToutiaoJSBridge=Object.assign(s.ToutiaoJSBridge||{},this.publicApi),s.parent!==s&&s.addEventListener&&s.addEventListener(\"message\",(function(e){e&&e.data&&e.data.__callback_id&&t.handleMessageFromNative(e.data)}),!1),Object.defineProperties(s,{JSBridge:{writable:!1},Native2JSBridge:{writable:!1},ToutiaoJSBridge:{writable:!1}}),Object.freeze(s.JSBridge),Object.freeze(s.Native2JSBridge),Object.freeze(s.ToutiaoJSBridge)},i.prototype.isLegacyCall=function(t){return!(!t||\"string\"!=typeof t||!this.toutiaoLegacyJSB)&&(!!u||!c&&!m&&(r&&t.indexOf(\".\")<0))},i}(o);function S(t,e){if(null==t)throw new TypeError(\"Cannot convert first argument to object\");for(var i=Object(t),a=1;a<arguments.length;a++){var n=arguments[a];if(null!=n)for(var o=Object.keys(Object(n)),s=0,l=o.length;s<l;s++){var r=o[s],c=Object.getOwnPropertyDescriptor(n,r);void 0!==c&&c.enumerable&&(i[r]=n[r])}}return i}({assign:S,polyfill:function(){Object.assign||Object.defineProperty(Object,\"assign\",{enumerable:!1,configurable:!0,writable:!0,value:S})}}).polyfill();var w=new b(new v);try{console.warn(\"[Bridge] This version has Break Change, please pay attention to compatibility, more details: https://zjsms.com/JXKorkC/\"),w.exposePublicApiToGlobal()}catch(t){console.warn(t.message)}}var o,s,l=function(){function t(){this.Payment_Field=[\"cardNumber\",\"exp_month\",\"exp_year\",\"exp_date\"],this.pv_id=(new Date).getTime()+Math.random().toString(36).slice(2),this.adInfo={cid:0,log_extra:\"\",web_url:\"\"},this.is_first_page=-1,this.autoFillInfo={},this.platform=-1,this.autoFillField=[],this.paymentField=[],this.switchAutoFill=!1,this.switchContact=!1,this.switchPayment=!1,this.contactInfo_status=-1,this.paymentInfo_status=-1,this.canUseContact=!1,this.canUsePayment=!1,this.canAutoFill=!1,this.enablePrefill=!1,this.is_pipo_update=!1,this.pipo_paymentInfo_status=-1,this.pipo_payment_count=0,this.is_need_popup=!0,this.is_need_show_contactall=!0,this.fail_reason=0,this.iframeScope=[],this.paymentCount=0,this.noKeyReason=-1,this._jsInitTime=0,this._mainframe_load=0,this.jsInitTime=(new Date).getTime(),this.performance_time=window.performance.timing}return t.prototype.initAdInfo=function(t,e){void 0===e&&(e={first_page:1,platform:-1});var i=\"string\"==typeof t?JSON.parse(t):t;if(this.adInfo={cid:i.cid||i.ad_id,log_extra:i.log_extra,web_url:i.url},this.extraData=e,\"/** extraData **/\"!=e){var a=\"string\"==typeof e?JSON.parse(e):e;this.is_first_page=a.first_page,this.platform=a.platform?a.platform:-1}},t.prototype.initAutofillInfo=function(t){this.autoFillInfo=\"string\"==typeof t?JSON.parse(t):t;var e=this.autoFillInfo;this.autoFillField=\"string\"==typeof e.contactInfoFields?JSON.parse(e.contactInfoFields):e.contactInfoFields,this.canUseContact=!1,this.canUsePayment=!1,this.canAutoFill=!1,this.switchAutoFill=!1,this.switchContact=!1,this.switchPayment=!1,this.canUseContact=0==e.contactInfoStatus&&this.autoFillField.length>0,this.canUsePayment=0==e.paymentInfoStatus,this.canAutoFill=this.canUseContact||this.canUsePayment,this.switchAutoFill=0==e.contactInfoStatus||0==e.paymentInfoStatus||2==e.paymentInfoStatus,this.switchContact=0==e.contactInfoStatus,this.switchPayment=0==e.paymentInfoStatus||2==e.paymentInfoStatus,this.enablePrefill=1===e.prefillStatus,console.log(\">>> initAutofillInfo enablePrefill:\",this.enablePrefill),this.contactInfo_status=e.contactInfoStatus,this.paymentInfo_status=e.paymentInfoStatus,this.is_pipo_update?(this.autoFillInfo.pipoPaymentInfoStatus=this.pipo_paymentInfo_status,this.autoFillInfo.pipoPaymentCount=this.pipo_payment_count):(this.pipo_paymentInfo_status=e.pipoPaymentInfoStatus,this.pipo_payment_count=e.pipoPaymentCount),this.paymentCount=e.paymentCount,0==e.paymentInfoStatus||0==this.pipo_paymentInfo_status?this.paymentField=this.Payment_Field:this.paymentField=[],this.is_need_popup=e.isNeedPopup,null!=this.is_need_popup&&null!=this.is_need_popup||(this.is_need_popup=!0),this.is_need_show_contactall=e.isNeedShowContactAll,this.fail_reason=e.failReason},t.prototype.updatePipoPaymentCount=function(t){this.is_pipo_update=!0;var e=\"string\"==typeof t?JSON.parse(t):t;1===e.is_success?(e.count>0?(this.pipo_paymentInfo_status=0,this.paymentField=this.Payment_Field):(this.pipo_paymentInfo_status=2,0!=this.paymentInfo_status&&(this.paymentField=[])),this.pipo_payment_count=e.count):this.pipo_paymentInfo_status=4,this.autoFillInfo.pipoPaymentInfoStatus=this.pipo_paymentInfo_status,this.autoFillInfo.pipoPaymentCount=this.pipo_payment_count},Object.defineProperty(t.prototype,\"jsInitTime\",{get:function(){return this._jsInitTime},set:function(t){this._jsInitTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"performance_time\",{get:function(){return this._performance_time},set:function(t){this._performance_time=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"mainframe_load\",{get:function(){return this._mainframe_load=this.performance_time.loadEventStart-this.performance_time.navigationStart,this._mainframe_load},set:function(t){this._mainframe_load=t},enumerable:!1,configurable:!0}),Object.defineProperty(t,\"ins\",{get:function(){return null==this._instance&&(this._instance=new t),this._instance},enumerable:!1,configurable:!0}),t}();!function(t){t.GET=\"get_autofill\",t.TRIGGER=\"trigger_autofill\",t.HANDSHAKE1=\"hand_shake1\",t.HANDSHAKE2=\"hand_shake2\",t.GET_SUBMIT=\"get_submit\",t.TRIGGER_SUBMIT=\"trigger_submit\",t.RECEIVE_SUBMIT=\"receive_submit\",t.TRIGGER_AUTOFILL_SUBMIT=\"trigger_autofill_success\",t.RECEIVE_AUTOFILL_SUBMIT=\"receive_autofill_success\",t.IFRAME_SUBMIT=\"iframe_submit\",t.AUTOFILL_POPUP_CHANGE=\"autofill_popup_change\",t.SET_IFRAME_DATA=\"set_iframe_data\",t.HANDSHANKE_TIMEOUT=\"handshake_timeout\",t.IFRAME_NO_SCOPE=\"iframe_no_scope\",t.IFRAME_HAVE_SCOPE=\"iframe_have_scope\",t.SET_FOCUS=\"set_focus\",t.RESET_DATA=\"reset_data\",t.IFRAME_TO_MAIN_SENDCLICK=\"iframe_to_main_sendclick\",t.MAIN_TO_IFRAME_REMOVESELECT=\"main_to_iframe_removeselect\",t.IFRAME_REQUEST_PREFILL=\"iframe_request_prefill\",t.IFRAME_EDIT_INPUT_INFO=\"iframe_edit_input_info\"}(o||(o={})),function(t){t.PENDING=\"pending\",t.FULFILLED=\"fulfilled\"}(s||(s={}));var r=function(){function a(){this.status=s.PENDING,this.origin=\"\",this.source=null,this.iframeSourceList=[],this.startTime=0,this.iframescope=[],this._isInit=!1,this._data=l.ins}return Object.defineProperty(a.prototype,\"iframeList\",{get:function(){return this.iframeSourceList},enumerable:!1,configurable:!0}),a.prototype.initHandshake=function(){return e(this,void 0,Promise,(function(){return i(this,(function(t){return this._isInit?[2]:(this._isInit=!0,this.startTime=(new Date).getTime(),window===window.top?[2,this.initMainFrameHandshake()]:[2,this.initIframeHandshake()])}))}))},a.prototype.initMainFrameHandshake=function(){var t=this;return new Promise((function(e){window.addEventListener(\"message\",t.handleMainFrameMessage.bind(t)),e()}))},a.prototype.initIframeHandshake=function(){var t=this;return new Promise((function(e,i){window.addEventListener(\"message\",t.handleIframeMessage.bind(t));var a=t._data.performance_time.loadEventStart-t._data.performance_time.navigationStart;t.polling(1,e,i,a)}))},a.prototype.polling=function(t,e,i,a){var n=this;if(void 0===t&&(t=1),Date.now()-this.startTime>3e4)return this.postMessageToMainFrame(o.HANDSHANKE_TIMEOUT,{iframescope:l.ins.iframeScope,load:a,url:window.location.href,path:new URL(window.location.href).pathname}),clearTimeout(this.pollingTimeoutId),void i();this.status!==s.FULFILLED?(this.postMessageToMainFrame(o.HANDSHAKE1,{iframescope:l.ins.iframeScope,load:a,url:window.location.href,path:new URL(window.location.href).pathname}),this.pollingTimeoutId=setTimeout((function(){n.polling(t+1,e,i,a)}),1e3)):clearTimeout(this.pollingTimeoutId)},a.prototype.handleMainFrameMessage=function(t){var e,i=t.data,a=t.origin,n=t.source;switch(i.event_name,i.event_name){case o.HANDSHAKE1:this.handleHandshake1(i,a,n);break;case o.GET:this.handleGet(i,a,n);break;case o.IFRAME_REQUEST_PREFILL:null===(e=this.onIframeRequestPrefill)||void 0===e||e.call(this,i,a,n);break;case o.RECEIVE_SUBMIT:this.handleReceiveSubmit(i);break;case o.TRIGGER_AUTOFILL_SUBMIT:this.handleTriggerAutofillSubmit(i);break;case o.IFRAME_SUBMIT:this.handleIframeSubmit();break;case o.AUTOFILL_POPUP_CHANGE:this.handleAutofillPopupChange(i);break;case o.HANDSHANKE_TIMEOUT:this.handleHandshakeTimeout(i,a);break;case o.IFRAME_NO_SCOPE:this.handleIframeNoScope(i,a);break;case o.IFRAME_HAVE_SCOPE:this.handleIframeHaveScope(i,a);break;case o.IFRAME_TO_MAIN_SENDCLICK:this.handleIframeSendClick(i);break;case o.IFRAME_EDIT_INPUT_INFO:this.handleIframeEditInputInfo(i)}},a.prototype.handleIframeMessage=function(t){var e,i,a,n,l,r,c,u=t.data;switch(u.event_name){case o.HANDSHAKE2:this.status===s.PENDING&&(this.status=s.FULFILLED,null===(e=this.onHandshake2Complete)||void 0===e||e.call(this,u));break;case o.TRIGGER:null===(i=this.onTrigger)||void 0===i||i.call(this,u);break;case o.SET_IFRAME_DATA:this._data.pipo_paymentInfo_status=u.pipo_paymentInfo_status,this._data.pipo_payment_count=u.pipo_payment_count,this._data.paymentField=u.paymentField,null===(a=this.onSetIframeData)||void 0===a||a.call(this,u);break;case o.GET_SUBMIT:null===(n=this.onGetSubmit)||void 0===n||n.call(this);break;case o.SET_FOCUS:null===(l=this.onSetFocus)||void 0===l||l.call(this);break;case o.RESET_DATA:null===(r=this.resetData)||void 0===r||r.call(this,u);break;case o.MAIN_TO_IFRAME_REMOVESELECT:null===(c=this.removeSelect)||void 0===c||c.call(this)}},a.prototype.handleHandshake1=function(t,e,i){var a;i&&e&&(this.iframeSourceList.some((function(t){return t.origin===e&&t.source===i}))||this.iframeSourceList.push({origin:e,source:i,iframescope:t.iframescope}));null==i||i.postMessage({event_name:o.HANDSHAKE2,autoFillInfo:this._data.autoFillInfo,adInfo:this._data.adInfo,extraData:this._data.extraData},e),null===(a=this.sendEventV3)||void 0===a||a.call(this,\"lp_have_iframe_info\",{iframe_scope:JSON.stringify(t.iframescope),iframe_load:t.load,hand_shake_time:(new Date).getTime()-l.ins.jsInitTime,origin:t.url,iframe_path:e+t.path})},a.prototype.handleGet=function(t,e,i){var a;this.source=i,this.origin=e,null===(a=this.onGet)||void 0===a||a.call(this,t,e,i)},a.prototype.handleReceiveSubmit=function(t){var e;null===(e=this.onReceiveSubmit)||void 0===e||e.call(this,t)},a.prototype.handleTriggerAutofillSubmit=function(t){var e,i;null===(e=this.sendEventV3)||void 0===e||e.call(this,\"lp_js_autofill_success\",t.point_data),null===(i=this.onTriggerAutofillSubmit)||void 0===i||i.call(this,t)},a.prototype.handleIframeSubmit=function(){var t;null===(t=this.onIframeSubmit)||void 0===t||t.call(this)},a.prototype.handleAutofillPopupChange=function(t){var e;null===(e=this.onAutofillPopupChange)||void 0===e||e.call(this,t)},a.prototype.handleHandshakeTimeout=function(t,e){var i;null===(i=this.sendEventV3)||void 0===i||i.call(this,\"lp_iframe_handshake_timeout\",{iframe_scope:JSON.stringify(t.iframescope),iframe_load:t.load,hand_shake_time:(new Date).getTime()-this._data.jsInitTime,origin:t.url,iframe_path:e+t.path})},a.prototype.handleIframeNoScope=function(t,e){var i;null===(i=this.sendEventV3)||void 0===i||i.call(this,\"lp_iframe_no_scope_info\",{autofill_scope_fields:JSON.stringify(t.all_autofill_scope),out_scope_input_fields:JSON.stringify(t.all_out_scope_autofill),origin:t.url,iframe_path:e+t.path})},a.prototype.handleIframeHaveScope=function(t,e){var i;null===(i=this.sendEventV3)||void 0===i||i.call(this,\"lp_iframe_have_scope_info\",{iframe_scope:JSON.stringify(t.iframescope),is_have_hiden_input:t.have_hiden,origin:t.url,iframe_path:e+t.path})},a.prototype.handleIframeSendClick=function(t){var e;null===(e=this.onIframeSendClick)||void 0===e||e.call(this,t)},a.prototype.handleIframeEditInputInfo=function(t){var e;null===(e=this.sendEventV3)||void 0===e||e.call(this,\"lp_edit_input_info\",t)},a.prototype.postMessageToIframes=function(e,i){this.iframeSourceList.forEach((function(a){var n=a.source,o=a.origin;o&&n&&(null==n||n.postMessage(t({event_name:e},i),o))}))},a.prototype.postMessageToMainFrame=function(e,i){var a;null===(a=window.top)||void 0===a||a.postMessage(t({event_name:e},i),\"*\")},a}(),c={first_name:[\"firstname\",\"first_name\",\"first name\",\"given_name\",\"given name\"],last_name:[\"lastname\",\"last_name\",\"last name\",\"family_name\",\"family name\"],email:[\"email\",\"mail\"],zip_code:[\"zip\",\"post\"],address:[\"address\"],city:[\"city\"],mobile:[\"phone\",\"tel\"],unit:[\"unit\",\"apartment\",\"suite\"],state:[\"province\",\"state\"],country:[\"country\"],cardNumber:[\"cc-number\"],exp_month:[\"cc-exp-month\"],exp_year:[\"cc-exp-year\"],exp_date:[\"cc-exp\"]},u={first_name:/given.*name|first.*name|fname/i,last_name:/family.*name|last.*name|lname/i,email:/e.?mail/i,zip_code:/zip|postal|post.*code/i,address:/address.*line|address.?1|addr.?1|street|address.*one/i,city:/city|town/i,mobile:/phone|tel|mobile|cell?ular/i,unit:/address.*line2|address.?2|addr.?2|suite|unit|apartment|address.*two/i,state:/region|province|state/i,country:/country/i,cardNumber:/^credit.*num.*$|^card.*num.*$|ccnum|^cc.*num.*$|source.*number/i,exp_month:/expiry.*month|card.*month|exp.*month|credit.*month/i,exp_year:/expiry.*year|card.*year|exp.*year|credit.*year/i,exp_date:/MM.*YY|cardExpiry|card.*validity|card.*expiry|expiryDate/i},f={first_name:/vorname|initials|first$|nombre|\u00d9\u2020\u00d8\u00a7\u00d9\u2026|forename|pr\u00c3\u00a9nom|prenom|\u00e0\u00a4\u00a8\u00e0\u00a4\u00be\u00e0\u00a4\u00ae|nama depan|\u00ec\u009d\u00b4\u00eb\u00a6\u201e|\u00e0\u00b4\u00aa\u00e0\u00b5\u2021\u00e0\u00b4\u00b0\u00e0\u00b5\u008d|\u00d0\u02dc\u00d0\u00bc\u00d1\u008f/i,last_name:/nachname|surname|last$|secondname|apellidos?|famille|\u00e0\u00a4\u2030\u00e0\u00a4\u00aa\u00e0\u00a4\u00a8\u00e0\u00a4\u00be\u00e0\u00a4\u00ae|nama belakang|cognome|\u00e0\u00b4\u00ae\u00e0\u00b4\u00b1\u00e0\u00b5\u0081\u00e0\u00b4\u00aa\u00e0\u00b5\u2021\u00e0\u00b4\u00b0\u00e0\u00b5\u008d|apelidos|surename|\u00d0\u00a4\u00d0\u00b0\u00d0\u00bc\u00d0\u00b8\u00d0\u00bb\u00d0\u00b8\u00d1\u008f|sobrenome|\u00d9\u2020\u00d8\u00a7\u00d9\u2026.*\u00d8\u00ae\u00d8\u00a7\u00d9\u2020\u00d9\u02c6\u00d8\u00a7\u00d8\u00af\u00da\u00af\u00db\u0152/i,email:/correo.*electr(o|\u00c3\u00b3)nico|courriel|\u00e0\u00a4\u02c6\u00e0\u00a4\u00ae\u00e0\u00a5\u2021\u00e0\u00a4\u00b2|\u00e0\u00a4\u2021\u00e0\u00a4\u00b2\u00e0\u00a5\u2026\u00e0\u00a4\u2022\u00e0\u00a5\u008d\u00e0\u00a4\u0178\u00e0\u00a5\u008d\u00e0\u00a4\u00b0\u00e0\u00a5\u2030\u00e0\u00a4\u00a8\u00e0\u00a4\u00bf\u00e0\u00a4\u2022.?\u00e0\u00a4\u00ae\u00e0\u00a5\u2021\u00e0\u00a4\u00b2|\u00e3\u0192\u00a1\u00e3\u0192\u00bc\u00e3\u0192\u00ab\u00e3\u201a\u00a2\u00e3\u0192\u2030\u00e3\u0192\u00ac\u00e3\u201a\u00b9|(?:\u00ec\u009d\u00b4\u00eb\u00a9\u201d\u00ec\u009d\u00bc|\u00ec \u201e\u00ec\u017e\u0090.?\u00ec\u0161\u00b0\u00ed\u017d\u00b8|[Ee]-?mail)(.?\u00ec\u00a3\u00bc\u00ec\u2020\u0152)?|\u00e0\u00b4\u2021-\u00e0\u00b4\u00ae\u00e0\u00b5\u2020\u00e0\u00b4\u00af\u00e0\u00b4\u00bf\u00e0\u00b4\u00b2\u00e0\u00b5\u008d\u00e2\u20ac\u008d|\u00e0\u00b4\u2021\u00e0\u00b4\u00b2\u00e0\u00b4\u2022\u00e0\u00b5\u008d\u00e0\u00b4\u0178\u00e0\u00b5\u008d\u00e0\u00b4\u00b0\u00e0\u00b5\u2039\u00e0\u00b4\u00a3\u00e0\u00b4\u00bf\u00e0\u00b4\u2022\u00e0\u00b5\u008d.?\u00e0\u00b4\u00ae\u00e0\u00b5\u2020\u00e0\u00b4\u00af\u00e0\u00b4\u00bf\u00e0\u00b5\u00bd|\u00d0\u00ad\u00d0\u00bb\u00d0\u00b5\u00d0\u00ba\u00d1\u201a\u00d1\u20ac\u00d0\u00be\u00d0\u00bd\u00d0\u00bd(\u00d0\u00b0\u00d1\u008f|\u00d0\u00be\u00d0\u00b9).?\u00d0\u0178\u00d0\u00be\u00d1\u2021\u00d1\u201a(\u00d0\u00b0|\u00d1\u2039)|\u00e9\u201a\u00ae\u00e4\u00bb\u00b6|\u00e9\u201a\u00ae\u00e7\u00ae\u00b1|\u00e9\u203a\u00bb\u00e5\u00ad\u0090\u00e9\u0192\u00b5\u00e4\u00bb\u00b6|\u00e9\u203a\u00bb\u00e9\u0192\u00b5\u00e5\u0153\u00b0\u00e5\u009d\u20ac|\u00e9\u203a\u00bb\u00e5\u00ad\u0090\u00e4\u00bf\u00a1\u00e7\u00ae\u00b1/i,zip_code:/pcode|pin.?code|\\\\bcp\\\\b|\u00e0\u00a4\u00aa\u00e0\u00a4\u00bf\u00e0\u00a4\u00a8.?\u00e0\u00a4\u2022\u00e0\u00a5\u2039\u00e0\u00a4\u00a1|kode.?pos|\u00e9\u0192\u00b5\u00e4\u00be\u00bf\u00e7\u2022\u00aa\u00e5\u008f\u00b7|\u00ec\u0161\u00b0\u00ed\u017d\u00b8.?\u00eb\u00b2\u02c6\u00ed\u02dc\u00b8|\u00e0\u00b4\u00aa\u00e0\u00b4\u00bf\u00e0\u00b4\u00a8\u00e0\u00b5\u008d\u00e2\u20ac\u008d\u00e0\u00b4\u2022\u00e0\u00b5\u2039\u00e0\u00b4\u00a1\u00e0\u00b5\u008d|kod.?pocztowy|codigo|codpos|\u00d0\u0178\u00d0\u00be\u00d1\u2021\u00d1\u201a\u00d0\u00be\u00d0\u00b2\u00d1\u2039\u00d0\u00b9.?\u00d0\u02dc\u00d0\u00bd\u00d0\u00b4\u00d0\u00b5\u00d0\u00ba\u00d1\u0081|\u00e9\u201a\u00ae\u00e6\u201d\u00bf\u00e7\u00bc\u2013\u00e7 \u0081|\u00e9\u201a\u00ae\u00e7\u00bc\u2013|\u00e9\u0192\u00b5\u00e9\u0081\u017e\u00e5\u008d\u20ac\u00e8\u2122\u0178/i,address:/(?:shipping|billing)address$|house.?name|strasse|stra\u00c3\u0178e|direcci[\u00c3\u00b3o]n.*1|^alamat|indirizzo|^\u00e4\u00bd\u008f\u00e6\u2030\u20ac$|\u00e4\u00bd\u008f\u00e6\u2030\u20ac1|^\u00ec\u00a3\u00bc\u00ec\u2020\u0152.?$|\u00ec\u00a3\u00bc\u00ec\u2020\u0152.?1|ulica|ulicy|morada|endere\u00c3\u00a7o|\u00d0\u0090\u00d0\u00b4\u00d1\u20ac\u00d0\u00b5\u00d1\u0081|\u00e5\u0153\u00b0\u00e5\u009d\u20ac|Direcci\u00c3\u00b3n Exacta/i,city:/suburb|\\\\bort\\\\b|stadt|ciudad|localidad|poblacion|\u00d8\u00b4\u00d9\u2021\u00d8\u00b1|ville|commune|\u00e0\u00a4\u00b6\u00e0\u00a4\u00b9\u00e0\u00a4\u00b0|\u00e0\u00a4\u2014\u00e0\u00a5\u008d\u00e0\u00a4\u00b0\u00e0\u00a4\u00be\u00e0\u00a4\u00ae|\u00e0\u00a4\u2014\u00e0\u00a4\u00be\u00e0\u00a4\u0081\u00e0\u00a4\u00b5|kota|kabupaten|citt[\u00c3 a]\\\\b|localita|\u00e5\u00b8\u201a\u00e5\u0152\u00ba\u00e7\u201d\u00ba\u00e6\u009d\u2018|^\u00ec\u2039\u0153[^\u00eb\u008f\u201e\u00c2\u00b7\u00e3\u0192\u00bb]|\u00ec\u2039\u0153[\u00c2\u00b7\u00e3\u0192\u00bb]?\u00ea\u00b5\u00b0[\u00c2\u00b7\u00e3\u0192\u00bb]?\u00ea\u00b5\u00ac|\u00e0\u00b4\u00a8\u00e0\u00b4\u2014\u00e0\u00b4\u00b0\u00e0\u00b4\u201a|\u00e0\u00b4\u2014\u00e0\u00b5\u008d\u00e0\u00b4\u00b0\u00e0\u00b4\u00be\u00e0\u00b4\u00ae\u00e0\u00b4\u201a|miasto|miejscowo\u00c5\u203a\u00c4\u2021|cidade|\u00d0\u201c\u00d0\u00be\u00d1\u20ac\u00d0\u00be\u00d0\u00b4|\u00d0\u009d\u00d0\u00b0\u00d1\u0081\u00d0\u00b5\u00d0\u00bb(\u00d0\u00b5|\u00d1\u2018)\u00d0\u00bd\u00d0\u00bd\u00d1\u2039\u00d0\u00b9.?\u00d0\u00bf\u00d1\u0192\u00d0\u00bd\u00d0\u00ba\u00d1\u201a|\u00e5\u00b8\u201a|\u00e5\u02c6\u2020\u00e5\u008d\u20ac/i,mobile:/contact.?number|telefonnummer|telefono|tel\u00c3\u00a9fono|telfixe|\u00e0\u00a4\u00ae\u00e0\u00a5\u2039\u00e0\u00a4\u00ac\u00e0\u00a4\u00be\u00e0\u00a4\u2021\u00e0\u00a4\u00b2|telepon|ponsel|\u00e9\u203a\u00bb\u00e8\u00a9\u00b1|(?:\u00ec \u201e\u00ed\u2122\u201d|\u00ed\u2022\u00b8\u00eb\u201c\u0153\u00ed\u008f\u00b0|\u00ed\u0153\u00b4\u00eb\u0152\u20ac\u00ed\u008f\u00b0|\u00ed\u0153\u00b4\u00eb\u0152\u20ac\u00ec \u201e\u00ed\u2122\u201d)(?:.?\u00eb\u00b2\u02c6\u00ed\u02dc\u00b8)?|\u00e0\u00b4\u00ae\u00e0\u00b5\u0160\u00e0\u00b4\u00ac\u00e0\u00b5\u02c6\u00e0\u00b4\u00b2\u00e0\u00b5\u008d\u00e2\u20ac\u008d|telefone|telemovel|\u00d1\u201a\u00d0\u00b5\u00d0\u00bb\u00d0\u00b5\u00d1\u201e\u00d0\u00be\u00d0\u00bd|\u00e7\u201d\u00b5\u00e8\u00af\u009d/i,unit:/adresszusatz|erg\u00c3\u00a4nzende.?angaben|adresszeile 2|direcci[\u00c3\u00b3o]n.*2|informaci[\u00c3\u00b3o]n\\\\s*adicional|complemento.*direcci[\u00c3\u00b3o]n|indirizzo2|\u00e4\u00bd\u008f\u00e6\u2030\u20ac2|\u00ec\u00a3\u00bc\u00ec\u2020\u0152.?2|\u00d0\u00a3\u00d0\u00bb\u00d0\u00b8\u00d1\u2020\u00d0\u00b0|\u00e5\u0153\u00b0\u00e5\u009d\u20ac2|Una referencia de la direccion/i,state:/zone|county|principality|\u00e0\u00a4\u00b0\u00e0\u00a4\u00be\u00e0\u00a4\u0153\u00e0\u00a5\u008d\u00e0\u00a4\u00af|\u00d0\u00be\u00d0\u00b1\u00d0\u00bb\u00d0\u00b0\u00d1\u0081\u00d1\u201a\u00d1\u0152|\u00e7\u0153\u0081|\u00e5\u0153\u00b0\u00e5\u008d\u20ac|provinsi|propinsi|estado|provincia|\u00e9\u0192\u00bd\u00e9\u0081\u201c\u00e5\u00ba\u0153\u00e7\u0153\u0152|\u00e0\u00b4\u00b8\u00e0\u00b4\u201a\u00e0\u00b4\u00b8\u00e0\u00b5\u008d\u00e0\u00b4\u00a5\u00e0\u00b4\u00be\u00e0\u00b4\u00a8\u00e0\u00b4\u201a|^\u00ec\u2039\u0153[\u00c2\u00b7\u00e3\u0192\u00bb]?\u00eb\u008f\u201e|\u00d8\u00a7\u00d8\u00b3\u00d8\u00aa\u00d8\u00a7\u00d9\u2020/i,country:/countries|pa\u00c3\u00ads|pais|negara|\u00e5\u203a\u00bd|\u00ea\u00b5\u00ad\u00ea\u00b0\u20ac|\u00eb\u201a\u02dc\u00eb\u009d\u00bc|\u00e5\u203a\u00bd\u00e5\u00ae\u00b6/i,cardNumber:/(?:card|cc|acct).?(?:number|#|no|num|field(?!s)|pan)|0000 ?0000 ?0000 ?0000|1234 ?1234 ?1234 ?1234|^xxxx ?xxxx ?xxxx ?xxxx$|no.*kartu|\u00e3\u201a\u00ab\u00e3\u0192\u00bc\u00e3\u0192\u2030\u00e7\u2022\u00aa\u00e5\u008f\u00b7|\u00ec\u00b9\u00b4\u00eb\u201c\u0153|\u00d0\u009d\u00d0\u00be\u00d0\u00bc\u00d0\u00b5\u00d1\u20ac.*\u00d0\u00ba\u00d0\u00b0\u00d1\u20ac\u00d1\u201a\u00d1\u2039|\u00e4\u00bf\u00a1\u00e7\u201d\u00a8\u00e5\u008d\u00a1\u00e5\u008f\u00b7|\u00e4\u00bf\u00a1\u00e7\u201d\u00a8\u00e5\u008d\u00a1\u00e5\u008d\u00a1\u00e8\u2122\u0178/i,exp_month:/\u00e6\u0153\u2030\u00e6\u2022\u02c6\u00e6\u0153\u0178\u00e2\u20ac\u201d\u00e2\u20ac\u201d\u00e6\u0153\u02c6/i,exp_year:/\u00e6\u0153\u2030\u00e6\u2022\u02c6\u00e6\u0153\u0178\u00e2\u20ac\u201d\u00e2\u20ac\u201d\u00e5\u00b9\u00b4/i,exp_date:/\u00e6\u0153\u2030\u00e6\u2022\u02c6\u00e6\u0153\u0178\u00e2\u20ac\u201d\u00e2\u20ac\u201d\u00e6\u2014\u00a5\u00e6\u0153\u0178/i},p={first_name:/First Name|\u00ec\u009d\u00b4\u00eb\u00a6\u201e|Pr\u00c3\u00a9nom|Vorname|Nome|\u00d0\u02dc\u00d0\u00bc\u00d1\u008f|Nombre|\u00e0\u00a4\u00a8\u00e0\u00a4\u00be\u00e0\u00a4\u00ae/i,last_name:/Last Name|Family Name|\u00ec\u201e\u00b1|Surname|Nachname|Cognome|\u00d0\u00a4\u00d0\u00b0\u00d0\u00bc\u00d0\u00b8\u00d0\u00bb\u00d0\u00b8\u00d1\u008f|Apellido|\u00e0\u00a4\u2030\u00e0\u00a4\u00aa\u00e0\u00a4\u00a8\u00e0\u00a4\u00be\u00e0\u00a4\u00ae/i,email:/Email|\u00e3\u0192\u00a1\u00e3\u0192\u00bc\u00e3\u0192\u00ab\u00e3\u201a\u00a2\u00e3\u0192\u2030\u00e3\u0192\u00ac\u00e3\u201a\u00b9|\u00ec\u009d\u00b4\u00eb\u00a9\u201d\u00ec\u009d\u00bc|E-mail|Courriel|E-Mail|Posta elettronica|\u00e0\u00a4\u02c6\u00e0\u00a4\u00ae\u00e0\u00a5\u2021\u00e0\u00a4\u00b2/i,zip_code:/Zip Code|Post Code|\u00e9\u0192\u00b5\u00e4\u00be\u00bf\u00e7\u2022\u00aa\u00e5\u008f\u00b7|Postleitzahl|Codice postale/i,address:/Address|\u00e4\u00bd\u008f\u00e6\u2030\u20ac|\u00ec\u00a3\u00bc\u00ec\u2020\u0152|Adresse|Indirizzo|\u00d0\u0090\u00d0\u00b4\u00d1\u20ac\u00d0\u00b5\u00d1\u0081|Direcci\u00c3\u00b3n/i,city:/City|\u00e5\u00b8\u201a|\u00e5\u00b8\u201a\u00e5\u0152\u00ba\u00e7\u201d\u00ba\u00e6\u009d\u2018|Ville|Stadt|Citt\u00c3 |\u00d0\u201c\u00d0\u00be\u00d1\u20ac\u00d0\u00be\u00d0\u00b4|Ciudad|\u00e0\u00a4\u00b6\u00e0\u00a4\u00b9\u00e0\u00a4\u00b0/i,mobile:/Phone|Mobile|Tel|\u00e9\u203a\u00bb\u00e8\u00a9\u00b1|\u00ed\u0153\u00b4\u00eb\u0152\u20ac\u00ed\u008f\u00b0|Telefon|Telefono|\u00d0\u00a2\u00d0\u00b5\u00d0\u00bb\u00d0\u00b5\u00d1\u201e\u00d0\u00be\u00d0\u00bd|Tel\u00c3\u00a9fono/i,unit:/Unit|Suite|\u00e4\u00bd\u008f\u00e6\u2030\u20ac3|\u00ec\u00a3\u00bc\u00ec\u2020\u0152|Appartement/i,state:/State|Province|\u00e9\u0192\u00bd\u00e9\u0081\u201c\u00e5\u00ba\u0153\u00e7\u0153\u0152|Estado|\u00e0\u00a4\u00b0\u00e0\u00a4\u00be\u00e0\u00a4\u0153\u00e0\u00a5\u008d\u00e0\u00a4\u00af/i,country:/Country|\u00e5\u203a\u00bd\u00e5\u00ae\u00b6|\u00eb\u201a\u02dc\u00eb\u009d\u00bc|Land|Pa\u00c3\u00ads/i,cardNumber:/Card Number|\u00e3\u201a\u00ab\u00e3\u0192\u00bc\u00e3\u0192\u2030\u00e7\u2022\u00aa\u00e5\u008f\u00b7/i,exp_month:/Expiry Month|\u00e6\u0153\u2030\u00e5\u0160\u00b9\u00e6\u0153\u0178\u00e9\u2122\u0090|\u00e6\u0153\u02c6/i,exp_year:/Expiry Year|\u00e6\u0153\u2030\u00e5\u0160\u00b9\u00e6\u0153\u0178\u00e9\u2122\u0090|\u00e5\u00b9\u00b4/i,exp_date:/Expiry Date|\u00e6\u0153\u2030\u00e5\u0160\u00b9\u00e6\u0153\u0178\u00e9\u2122\u0090/i},_=1,d=0;function h(t,e){void 0===e&&(e={});var i=function(t,e,i,a,n){void 0===a&&(a=!1);void 0===n&&(n={});var o=t.querySelectorAll(\"input\");a&&(o=t.querySelectorAll(\"input,select\"));for(var s=n,l=0;l<o.length;l++){var r=o[l];if(P(r,a)){var c=k(r);if(null!=c&&i.includes(c))!(null===r.value||\"\"===r.value||r.value.match(/^[ ]*$/))&&e||(s[c]?s[c].push(r):s[c]=[r])}}return s}(t,!1,Object.keys(c),!0),a=e,n=/^(\\+\\d+)?[-|\\s]?([\\d-\\s]{3,17})$/,o=/^(\\(\\d+\\))[-|\\s]?([\\d-\\s]{3,17})$/;for(var s in i){var l=void 0;if(l=\"mobile\"===s?i[s].find((function(t){return n.test(t.value)||o.test(t.value)})):\"email\"===s?i[s].find((function(t){return/^\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$/.test(t.value)})):i[s].find((function(t){return t.value})))if(\"mobile\"===s){var r=l.value;/^(\\(\\d+\\))[-|\\s]?([\\d-\\s]{3,17})$/.test(r)&&(r=(r=r.replace(\"(\",\"+\")).replace(\")\",\" \")),r=/^\\+\\d+$/.test(r)?r.replace(\"+\",\"\"):(r=(r=r.replace(/^(\\+\\d+)?[-|\\s]?([\\d-\\s]{3,17})$/,(function(t,e,i){return e?(\"0\"===e[1]&&(e=e.replace(\"+\",\"\")),e+\" \"+i.replace(/\\s/g,\"\")):i.replace(/\\s/g,\"\")}))).trimStart()).replace(/-/g,\"\"),a[s]=r}else a[s]=l.value}return a}function m(t){var e=[],i=[],a=[],n=[],o=[],s=t.form instanceof HTMLFormElement?t.form:null;if(!s){var l={id:t.id,type:t.type,placeholder:t.placeholder,name:t.name},r=E(t),c=null==r?void 0:r.key,u=null==r?void 0:r.is_new_regtags,f=null==r?void 0:r.is_new_attribute,p=null==r?void 0:r.recognition_type;return c?(a.push(c),e.push(l),\"cardNumber\"==c||\"exp_month\"==c||\"exp_year\"==c||\"exp_date\"==c?o.push(c):n.push(c)):i.push(l),{autofill_scope_fields:e,out_scope_input_fields:i,autofill_fields:a,paymentinfo_fileds:o,contactinfo_fileds:n,recognition_regtags_status:u,recognition_attribute_status:f,recognition_type:p}}return y(s)}function g(t){if(!t)return null;var e=A(t),i=T(t),a=M(t),n=a.key,o=B(t),s=o.key,l=e||n||i||s,r=null;return!l||!s||e||n||i||(r=o.recognition_type),{key:l,is_new_attribute:a.is_new_attribute,is_new_regtags:a.is_new_regtags,recognition_type:r}}function y(t,e){void 0===e&&(e=!1);var i,a,n=[],o=[],s=[],l=[],r=[],c=[],u=0,f=!1,p=!1,_=!1,d=!1,h=\"\",m=!1,y=t.querySelectorAll(\"input\");e&&(y=t.querySelectorAll(\"input, select\"));for(var b=0;b<y.length;b++){var S=y[b];if(x(S)){var w=g(S);f||(null==w?void 0:w.is_new_attribute)||(f=!0),!p&&(null==w?void 0:w.is_new_attribute)&&(p=!0),_||(null==w?void 0:w.is_new_regtags)||(_=!0),!d&&(null==w?void 0:w.is_new_regtags)&&(d=!0),\"label\"===(null==w?void 0:w.recognition_type)&&(m=!0);var I=null==w?void 0:w.key,k={id:S.id,type:S.type,placeholder:S.placeholder,name:S.name,aria_label:S[\"aria-label\"]?S[\"aria-label\"]:\"null\",aria_labelledby:S[\"aria-labelledby\"]?S[\"aria-labelledby\"]:\"null\",aria_description:S.aria_description?S.aria_description:\"null\"};L(S)&&(i=S,a=void 0,void 0,a=window.getComputedStyle(i),\"none\"!==a.display&&\"hidden\"!==a.visibility&&\"0\"!==a.opacity&&\"rect(0 0 0 0)\"!==a.clip&&\"rect(0px, 0px, 0px, 0px)\"!==a.clip)?I?(l.push(I),\"mobile\"===I&&(k.value=S.value.replace(/\\d/g,\"x\")),n.push(k),\"cardNumber\"==I||\"exp_month\"==I||\"exp_year\"==I||\"exp_date\"==I?c.push(I):r.push(I)):o.push(k):u=1}else{k={id:S.id,type:S.type,placeholder:S.placeholder,name:S.name,aria_label:S[\"aria-label\"]?S[\"aria-label\"]:\"null\",aria_labelledby:S[\"aria-labelledby\"]?S[\"aria-labelledby\"]:\"null\",aria_description:S.aria_description?S.aria_description:\"null\"};s.push(k)}}return m&&(h=\"label\"),{autofill_scope_fields:n,out_scope_input_fields:o,out_scope_form_input_fields:s,autofill_fields:l,paymentinfo_fileds:c,contactinfo_fileds:r,is_have_hiden:u,recognition_attribute_status:v(f,p),recognition_regtags_status:v(_,d),recognition_type:h}}function v(t,e){return t&&e?3:!t&&e?2:t&&!e?1:0}function b(t,e){try{var i=void 0;t instanceof HTMLInputElement&&(i=(Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,\"value\")||{}).set),i?i.call(t,e):t.value=e}catch(t){throw t}}function S(t,e){return Object.values(e).some((function(e){return e.includes(t)}))}function w(t,e,i,a,n){void 0===a&&(a=!1),void 0===n&&(n={});var o=t.querySelectorAll(\"input\");a&&(o=t.querySelectorAll(\"input,select\"));for(var s=n,l=0;l<o.length;l++){var r=o[l];if(P(r,a)){var c=k(r);if(null!=c&&i.includes(c))(null===r.value||\"\"===r.value||r.value.match(/^[ ]*$/)||e)&&(s[c]?s[c].push(r):s[c]=[r])}}return s}function I(t,e,i,a){void 0===a&&(a={});var n=a;if(P(t)){var o=k(t);if(null!=o&&i.includes(o))!(null===t.value||\"\"===t.value||t.value.match(/^[ ]*$/))&&e||(n[o]?n[o].push(t):n[o]=[t])}return n}function k(t){if(!t||!C(t))return null;var e=A(t),i=T(t),a=function(t){for(var e in u){if(N(t,u[e]))return e;if(O(t,f[e]).is_match)return e}return null}(t),n=B(t).key;return e||a||i||n}function E(t){if(!t||!C(t))return null;var e=A(t),i=T(t),a=M(t),n=a.key,o=B(t),s=o.key,l=e||n||i||s,r=null;return!l||!s||e||n||i||(r=o.recognition_type),{key:l,is_new_attribute:a.is_new_attribute,is_new_regtags:a.is_new_regtags,recognition_type:r}}function F(t,e){for(var i=[],a=[],n=[],o=[],s=[],r=!1,c=!1,u=!1,f=0,p=0,_=\"\",d=[],h=[],m=0;m<t.length;m++){var g=t[m],v=y(g,e),b=v.autofill_scope_fields,S=v.out_scope_input_fields,w=v.contactinfo_fileds,I=v.paymentinfo_fileds,k=v.out_scope_form_input_fields,E=v.recognition_attribute_status,F=v.recognition_regtags_status,A=v.autofill_fields,T=(v.is_have_hiden,v.recognition_type);w.find((function(t){return l.ins.autoFillField.find((function(e){return e===t}))}))&&0==l.ins.contactInfo_status&&(c=!0),I.length>0&&0==l.ins.paymentInfo_status&&(u=!0),r=c||u;var M=g.querySelectorAll(\"input\");h=h.concat(Array.from(M)),i=i.concat(b),a=a.concat(S),n=n.concat(w),o=o.concat(I),s=s.concat(k),d=d.concat(A),0==f?f=E:E!=f&&(f=3),0==p?p=F:F!=p&&(p=3),_=T}return{all_autofill_scope:i,all_out_scope_autofill:a,contactinfo_scope_fileds:n,paymentinfo_scope_fileds:o,out_scope_form_fields:s,support_autofill:r,support_contact:c,support_payment:u,recognition_attribute_status_:f,recognition_regtags_status_:p,autofill_fields_list:d,all_input_fields:h,have_hiden:0,recognition_type_:_}}function A(t){var e,i,n=t.getAttribute(\"autocomplete\");if(n&&\"none\"!==n&&\"false\"!==n&&\"off\"!==n){var o=n.split(/\\s+/);if(o)try{for(var s=a(o),l=s.next();!l.done;l=s.next()){var r=l.value;for(var u in c)if(c[u].includes(r))return u}}catch(t){e={error:t}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(e)throw e.error}}}return null}function T(t){return\"email\"===t.getAttribute(\"type\")?\"email\":null}function M(t){var e={key:null,is_new_regtags:!1,is_new_attribute:!1};for(var i in u){var a=O(t,u[i]);if(a.is_match)return e.is_new_attribute=a.is_new_attribute,e.is_new_regtags=!1,e.key=i,e;if(O(t,f[i]).is_match)return e.is_new_attribute=a.is_new_attribute,e.is_new_regtags=!0,e.key=i,e}return e}function N(t,e){for(var i=[\"name\",\"placeholder\",\"id\",\"aria-label\",\"aria-labelledby\",\"aria_description\"],a=0;a<i.length;++a){var n=i[a],o=t.getAttribute(n);if(o&&o.match(e))return!0}return!1}function O(t,e){for(var i=[\"name\",\"placeholder\",\"id\",\"aria-label\",\"aria-labelledby\",\"aria_description\"],a={is_new_attribute:!1,is_match:!1},n=0;n<i.length;++n){var o=i[n],s=t.getAttribute(o);if(s&&s.match(e))return a.is_match=!0,a.is_new_attribute=\"name\"!=o&&\"placeholder\"!=o&&\"id\"!=o,a}return a}function P(t,e){return void 0===e&&(e=!1),e?t instanceof HTMLInputElement||t instanceof HTMLSelectElement:t instanceof HTMLInputElement}function C(t){return!(!L(t)||!function(t){return t.tabIndex>=0}(t))&&x(t)}function x(t){var e=t.type||t.getAttribute(\"type\");return!(e&&![\"text\",\"email\",\"tel\"].includes(e))}function L(t){return null!==t.offsetParent}function J(t){return/^\\d*$/.test(t)}function B(t){var e,i,a={key:null,recognition_type:\"\"},n=t.closest(\"label\");if(n&&n.textContent&&(r=R(l=n.textContent.trim())))return a.key=r,a.recognition_type=\"label\",a;var o=t.previousElementSibling;if(o&&\"label\"===o.tagName.toLowerCase()&&((l=null===(e=o.textContent)||void 0===e?void 0:e.trim())&&(r=R(l))))return a.key=r,a.recognition_type=\"label\",a;var s=t.nextElementSibling;if(s&&\"label\"===s.tagName.toLowerCase()&&((l=null===(i=s.textContent)||void 0===i?void 0:i.trim())&&(r=R(l))))return a.key=r,a.recognition_type=\"label\",a;if(t.id){var l,r,c=(t.closest(\"form\")||document).querySelector(\'label[for=\"\'.concat(t.id,\'\"]\'));if(c&&c.textContent)if(r=R(l=c.textContent.trim()))return a.key=r,a.recognition_type=\"label\",a}return a}function R(t){for(var e in p)if(t.match(p[e]))return e;for(var e in u)if(t.match(u[e]))return e;return null}function j(t){var e=[];for(var i in t)e.includes(i)||e.push(i);return e}function D(t,e){var i,n;void 0===e&&(e=[\"first_name\",\"last_name\",\"address\",\"unit\",\"city\",\"zip_code\",\"country\",\"email\",\"mobile\"]);var o=[];try{for(var s=a(e),l=s.next();!l.done;l=s.next()){var r=l.value;t.includes(r)&&o.push(r)}}catch(t){i={error:t}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}new(function(){function c(t,e,i){var a,n,o,s;void 0===i&&(i={first_page:1,platform:-1}),this.executed=!1,this.iframescope=[],this.iframeDataList=[],this.selected=null,this.click_type=-1,this.showAutoFillPopup=!1,this.autoFillStatus=0,this.hasPrefilled=!1,this.prefillData=null,this.currentContactScopeFields=[],this.autofilledInputs=new Set,this.changeHandlers=new Map,this.autofill_type=null,this.version=\"version_20251225_0.4079558394716958\",this.js_from=\"cdn\",this.clickOrigin=null,this.clickSource=null,this.autofill_saved_data={},this.is_use_contact_autofill=0,this.is_use_payment_autofill=0,this._throttledHandleAutoFillRequest=(a=this.handleAutoFillRequest,n=100,o=this,s=!1,function(t){s||(a.call(o,t),s=!0,setTimeout((function(){s=!1}),n))}),this._clickData=null,this.all_input_fields=[],this.detected_forms=[],this.detected_input_fields=[],this._is_have_submit=!1,this.submitted=!1;try{console.log(\"version:\"+this.version),this.initAutofillInfo(t,e,i),this.iframeBridge=new r,this.addClickEvent(),this.addNativeUpdateEvent(),this.sendEventV3(\"lp_js_init_success\",{js_version:this.version,js_from:this.js_from})}catch(t){this.sendEventV3(\"lp_js_init_fail\",{code:0,fail_reason:JSON.stringify({fail_reason:t.message,stack:t.stack}),js_version:this.version,js_from:this.js_from})}}return c.prototype.initAutofillInfo=function(t,e,i){void 0===i&&(i={first_page:1,platform:-1}),l.ins.initAdInfo(t,i),this._data=l.ins,this.setAutofillInfo(e)},c.prototype.setAutofillInfo=function(t){var e=\"string\"==typeof t?JSON.parse(t):t;l.ins.initAutofillInfo(t);var i=null!=(null==e?void 0:e.prefillStatus)?e.prefillStatus:l.ins.enablePrefill?1:0,a=JSON.stringify(l.ins.autoFillField);this.sendEventV3(\"lp_prefill_callback\",{prefill_status:i,contactInfo_status:l.ins.contactInfo_status,contactInfo_fields:a})},c.prototype.initAutoFill=function(t){return e(this,void 0,void 0,(function(){var e,a,n,s,r,c,u,f,p,_,d,h;return i(this,(function(i){switch(i.label){case 0:return this.executed?[3,4]:window===window.top?[3,2]:(this.executed=!0,[4,(m=200,void 0===m&&(m=1e3),new Promise((function(t,e){setTimeout((function(){t()}),m)})))]);case 1:if(i.sent(),e=document.querySelectorAll(\"form\"),this.formList=e,a=Array.from(e),n=F(a),s=n.support_autofill,r=n.autofill_fields_list,c=n.all_out_scope_autofill,u=n.all_autofill_scope,f=n.have_hiden,this.iframescope=r,p=document.querySelectorAll(\"input\"),!s){for(_=[],d=0;d<p.length;d++)null===p[d].closest(\"form\")&&(h=k(p[d]))&&(_.push(h),this.iframescope.push(h));0===_.length&&this.iframeBridge.postMessageToMainFrame(o.IFRAME_NO_SCOPE,{all_out_scope_autofill:c,all_autofill_scope:u,url:window.location.href,path:new URL(window.location.href).pathname})}if(l.ins.iframeScope=this.iframescope,this.iframescope.length>0&&this.iframeBridge.postMessageToMainFrame(o.IFRAME_HAVE_SCOPE,{iframescope:this.iframescope,have_hiden:f,url:window.location.href,path:new URL(window.location.href).pathname}),p.length<1)return[2];i.label=2;case 2:return[4,this.handShake()];case 3:i.sent(),i.label=4;case 4:return window===window.top&&this.checkPageInfo(t),[2]}var m}))}))},c.prototype.checkPageInfo=function(t){var e=this,i=document.querySelectorAll(\"form\");if(this.formList=i,this.executed){var s=document.querySelectorAll(\"form\");if(function(t,e){var i,n,o=new Set(Array.from(t,(function(t){return t.outerHTML}))),s=new Set(Array.from(e,(function(t){return t.outerHTML})));if(o.size!==s.size)return!1;try{for(var l=a(o),r=l.next();!r.done;r=l.next()){var c=r.value;if(!s.has(c))return!1}}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=l.return)&&n.call(l)}finally{if(i)throw i.error}}return!0}(s,this.formList)&&this._data.mainframe_load>0)return;this.formList=s}else this.formList=document.querySelectorAll(\"form\");this.executed=!0;var l=F(Array.from(i)),r=l.all_autofill_scope,c=l.all_out_scope_autofill,u=l.contactinfo_scope_fileds,f=l.paymentinfo_scope_fileds,p=l.support_autofill,_=l.support_contact,d=l.support_payment,h=l.recognition_attribute_status_,m=l.recognition_regtags_status_,g=l.recognition_type_,y=u.filter((function(t){return\"string\"==typeof t}));this.currentContactScopeFields=D(y||[]),window===window.top&&this._data.enablePrefill&&!this.prefillData&&(console.log(\">>> autofill prefill start\"),this.hasPrefilled=!0,this.autofill_type=\"prefill\",window.JSBridge||n(),window.JSBridge.call(\"adAutofill\",{eventName:\"autofill\",params:{refer:\"autofill\",infoType:0,autofill_fields:this.currentContactScopeFields}},(function(){console.log(\">>> autofill prefill request sent\")})));var v=-1;\"complete\"===t?v=1:\"interactive\"===t&&(v=2);var b=document.querySelectorAll(\"iframe\"),S={autofill_scope_fields:JSON.stringify(r),out_scope_input_fields:JSON.stringify(c),support_autofill:p?1:0,support_contact:_?1:0,support_payment:d?1:0,contactinfo_scope_fileds:JSON.stringify(u),paymentinfo_scope_fileds:JSON.stringify(f),iframeList:b.length>0?1:0,report_from:t,report_time:v,mainframe_load:this._data.mainframe_load,recognition_attribute_status:h,recognition_regtags_status:m,recognition_type:g};2==this._data.platform&&window==window.top?(window.JSBridge||n(),window.JSBridge.call(\"getWebViewExtraInfo\",{test:\"t\"},(function(t){var i=\"string\"==typeof t?JSON.parse(t):t;e._data.is_first_page=i?i.first_page:-1,e.setAutofillInfo(i.autofillInfo),e.iframeBridge.postMessageToIframes(o.RESET_DATA,{info:i.autofillInfo}),e.sendEventV3(\"lp_inject_js_form_info\",S)}))):1==this._data.platform&&window==window.top&&this.sendEventV3(\"lp_inject_js_form_info\",S)},c.prototype.handShake=function(){var t=this;this.iframeBridge.initHandshake(),this.sendEventV3=this.sendEventV3.bind(this),this.iframeBridge.onHandshake2Complete=function(e){t.initAutofillInfo(e.adInfo,e.autoFillInfo,e.extraData),window!==window.top&&t._data.enablePrefill&&l.ins.iframeScope&&l.ins.iframeScope.length>0&&(console.log(\">>> iframe request prefill\"),t.iframeBridge.postMessageToMainFrame(o.IFRAME_REQUEST_PREFILL,{url:window.location.href,path:new URL(window.location.href).pathname}))},this.iframeBridge.removeSelect=function(){t.selected=null},this.iframeBridge.onGet=function(e,i,a){var n;t.clickOrigin&&t.clickSource&&(t.clickOrigin!=i||t.clickSource!=a)&&(null===(n=t.clickSource)||void 0===n||n.postMessage({event_name:o.MAIN_TO_IFRAME_REMOVESELECT},t.clickOrigin)),t.clickOrigin=i,t.clickSource=a,t.selected=null,t.click_type=e.click_type,t.clickTag=e.tag,0==e.support_autofill?t._data.noKeyReason=0:1==e.support_autofill?t._data.noKeyReason=2:2==e.support_autofill&&(t._data.noKeyReason=-1),e.isSelectEmpty?t.callJSBBridge(e.autofillFields,void 0,e.tag,e.click_type,e.field,1):t.sendTextClick(e.tag,e.autofillFields),t.sendEventV3(\"lp_click_input\",{report_time:2,support_autofill:e.pointData.support_autofill,click_input_status:e.pointData.click_input_status,is_should_detect:e.pointData.is_should_detect,can_autofill:e.pointData.can_autoFill,click_autofill_field:e.pointData.tag,is_field_include:e.pointData.is_field_include,is_value_empty:e.pointData.is_value_empty,is_in_iframe:1,autofill_field:e.tag,recognition_attribute_status:e.pointData.recognition_attribute_status,recognition_regtags_status:e.pointData.recognition_regtags_status,recognition_type:e.pointData.recognition_type})},this.iframeBridge.onTrigger=function(e){1==e.autofillData.isAutofillAll?t.insertInput(e.autofillData,t.selected):t.setSingleValue(e.autofillData),t.selected=null},this.iframeBridge.onSetFocus=function(){t.selected&&t.selected.focus()},this.iframeBridge.resetData=function(e){t.setAutofillInfo(e.info)},this.iframeBridge.onIframeSendClick=function(e){t.sendTextClick(e.tag,e.autofillFields)},this.iframeBridge.onGetSubmit=function(){var e;if(t.formList&&t.formList.length>0){var i=t.setSubmit(),a=i.contact_info,n=i.payment_info,s=i.autofill_scope_fields,l=i.out_scope_input_fields;null===(e=window.top)||void 0===e||e.postMessage({event_name:o.RECEIVE_SUBMIT,contact_info:a,payment_info:n,autofill_scope_fields:s,out_scope_input_fields:l},\"*\")}},this.iframeBridge.onReceiveSubmit=function(e){t.iframeDataList.push({contact_info:e.contact_info,payment_info:e.payment_info,autofill_scope_fields:e.autofill_scope_fields,out_scope_input_fields:e.out_scope_input_fields}),t.autofillFormSubmitCallback(t.event)},this.iframeBridge.onIframeSubmit=function(){t.throttledHandleAutoFillSubmit()},this.iframeBridge.sendEventV3=this.sendEventV3.bind(this),this.iframeBridge.onAutofillPopupChange=function(e){t.showAutoFillPopup=e.showAutoFillPopup},this.iframeBridge.onIframeRequestPrefill=function(e,i,a){console.log(\">>> mainframe recv prefill request\");var s,l;t.prefillData?(l=t.prefillData)&&l.contactInfo&&Object.keys(l.contactInfo).length>0?(s=t.prefillData,null==a||a.postMessage({event_name:o.TRIGGER,autofillData:s},i)):console.log(\">>> prefillData contactInfo empty, skip send\"):t._data.enablePrefill&&!t.hasPrefilled&&(t.hasPrefilled=!0,function(){window.JSBridge||n(),t.autofill_type=\"prefill\";var e=document.querySelectorAll(\"form\"),i=D(F(Array.from(e)).contactinfo_scope_fileds.filter((function(t){return\"string\"==typeof t}))||[]);window.JSBridge.call(\"adAutofill\",{eventName:\"autofill\",params:{refer:\"autofill\",infoType:0,autofill_fields:i}},(function(){console.log(\">>> mainframe prefill request sent\")}))}())}},c.prototype.throttledHandleAutoFillSubmit=function(t){void 0===t&&(t=null),this._is_have_submit||this.autofillFormSubmitCallback(t)},c.prototype.addNativeUpdateEvent=function(){window.__autoFillCallback__=this.autoFillCallback.bind(this),window.__AutoFillPopupClose__=this.AutoFillPopupClose.bind(this),window.__rejectUseAutofill__=this.rejectUseAutofill.bind(this),window.__updatePipoPaymentCount__=this.updatePipoPaymentCount.bind(this),window.__autoFillInfoChange__=this.autoFillInfoChange.bind(this),window.__shopifyNativeSubmit__=this.shopifyNativeSubmit.bind(this)},c.prototype.autoFillCallback=function(t){var e;console.log(\">>> autoFillDataJSON:\");try{var i=this.iframeBridge.iframeSourceList;if(window===window.top){try{var a=\"string\"==typeof t?JSON.parse(t):t;this.prefillData=a,this.hasPrefilled=!0,\"prefill\"!==this.autofill_type&&(this.autofill_type=\"autofill_agree\"),1==a.isAutofillAll?(console.log(\">>> autofill all\"),this.insertInput(t,this.selected)):(console.log(\">>> autofill single\"),this.selected&&this.setSingleValue(t)),this.selected=null}catch(t){this.sendEventV3(\"lp_js_run_fail\",{code:\"5\",fail_reason:JSON.stringify({msg:t.message,stack:t.stack})})}try{for(var n=0;n<i.length;n++)i[n].origin&&i[n].source&&(null===(e=i[n].source)||void 0===e||e.postMessage({event_name:o.TRIGGER,autofillData:t},i[n].origin))}catch(t){this.sendEventV3(\"lp_js_run_fail\",{code:\"5.1\",fail_reason:JSON.stringify({msg:t.message,stack:t.stack})})}}}catch(t){this.sendEventV3(\"lp_js_run_fail\",{code:\"2\",fail_reason:JSON.stringify({msg:t.message,stack:t.stack})})}},c.prototype.insertInput=function(t,e){var i,a=this,n={},s=\"string\"==typeof t?JSON.parse(t):t;if(!s.paymentInfo||\"\"!=s.paymentInfo.cardNumber&&null!=s.paymentInfo.cardNumber){s.contactInfo&&(this.autofill_saved_data.concat_info=s.contactInfo,this.is_use_contact_autofill=1),s.paymentInfo&&(this.autofill_saved_data.payment_info=s.paymentInfo,this.is_use_payment_autofill=1);var l=0,r=!0;if(n=s.contactInfo?s.contactInfo:s.paymentInfo,s.paymentInfo){var c=n.expiryTime.split(\"/\"),u=c[1].slice(-2),f=c[0]+\"/\"+u;n.exp_date=f,n.exp_month=c[0],n.exp_year=u}this.formList=document.querySelectorAll(\"form\");for(var p={},_=0;_<this.formList.length;_++)p=w(this.formList[_],!0,Object.keys(n),!1,p);var d=document.querySelectorAll(\"input\");for(_=0;_<d.length;_++)S(d[_],p)||(p=I(d[_],!0,Object.keys(n),p));var h=function(t){if(n[t]){var i=n[t];if(\"mobile\"===t){var o=i.split(/\\s+/);i=o[o.length-1]}p[t].forEach((function(t){t!==e&&t.value?(t===e&&t.value!=i||t.value!=i&&s.paymentInfo)&&(l+=1,b(t,i),setTimeout((function(){t.value=i}),0)):(l+=1,b(t,i),setTimeout((function(){t.value=i}),0),t.value!==i&&(r=!1)),t.dispatchEvent(new Event(\"input\",{bubbles:!0})),t.dispatchEvent(new Event(\"change\",{bubbles:!0})),t.dispatchEvent(new Event(\"click\",{bubbles:!0})),t.dispatchEvent(new Event(\"touchstart\",{bubbles:!0})),t.focus(),t.blur(),a.autofilledInputs.add(t),a.attachChangeListener(t)}))}};for(var g in p)h(g);var y=[],v=[];if(e){var k=m(e);y=k.autofill_scope_fields,v=k.out_scope_input_fields}var E=s.scene?s.scene:-1,F=s.isAutofillAll?s.isAutofillAll:-1,A=s.currentKey?s.currentKey:\"null\",T={popup_type:0,autofill_fields:s.autofillFields?s.autofillFields.toString():\"null\",user_autofill_fields:JSON.stringify(Object.keys(p)),autofill_scope_count:y.length,autofill_out_scope_count:v.length,autofill_count:l,autofill_success:r,infoType:this.click_type.toString(),autofill_key:j(p).toString(),input_key:j(p).toString(),scene:E.toString(),is_autofill_all:F,current_key:A,show_autofill_all:s.currentKey?1:0,no_key_reason:s.noKeyReason,autofill_type:this.autofill_type};window===window.top?(T.is_in_iframe=0,this.sendEventV3(\"lp_js_autofill_success\",T)):l>0&&(T.is_in_iframe=1,null===(i=window.top)||void 0===i||i.postMessage({event_name:o.TRIGGER_AUTOFILL_SUBMIT,point_data:T},\"*\")),this.autoFillStatus=1}},c.prototype.setSingleValue=function(t){var e,i=\"string\"==typeof t?JSON.parse(t):t,a=\"\",n=\"\";if(i.contactInfo?(n=Object.keys(i.contactInfo)[0],a=i.contactInfo[n]):i.paymentInfo&&(n=Object.keys(i.paymentInfo)[0],a=i.paymentInfo[n]),this.selected){var s=E(this.selected);i.currentKey&&i.currentKey;b(this.selected,a);var l=this.selected;setTimeout((function(){l.value=a,console.log(l.value)}),0);var r={input_key:n,autofill_key:null==s?void 0:s.key,scene:(i.scene?i.scene:-1).toString(),is_autofill_all:0,infoType:this.click_type.toString(),current_key:i.currentKey,no_key_reason:i.noKeyReason,show_autofill_all:i.currentKey?1:0,autofill_fields:i.autofillFields?i.autofillFields.toString():\"null\",autofill_type:this.autofill_type};window===window.top?this.sendEventV3(\"lp_js_autofill_success\",r):(r.is_in_iframe=1,null===(e=window.top)||void 0===e||e.postMessage({event_name:o.TRIGGER_AUTOFILL_SUBMIT,point_data:r},\"*\")),l.dispatchEvent(new Event(\"input\",{bubbles:!0})),l.dispatchEvent(new Event(\"change\",{bubbles:!0})),l.dispatchEvent(new Event(\"click\",{bubbles:!0})),l.dispatchEvent(new Event(\"touchstart\",{bubbles:!0})),this.selected.focus(),this.selected.blur(),this.autofilledInputs.add(l),this.attachChangeListener(l)}},c.prototype.updatePipoPaymentCount=function(t){l.ins.updatePipoPaymentCount(t),this.iframeBridge.postMessageToIframes(o.SET_IFRAME_DATA,{type:1,pipo_paymentInfo_status:this._data.pipo_paymentInfo_status,paymentField:this._data.paymentField,pipo_payment_count:this._data.pipo_payment_count})},c.prototype.shopifyNativeSubmit=function(){this.throttledHandleAutoFillSubmit()},c.prototype.AutoFillPopupClose=function(){this.showAutoFillPopup=!1},c.prototype.autoFillInfoChange=function(t){var e=\"string\"==typeof t?JSON.parse(t):t,i=e.autoFillInfo,a=e.changeFrom;this.setAutofillInfo(i),this.iframeBridge.postMessageToIframes(o.RESET_DATA,{info:i}),this.sendEventV3(\"lp_autofill_info_reset\",{change_from:a})},c.prototype.rejectUseAutofill=function(){this.selected&&this.selected.focus(),this.iframeBridge.postMessageToIframes(o.SET_FOCUS,{}),this._clickData&&window.JSBridge.call(\"iabEditTextClick\",this._clickData,(function(){}))},c.prototype.addClickEvent=function(){window.addEventListener(\"click\",this.onClick.bind(this)),window.addEventListener(\"focusin\",this.onClick.bind(this))},c.prototype.removeClickEvent=function(){window.removeEventListener(\"click\",this.onClick.bind(this)),window.removeEventListener(\"focusin\",this.onClick.bind(this))},c.prototype.throttledHandleAutoFillRequest=function(t){this._throttledHandleAutoFillRequest(t)},c.prototype.onClick=function(t){(window===window.top||window!==window.top&&this.iframeBridge.status===s.FULFILLED)&&this.throttledHandleAutoFillRequest(t)},c.prototype.onBlur=function(){this.selected=null},c.prototype.onChange=function(t){try{var e=null==t?void 0:t.target;if(!(!0===(null==t?void 0:t.isTrusted)))return;if(!e)return;if(!this.autofilledInputs.has(e))return;var i=E(e),a=(null==i?void 0:i.key)||\"\",n={autofill_key:a||\"\",input_value:e.value,input_name:e.name,input_id:e.id,input_placeholder:e.placeholder,autofill_type:this.autofill_type};window===window.top?this.sendEventV3(\"lp_edit_input_info\",n):(n.is_in_iframe=1,this.iframeBridge.postMessageToMainFrame(o.IFRAME_EDIT_INPUT_INFO,n))}catch(t){}},c.prototype.attachChangeListener=function(t){if(!this.changeHandlers.has(t)){var e=this.onChange.bind(this);t.addEventListener(\"change\",e),this.changeHandlers.set(t,e)}},c.prototype.handleAutoFillRequest=function(t){var e;try{var i=null==t?void 0:t.target;if(i&&P(i)&&(\"click\"==t.type||\"touchstart\"==t.type||\"focusin\"==t.type)){if(i.form instanceof HTMLFormElement){var a=i.form;a.removeEventListener(\"submit\",this.autofillFormSubmitCallback.bind(this)),a.addEventListener(\"submit\",this.autofillFormSubmitCallback.bind(this))}this.selected=i,this.clickOrigin&&this.clickSource&&(null===(e=this.clickSource)||void 0===e||e.postMessage({event_name:o.MAIN_TO_IFRAME_REMOVESELECT},this.clickOrigin),this.clickOrigin=null,this.clickSource=null);var n=E(i);this.clickHandle(n,i,t.type)}}catch(t){this.sendEventV3(\"lp_js_run_fail\",{js_fail_code:\"0\",fail_reason:JSON.stringify({fail_reason:t.message,stack:t.stack})})}},c.prototype.clickHandle=function(t,e,i){var a,n,s,l,r,c=null==t?void 0:t.key,u=(null==t?void 0:t.is_new_attribute)?2:1,f=(null==t?void 0:t.is_new_regtags)?2:1,p=[];if(this.click_type=-1,this.clickTag=c,c)if(\"cardNumber\"==c||\"exp_month\"==c||\"exp_year\"==c||\"exp_date\"==c){if(0!=this._data.paymentInfo_status&&0!=this._data.pipo_paymentInfo_status||(p=this._data.Payment_Field,this.click_type=_),!this._data.switchPayment)return this._data.noKeyReason=1,void(window===window.top?this.sendTextClick(null,[]):this.iframeBridge.postMessageToMainFrame(o.IFRAME_TO_MAIN_SENDCLICK,{tag:null,autofillFields:[]}))}else if(0==this._data.contactInfo_status&&(p=this._data.autoFillField,this.click_type=d),!this._data.switchContact)return this._data.noKeyReason=1,void(window===window.top?this.sendTextClick(null,[]):this.iframeBridge.postMessageToMainFrame(o.IFRAME_TO_MAIN_SENDCLICK,{tag:null,autofillFields:[]}));var h,m=function(t,e,i){var a={},n=t.form instanceof HTMLFormElement?t.form:null;if(!n){var o=k(t);return o&&i.includes(o)?(a[o]=[t],a):null}return w(n,e,i)}(this.selected,!1,p);this.allInputTagMap=m,c&&p.includes(c)&&(null===this.selected.value||\"\"===this.selected.value||this.selected.value.match(/^[ ]*$/))&&(h=this.detect(this.selected,this.click_type));var g={is_should_detect:Number(h),can_autoFill:Number(this._data.canAutoFill),tag:c,is_field_include:Number(p.includes(c)),is_value_empty:Number(null===this.selected.value||\"\"===this.selected.value||this.selected.value.match(/^[ ]*$/))},y=0,v=c;v?(y=1,this._data.noKeyReason=2,p.find((function(t){return t===v}))&&(y=2,this._data.noKeyReason=-1)):this._data.noKeyReason=0;var b={report_time:2,support_autofill:y,autofill_field:v||\"\",click_input_status:JSON.stringify({id:null===(a=this.selected)||void 0===a?void 0:a.id,type:null===(n=this.selected)||void 0===n?void 0:n.type,placeholder:null===(s=this.selected)||void 0===s?void 0:s.placeholder,name:null===(l=this.selected)||void 0===l?void 0:l.name}),is_should_detect:g.is_should_detect,can_autofill:g.can_autoFill,click_autofill_field:g.tag,is_field_include:g.is_field_include,is_value_empty:g.is_value_empty,is_in_iframe:0,recognition_attribute_status:u,recognition_regtags_status:f,recognition_type:null==t?void 0:t.recognition_type,event_type:i};this.sendNewInputLog(this.selected,g);var S=j(m);if(window!==window.top){var I=this.click_type;this.click_type==_&&(S=this._data.Payment_Field);var E;return E=null===this.selected.value||\"\"===this.selected.value||this.selected.value.match(/^[ ]*$/),void(null===(r=window.top)||void 0===r||r.postMessage({event_name:o.GET,autofillFields:S,click_type:I,field:p,tag:c,pointData:b,isSelectEmpty:E,support_autofill:y},\"*\"))}this.sendEventV3(\"lp_click_input\",b),h&&m&&0!==Object.keys(m).length&&this._data.canAutoFill&&c&&p.includes(c)&&(null===this.selected.value||\"\"===this.selected.value||this.selected.value.match(/^[ ]*$/))?this.callJSBBridge(j(m),this.selected,c,this.click_type,p,0,b):2==y?(S.includes(c)||S.push(c),this.sendTextClick(c,S)):(0==y&&(this._data.noKeyReason=0),this.sendTextClick(null,[]))},c.prototype.callJSBBridge=function(t,e,i,a,o,s,l){var r=this;if(void 0===i&&(i=\"\"),void 0===a&&(a=-1),t.length>0)if(!this.showAutoFillPopup&&this._data.switchAutoFill&&this._data.is_need_popup){window.JSBridge||n(),this.showAutoFillPopup=!0;var c=(new Date).getTime(),u=[];a==d&&(u=this._data.autoFillField),window.JSBridge.call(\"showAutofillPopup\",{popupType:0,autofillFields:t,contactInfoFields:u,popupJsbStartTime:c,infoType:a,autofillField:i,firstPage:this._data.is_first_page},(function(t){var i=t.code,a=(new Date).getTime();1===Number(i)?(r.autoFillStatus=2,r.showAutoFillPopup=!0,null==e||e.blur()):r.showAutoFillPopup=!1,t.show_autofill_code=t.code.toString(),t.msg||(t.msg=\"-1\"),t.show_fail_msg=t.msg,t.popup_type=0,t.cost=a-c,t.infoType=r.click_type.toString(),t.autofill_key=u,r.sendEventV3(\"lp_js_call_showAutofillPopup_jsb\",t)}))}else this.showAutoFillPopup||this.sendEventV3(\"lp_js_call_showAutofillPopup_jsb\",{code:0,msg:\"autofillPopup has show\"}),this._data.is_need_popup||this.sendEventV3(\"lp_popup_show\",{fail_reason:this._data.fail_reason});this.sendTextClick(i,t)},c.prototype.sendTextClick=function(t,e){var i=2;this.click_type!=_&&this.click_type!=d||(i=this.click_type);var a=[],o=[];this.click_type==d?(a=e,o=this._data.autoFillField):this.click_type==_&&(a=e,o=e);var s=D(this._data.is_need_show_contactall?o:a);t&&(this._data.noKeyReason=-1),this._clickData={identify:t?1:0,messageType:i,currentKey:t||\"\",autofillFields:s,noKeyReason:this._data.noKeyReason,messageField:t||\"\"},window.JSBridge||n(),window.JSBridge.call(\"iabEditTextClick\",this._clickData,(function(){}))},c.prototype.sendNewInputLog=function(t,e,i){var a=this;try{var n=!1,o=t.form instanceof HTMLFormElement?t.form:null;if(o){var s=o.getElementsByTagName(\"input\");Array.from(s).forEach((function(t){a.all_input_fields.includes(t)||(a.all_input_fields.push(t),n=!0)}))}else this.all_input_fields.includes(t)||(this.all_input_fields.push(t),n=!0);if(n){var l,r=m(t),c=r.autofill_scope_fields,u=r.out_scope_input_fields,f=(r.autofill_fields,r.paymentinfo_fileds),p=r.contactinfo_fileds,_=r.recognition_regtags_status,d=r.recognition_attribute_status,h=r.recognition_type,g=[],y=[],v=[],b=[],S=!1,w=!1;p.find((function(t){return a._data.autoFillField.find((function(e){return e===t}))}))&&0==this._data.contactInfo_status&&(S=!0),(f.length>0&&0==this._data.paymentInfo_status||0==this._data.pipo_paymentInfo_status)&&(w=!0),l=S||w,g=g.concat(c),y=y.concat(u),v=v.concat(p),b=b.concat(f),this.sendEventV3(\"lp_inject_js_form_info\",{autofill_scope_fields:JSON.stringify(g),out_scope_input_fields:JSON.stringify(y),support_autofill:l?1:0,support_contact:S?1:0,support_payment:w?1:0,contactinfo_scope_fileds:JSON.stringify(v),paymentinfo_scope_fileds:JSON.stringify(b),report_time:0,report_from:\"click\",mainframe_load:this._data.mainframe_load,recognition_regtags_status:_,recognition_attribute_status:d,recognition_type:h})}}catch(t){this.sendEventV3(\"lp_js_run_fail\",{js_fail_code:\"3\",fail_reason:JSON.stringify({fail_reason:t.message,stack:t.stack})})}},c.prototype.detect=function(t,e){var i,n,o,s,l=this;try{var r=t.form instanceof HTMLFormElement?t.form:null,c=!0;if(r)try{for(var u=a(this.detected_forms),f=u.next();!f.done;f=u.next()){if(f.value==r){!1;break}}}catch(t){i={error:t}}finally{try{f&&!f.done&&(n=u.return)&&n.call(u)}finally{if(i)throw i.error}}var p=!0;try{for(var _=a(this.detected_input_fields),d=_.next();!d.done;d=_.next()){if(d.value===t){p=!1,c=!1;break}}}catch(t){o={error:t}}finally{try{d&&!d.done&&(s=_.return)&&s.call(_)}finally{if(o)throw o.error}}if(r){this.detected_forms.push(r);var h=r.getElementsByTagName(\"input\");Array.from(h).filter((function(t){return C(t)})).forEach((function(t){!l.detected_input_fields.includes(t)&&function(t,e){var i=k(t);return 0==e?\"cardNumber\"!=i&&\"exp_month\"!=i&&\"exp_year\"!=i&&\"exp_date\"!=i:1==e?\"cardNumber\"==i||\"exp_month\"==i||\"exp_year\"==i||\"exp_date\"==i:void 0}(t,e)&&l.detected_input_fields.push(t)}))}return p&&this.detected_input_fields.push(t),c}catch(t){this.sendEventV3(\"lp_js_run_fail\",{js_fail_code:\"4\",fail_reason:JSON.stringify({fail_reason:t.message,stack:t.stack})})}},c.prototype.autofillFormSubmitCallback=function(t){var e,i,a=this;this.formList=document.querySelectorAll(\"form\"),this._is_have_submit=!0;try{if(window!==window.top)return void(null===(e=window.top)||void 0===e||e.postMessage({event_name:o.IFRAME_SUBMIT},\"*\"));if(this.iframeBridge.iframeSourceList.length>0&&0===this.iframeDataList.length){for(var s=0;s<this.iframeBridge.iframeSourceList.length;s++)null===(i=this.iframeBridge.iframeSourceList[s].source)||void 0===i||i.postMessage({event_name:o.GET_SUBMIT},this.iframeBridge.iframeSourceList[s].origin);return}if(this.iframeBridge.iframeSourceList.length>0&&this.iframeDataList.length>0&&this.iframeDataList.length!==this.iframeBridge.iframeSourceList.length)return;var l=this.setSubmit(),r=l.contact_info,c=l.payment,u=l.payment_info,f=l.infoType,p=l.autofillInputValues,_=l.autofill_scope_fields,d=l.out_scope_input_fields,h=!this.submitted;this.submitted=!0;var m=function(t,e,i){var a=[],n=i.contactInfo;if(null!=n&&null!=n)for(var o in n)t[o]&&t[o]!=n[o]&&a.push(o);var s=i.paymentInfo;if(null!=s&&null!=s)for(var o in s)e[o]&&e[o]!=s[o]&&a.push(o);return a}(r,u,this.autofill_saved_data);if(this.sendEventV3(\"lp_js_form_submission_action\",{autofill_scope_fields:JSON.stringify(_),out_scope_input_fields:JSON.stringify(d),autofill_valid_scope_fields:JSON.stringify(Object.keys(p)),autoFillStatus:this.autoFillStatus,first_submit:h?1:0,report_time:0,infoType:f,update_key:JSON.stringify(m),iframe_scope_length:this.iframeBridge.iframeSourceList.length,is_use_contact_autofill:this.is_use_contact_autofill,is_use_payment_autofill:this.is_use_payment_autofill,autofill_type:this.autofill_type}),!p||0===Object.keys(p).length)return;if(-1==f)return;if(!this.showAutoFillPopup&&this._data.switchAutoFill){window.JSBridge||n(),this.showAutoFillPopup=!0;var g=(new Date).getTime();window.JSBridge.call(\"showAutofillPopup\",{popupType:1,popupJsbStartTime:g,extraInfo:JSON.stringify({}),infoType:f,contactInfo:r,paymentInfo:c,firstPage:this._data.is_first_page},(function(t){var e=t.code,i=(new Date).getTime();t.cost=i-g,1===Number(e)?a.showAutoFillPopup=!0:a.showAutoFillPopup=!1,t.show_autofill_code=t.code.toString(),t.msg||(t.msg=\"-1\"),t.show_fail_msg=t.msg,t.popup_type=1,t.firstSubmit=h?1:0,t.infoType=f.toString(),a.sendEventV3(\"lp_js_call_showAutofillPopup_jsb\",t)}))}else this.sendEventV3(\"lp_js_call_showAutofillPopup_jsb\",{code:0,msg:\"autofillPopupHasShow\"})}catch(t){this.sendEventV3(\"lp_js_run_fail\",{js_fail_code:\"1\",fail_reason:JSON.stringify({fail_reason:t.message,stack:t.stack})})}},c.prototype.setSubmit=function(t){void 0===t&&(t=[]);for(var e=t.length>0?t:this.formList,i=[],a=[],n={},o=0;o<e.length;o++){n=h(e[o],n);var s=y(e[o]),l=s.autofill_scope_fields,r=s.out_scope_input_fields;i=i.concat(l),a=a.concat(r)}var c,u={},f={};for(var p in n)if(\"exp_date\"!=p)if(\"cardNumber\"!=p){if(\"exp_month\"!=p&&\"exp_year\"!=p)u[p]=n[p];else if(J(n[p].replace(/\\s+/g,\"\"))){d=n[p].replace(/\\s+/g,\"\");f[p]=d,\"exp_year\"==p&&(f[p]=2==d.length?\"20\"+d:d)}}else J(c=n[p].replace(/\\s+/g,\"\"))&&!(c.length<13||c.length>19)&&(f[p]=n[p].replace(/\\s+/g,\"\"));else{var _=n[p].split(\"/\"),d=_[0].replace(/\\s+/g,\"\");f.exp_month=d;var m=_[1].replace(/\\s+/g,\"\"),g=2==m.length?\"20\"+m:m;f.exp_year=g}if(this.iframeDataList.length>0)for(o=0;o<this.iframeDataList.length;o++){var v=this.iframeDataList[o].contact_info,b=this.iframeDataList[o].payment_info;if(v&&0!==Object.keys(v).length)for(var p in this.setObj(u,v),u)u.hasOwnProperty(p)&&!n.hasOwnProperty(p)&&(n[p]=u[p]);if(b&&0!==Object.keys(b).length)for(var p in this.setObj(f,b),f)f.hasOwnProperty(p)&&!n.hasOwnProperty(p)&&(n[p]=f[p]);i=i.concat(this.iframeDataList[o].autofill_scope_fields),a=a.concat(this.iframeDataList[o].out_scope_input_fields)}var S=function(t,e){var i=[],a=e.paymentInfo;if(null!=a&&null!=a)for(var n in a)t[n]&&t[n]!=a[n]&&i.push(n);return i.length>0}(f,this.autofill_saved_data),w=-1;3==Object.keys(f).length&&!S&&Object.keys(u).length>0?w=2:3==Object.keys(f).length&&S?w=1:Object.keys(u).length>0&&(w=0);var I,k={};if(f.cardNumber){var E=\"4\"==(I=f.cardNumber).substring(0,1)?\"VISA\":\"5\"==I.substring(0,1)?\"MASTER\":\"35\"==I.substring(0,2)?\"JBC\":\"34\"==I.substring(0,2)||\"37\"==I.substring(0,2)?\"AE\":\"DISCOVER\";k.cardNumber=f.cardNumber,k.cardType=E}if(f.exp_month&&f.exp_year){var F=f.exp_month+\"/\"+f.exp_year;k.expiryTime=F}return{contact_info:u,payment:k,payment_info:f,infoType:w,autofillInputValues:n,autofill_scope_fields:i,out_scope_input_fields:a}},c.prototype.setObj=function(t,e){for(var i in e)e.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=e[i])},c.prototype.sendEventV3=function(e,i,a){void 0===i&&(i={});try{if(window===window.top){var n=t({url:location.href,web_url:l.ins.adInfo.web_url,contactInfo_fields:JSON.stringify(l.ins.autoFillField),contactInfo_status:l.ins.contactInfo_status.toString(),paymentInfo_status:l.ins.paymentInfo_status.toString(),pipo_payment_info_status:l.ins.pipo_paymentInfo_status,pipo_card_count:l.ins.pipo_payment_count,pv_id:l.ins.pv_id,first_page:l.ins.is_first_page,iframe_scope_length:this.iframeBridge.iframeSourceList.length,autofill_card_count:l.ins.paymentCount,js_version:this.version,js_from:this.js_from,mainframe_load:l.ins.mainframe_load,ready_state:document.readyState},i);!function(t,e){var i,a=\"undefined\"!=typeof __PIA_WORKER__?new Function(\"return this\")():\"undefined\"!=typeof window?window:{};a.JS2NativeBridge&&a.JS2NativeBridge._invokeMethod?i=function(t){return a.JS2NativeBridge._invokeMethod(JSON.stringify(t))}:a.ToutiaoJSBridge&&a.ToutiaoJSBridge.invokeMethod?i=function(t){return a.ToutiaoJSBridge.invokeMethod(JSON.stringify(t))}:a.JS2NativeBridge&&a.JS2NativeBridge.call?i=function(t){return a.JS2NativeBridge.call(t.func,JSON.stringify(t))}:a.webkit&&a.webkit.messageHandlers&&a.webkit.messageHandlers.callMethodParams?i=function(t){a.webkit.messageHandlers.callMethodParams.postMessage(t)}:a.callMethodParams&&(i=function(t){return a.callMethodParams(t.func,t)}),i({func:t,params:e,JSSDK:\"2.0.0\",__msg_type:\"call\",__callback_id:\"-1\"})}(\"sendLog\",{labelName:e,eventName:\"ad_wap_stat\",is_ad_event:1,value:l.ins.adInfo.cid,extJson:{category:\"event_v3\",tag:\"ad_wap_stat\",refer:\"autofill\",nt:4,is_ad_event:1,value:l.ins.adInfo.cid,log_extra:l.ins.adInfo.log_extra,ad_extra_data:JSON.stringify(n)}})}}catch(t){}},c.prototype.addStateChange=function(){var t=this;document.addEventListener(\"readystatechange\",(function(){\"complete\"!==document.readyState&&\"interactive\"!==document.readyState||t.initAutoFill(document.readyState)}))},c.prototype.registerForPageComplete=function(){var t=this;try{if(window.__initAutoFill__)return;window.__initAutoFill__=!0,window===window.top?\"complete\"===document.readyState?this.initAutoFill(document.readyState):\"interactive\"===document.readyState?(this.initAutoFill(document.readyState),this.addStateChange()):this.addStateChange():\"complete\"===document.readyState?this.initAutoFill(document.readyState):document.addEventListener(\"readystatechange\",(function(){\"complete\"===document.readyState&&t.initAutoFill(document.readyState)}))}catch(t){this.sendEventV3(\"lp_js_init_fail\",{code:1,fail_reason:JSON.stringify({msg:t.message,stack:t.stack})})}},c}())(getClientContext().adInfo,getClientContext().autoFillInfo,getClientContext().extraData).registerForPageComplete()}();"

    invoke-virtual {v1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    return-object v0
.end method

.method public final LJI()Ljava/lang/String;
    .locals 1

    const-string v0, "_jsmanage_ad_autofill_seventhversion"

    return-object v0
.end method
