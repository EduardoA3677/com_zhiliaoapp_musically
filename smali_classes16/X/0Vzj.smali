.class public abstract LX/0Vzj;
.super LX/101b;
.source "SourceFile"


# direct methods
.method public constructor <init>()V
    .locals 0

    invoke-direct {p0}, LX/101b;-><init>()V

    return-void
.end method


# virtual methods
.method public final LIZ()Lcom/bytedance/hybrid/spark/security/web_js/setting/JSInjectConfig;
    .locals 14

    new-instance v1, Lcom/bytedance/hybrid/spark/security/web_js/setting/JSInjectConfig;

    const-string v2, "_jsmanage_ad_autofill_fifthversion"

    const-string v3, "custom_manual"

    const/4 v4, 0x1

    const-string v0, "."

    invoke-static {v0}, Ljava/util/Collections;->singletonList(Ljava/lang/Object;)Ljava/util/List;

    move-result-object v5

    sget-object v6, LX/0Pgk;->INSTANCE:LX/0Pgk;

    const-string v7, "https://lf16-gecko-source.tiktokcdn.com/obj/tiktok-teko-source-sg/tt/webview/js_manage/tiktok_webview_js_inject_manage/assets/js/ad_autofill_fifthversion.js"

    const/4 v8, 0x0

    const/4 v11, 0x0

    const/16 v12, 0x1c0

    move-object v9, v8

    move-object v10, v8

    move-object v13, v8

    invoke-direct/range {v1 .. v13}, Lcom/bytedance/hybrid/spark/security/web_js/setting/JSInjectConfig;-><init>(Ljava/lang/String;Ljava/lang/String;ILjava/util/List;Ljava/util/List;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;ZILkotlin/jvm/internal/DefaultConstructorMarker;)V

    return-object v1
.end method

.method public final LJ()Ljava/lang/String;
    .locals 2

    new-instance v1, Ljava/lang/StringBuilder;

    const v0, 0x10236

    invoke-direct {v1, v0}, Ljava/lang/StringBuilder;-><init>(I)V

    const-string v0, "!function(){\"use strict\";var t=function(){return(t=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var a in e=arguments[i])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)};function e(t,e,i,n){return new(i||(i=Promise))((function(a,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function r(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,r)}l((n=n.apply(t,e||[])).next())}))}function i(t,e){var i,n,a,o,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:r(0),throw:r(1),return:r(2)},\"function\"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function r(o){return function(r){return function(o){if(i)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(i=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(a=s.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{i=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,r])}}}function n(t){var e=\"function\"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&\"number\"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")}function a(t,e){var i=\"function\"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,a,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){a={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(a)throw a.error}}return s}function o(){console.log(\"bridge\");var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};function e(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}var i,n=function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var a in e=arguments[i])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)};!function(t){t[t.Failure=0]=\"Failure\",t[t.Success=1]=\"Success\",t[t.Unauthorized=-1]=\"Unauthorized\",t[t.NotExist=-2]=\"NotExist\"}(i||(i={}));var a=\"undefined\"==typeof __PIA_WORKER__?1023:1023e5,o=function(){function t(t){this.version=t.version||\"2.0.3\",this.nativeMethodInvoker=t.nativeMethodInvoker,this.nativeEventListener=t.nativeEventListener,this.scheme=t.scheme||\"nativeapp://\",this.dispatchMessagePath=t.dispatchMessagePath||\"dispatch_message/\",this.setResultPath=t.setResultPath||\"private/setresult/SCENE_FETCHQUEUE\",this.dispatchMessageIFrameId=t.dispatchMessageIFrameId||\"__JSBridgeIframe__\",this.setResultIFrameId=t.setResultIFrameId||\"__JSBridgeIframe_SetResult__\",this.listenNativeEvent=!0===t.listenNativeEvent,this.callbackId=a,this.callbackMap={},this.eventMap={},this.javascriptMessageQueue=[],this.callbackProcessor=t.callbackProcessor}return t.prototype.call=function(t,e,i,n){void 0===n&&(n=this.version);var a,o=this.version;if(t&&\"string\"==typeof t){\"object\"!=typeof e&&(e={}),\"string\"==typeof n?o=n||this.version:\"object\"==typeof n&&(a=n.namespace,o=n.sdkVersion||this.version);var s={func:t,params:e,JSSDK:o,__msg_type:\"call\",namespace:a};if(\"function\"==typeof i||void 0===i){var r=this.registerCallback(t,i);s.__callback_id=r}\"undefined\"==typeof __PIA_WORKER__&&window.parent!==window&&(s.__iframe_url=window.location.href),this.sendMessageToNative(s)}},t.prototype.on=function(t,e,i){if(void 0===i&&(i=!1),t&&\"string\"==typeof t&&\"function\"==typeof e){var n=this.registerCallback(t,e);return this.eventMap[t]=this.eventMap[t]||{},this.eventMap[t][n]={once:i},this.listenNativeEvent&&(this.nativeEventListener?this.nativeEventListener(t):this.call(\"addEventListener\",{name:t},null,{sdkVersion:1})),n}},t.prototype.once=function(t,e){return this.on(t,e,!0)},t.prototype.off=function(t,e){if(!t||\"string\"!=typeof t)return!0;var i=this.eventMap[t];return!i||\"object\"!=typeof i||!i.hasOwnProperty(e)||(this.deregisterCallback(e),delete i[e],!0)},t.prototype.trigger=function(t,e){return this.handleMessageFromNative({__msg_type:\"event\",__params:e,__event_id:t})},t.prototype.handleMessageFromNative=function(t){var e=this,i=t,n=String(i.__callback_id);if(this.callbackProcessor&&\"function\"==typeof this.callbackProcessor){var a=(this.callbackMap&&this.callbackMap[n]||{}).method;this.callbackProcessor(i,a)}var o=i.__params,s=String(i.__event_id||\"\"),r=i.__msg_type;this.callbackMap[n]?r=\"callback\":this.eventMap[n]&&(r=\"event\",s=s||n);var l={__err_code:\"cb404\"};switch(r){case\"callback\":var c=(this.callbackMap&&this.callbackMap[n]||{}).callback;\"function\"==typeof c&&(l=c(o)),this.deregisterCallback(n);break;case\"event\":var u=this.eventMap[s];u&&\"object\"==typeof u&&Object.keys(u).forEach((function(t){var i=(e.callbackMap&&e.callbackMap[t]||{}).callback,n=u[t];\"function\"==typeof i&&(l=i(o)),n&&n.once&&(e.deregisterCallback(t),delete u[t])}))}return l},t.prototype.fetchJavaScriptMessageQueue=function(){var t=JSON.stringify(this.javascriptMessageQueue),e=btoa(unescape(encodeURIComponent(t)));return this.setResultIFrame&&this.javascriptMessageQueue.length>0&&(this.setResultIFrame.src=\"\"+this.scheme+this.setResultPath+\"&\"+e),this.javascriptMessageQueue.splice(0,this.javascriptMessageQueue.length),t},t.prototype.sendMessageToNative=function(t){if(\"1\"!==String(t.JSSDK)&&this.nativeMethodInvoker){var e=this.nativeMethodInvoker(t);if(e){var i=JSON.parse(e);this.handleMessageFromNative(i)}}else this.javascriptMessageQueue.push(t),this.dispatchMessageIFrame||this.tryCreateIFrames(),this.dispatchMessageIFrame.src=\"\"+this.scheme+this.dispatchMessagePath},t.prototype.registerCallback=function(t,e){var i=String(this.callbackId++);return this.callbackMap[i]={method:t,callback:e},i},t.prototype.deregisterCallback=function(t){delete this.callbackMap[t]},t.prototype.tryCreateIFrames=function(){this.dispatchMessageIFrame=this.createIFrame(this.dispatchMessageIFrameId),this.setResultIFrame=this.createIFrame(this.setResultIFrameId)},t.prototype.createIFrame=function(t){var e=document.getElementById(t);return e&&\"IFRAME\"===e.tagName||((e=document.createElement(\"iframe\")).style.display=\"none\",e.id=t,document.documentElement.appendChild(e)),e},t}(),s=\"undefined\"!=typeof __PIA_WORKER__?new Function(\"return this\")():\"undefined\"!=typeof window?window:{},r=void 0!==s&&s.navigator?s.navigator.userAgent:\"\",l=(!!r.match(/(newsarticle|videoarticle|lv|faceu|ulike|beauty_me_|faceu-os|ulike-os|beauty_me_oversea_|retouch)\\/([\\d.]+)/i)||/super|automobile/gi.test(r))&&!/webcast/gi.test(r)&&!/luckycatversion/gi.test(r),c=!!r.match(/(faceu)\\/([\\d.]+)/i)||/gsdk/gi.test(r)||/PIANativeWorker/gi.test(r),u=!!r.match(/ttad\\/0/i),f=!!r.match(/aweme|trill|musical_ly|phoenix_\\d+|TikTokNow_\\d+|alligatortiktok/i),p=!!r.match(/live_stream/i),d=!!r.match(/Webcast/i),_=!!r.match(/super/i),h=!!r.match(/life_service_merchant/i),m=/super/gi.test(r);function g(){var t;if(l)return s.JSBridge&&s.JSBridge.on?t=s.JSBridge.on:s.JS2NativeBridge&&s.JS2NativeBridge.on?t=function(t){var e={JSSDK:\"2.2.17\",__msg_type:\"event\",__callback_id:t,func:t};s.JS2NativeBridge.on(t,JSON.stringify(e))}:s.webkit&&s.webkit.messageHandlers&&s.webkit.messageHandlers.onMethodParams?t=function(t){var e={JSSDK:\"2.2.17\",__msg_type:\"event\",__callback_id:t,func:t};s.webkit.messageHandlers.onMethodParams.postMessage(e)}:s.onMethodParams&&(t=function(t){var e={JSSDK:\"2.2.17\",__msg_type:\"event\",__callback_id:t,func:t};return s.onMethodParams(t,e)}),t}function v(t,e){if((\"string\"!=typeof e||!0!==/^(x|tc)\\./.test(e))&&(f||p||d||h)){var i=t.__params;s.JS2NativeBridge&&s.JS2NativeBridge._invokeMethod&&(t.__params=n({code:i.code},i.data))}}var y=function(t){function i(){var e=t.call(this,{version:\"2.2.17\",scheme:\"bytedance://\",listenNativeEvent:!0,dispatchMessageIFrameId:\"__JSBridgeIframe_1.0__\",setResultIFrameId:\"__JSBridgeIframe_SetResult_1.0__\",nativeEventListener:g(),callbackProcessor:v})||this;return e.publicApi={call:e.call.bind(e),on:e.on.bind(e),once:e.once.bind(e),off:e.off.bind(e),trigger:e.trigger.bind(e),_fetchQueue:e.fetchJavaScriptMessageQueue.bind(e),_handleMessageFromToutiao:e.handleMessageFromNative.bind(e)},e}return e(i,t),i.prototype.exposePublicApiToGlobal=function(){s.ToutiaoJSBridge=Object.assign(s.ToutiaoJSBridge||{},this.publicApi)},i}(o),b=function(t){function i(e){var i,n=t.call(this,{version:\"2.2.17\",nativeMethodInvoker:(s.JS2NativeBridge&&s.JS2NativeBridge._invokeMethod?i=function(t){return s.JS2NativeBridge._invokeMethod(JSON.stringify(t))}:s.ToutiaoJSBridge&&s.ToutiaoJSBridge.invokeMethod?i=function(t){return s.ToutiaoJSBridge.invokeMethod(JSON.stringify(t))}:s.JS2NativeBridge&&s.JS2NativeBridge.call?i=function(t){return s.JS2NativeBridge.call(t.func,JSON.stringify(t))}:s.webkit&&s.webkit.messageHandlers&&s.webkit.messageHandlers.callMethodParams?i=function(t){s.webkit.messageHandlers.callMethodParams.postMessage(t)}:s.callMethodParams&&(i=function(t){return s.callMethodParams(t.func,t)}),i),nativeEventListener:g(),scheme:_?\"bds://\":m?\"bytedance://\":l||s.JSBridge&&s.JSBridge._invokeMethod?\"nativeapp://\":\"bytedance://\",listenNativeEvent:l,callbackProcessor:v})||this;return n.toutiaoLegacyJSB=e,n.publicApi={call:n.call.bind(n),on:n.on.bind(n),once:n.once.bind(n),off:n.off.bind(n),trigger:n.trigger.bind(n),_fetchQueue:n.fetchJavaScriptMessageQueue.bind(n),_handleMessageFromApp:n.handleMessageFromNative.bind(n),_handleMessageFromToutiao:n.handleMessageFromNative.bind(n)},n}return e(i,t),i.prototype.call=function(e,i,n,a){void 0===a&&(a=\"2.2.17\"),this.isLegacyCall(e)?this.toutiaoLegacyJSB.call(e,i,n,a):t.prototype.call.call(this,e,i,n,a)},i.prototype.on=function(e,i,n,a){return void 0===n&&(n=!1),(a||{}).useLegacy||this.isLegacyCall(e)?this.toutiaoLegacyJSB.on(e,i,n):t.prototype.on.call(this,e,i,n)},i.prototype.once=function(e,i){return this.isLegacyCall(e)?this.toutiaoLegacyJSB.once(e,i):t.prototype.once.call(this,e,i)},i.prototype.off=function(e,i){return this.isLegacyCall(e)?this.toutiaoLegacyJSB.off(e,i):t.prototype.off.call(this,e,i)},i.prototype.trigger=function(e,i){return this.isLegacyCall(e)?this.toutiaoLegacyJSB.trigger(e,i):t.prototype.trigger.call(this,e,i)},i.prototype.exposePublicApiToGlobal=function(){var t=this;s.JSBridge=Object.assign(s.JSBridge||{},this.publicApi),s.__DISABLE_JSB_PROTOCAL2__||(s.Native2JSBridge=Object.assign(s.Native2JSBridge||{},this.publicApi)),m?s.ToutiaoJSBridge=Object.assign(s.ToutiaoJSBridge||{},this.publicApi):(l||u)&&this.toutiaoLegacyJSB?this.toutiaoLegacyJSB.exposePublicApiToGlobal():s.ToutiaoJSBridge=Object.assign(s.ToutiaoJSBridge||{},this.publicApi),s.parent!==s&&s.addEventListener&&s.addEventListener(\"message\",(function(e){e&&e.data&&e.data.__callback_id&&t.handleMessageFromNative(e.data)}),!1),Object.defineProperties(s,{JSBridge:{writable:!1},Native2JSBridge:{writable:!1},ToutiaoJSBridge:{writable:!1}}),Object.freeze(s.JSBridge),Object.freeze(s.Native2JSBridge),Object.freeze(s.ToutiaoJSBridge)},i.prototype.isLegacyCall=function(t){return!(!t||\"string\"!=typeof t||!this.toutiaoLegacyJSB)&&(!!u||!c&&!m&&(l&&t.indexOf(\".\")<0))},i}(o);function S(t,e){if(null==t)throw new TypeError(\"Cannot convert first argument to object\");for(var i=Object(t),n=1;n<arguments.length;n++){var a=arguments[n];if(null!=a)for(var o=Object.keys(Object(a)),s=0,r=o.length;s<r;s++){var l=o[s],c=Object.getOwnPropertyDescriptor(a,l);void 0!==c&&c.enumerable&&(i[l]=a[l])}}return i}({assign:S,polyfill:function(){Object.assign||Object.defineProperty(Object,\"assign\",{enumerable:!1,configurable:!0,writable:!0,value:S})}}).polyfill();var w=new b(new y);try{console.warn(\"[Bridge] This version has Break Change, please pay attention to compatibility, more details: https://zjsms.com/JXKorkC/\"),w.exposePublicApiToGlobal()}catch(t){console.warn(t.message)}}var s,r,l=function(){function t(){this.Payment_Field=[\"cardNumber\",\"exp_month\",\"exp_year\",\"exp_date\"],this.pv_id=(new Date).getTime()+Math.random().toString(36).slice(2),this.adInfo={cid:0,log_extra:\"\",web_url:\"\"},this.is_first_page=-1,this.autoFillInfo={},this.platform=-1,this.autoFillField=[],this.paymentField=[],this.switchAutoFill=!1,this.switchContact=!1,this.switchPayment=!1,this.contactInfo_status=-1,this.paymentInfo_status=-1,this.canUseContact=!1,this.canUsePayment=!1,this.canAutoFill=!1,this.is_pipo_update=!1,this.pipo_paymentInfo_status=-1,this.pipo_payment_count=0,this.is_need_popup=!0,this.is_need_show_contactall=!0,this.fail_reason=0,this.iframeScope=[],this.paymentCount=0,this.noKeyReason=-1,this._jsInitTime=0,this._mainframe_load=0,this.jsInitTime=(new Date).getTime(),this.performance_time=window.performance.timing}return t.prototype.initAdInfo=function(t,e){void 0===e&&(e={first_page:1,platform:-1});var i=\"string\"==typeof t?JSON.parse(t):t;if(this.adInfo={cid:i.cid||i.ad_id,log_extra:i.log_extra,web_url:i.url},this.extraData=e,\"/** extraData **/\"!=e){var n=\"string\"==typeof e?JSON.parse(e):e;this.is_first_page=n.first_page,this.platform=n.platform?n.platform:-1}},t.prototype.initAutofillInfo=function(t){this.autoFillInfo=\"string\"==typeof t?JSON.parse(t):t;var e=this.autoFillInfo;this.autoFillField=\"string\"==typeof e.contactInfoFields?JSON.parse(e.contactInfoFields):e.contactInfoFields,this.canUseContact=!1,this.canUsePayment=!1,this.canAutoFill=!1,this.switchAutoFill=!1,this.switchContact=!1,this.switchPayment=!1,this.canUseContact=0==e.contactInfoStatus&&this.autoFillField.length>0,this.canUsePayment=0==e.paymentInfoStatus,this.canAutoFill=this.canUseContact||this.canUsePayment,this.switchAutoFill=0==e.contactInfoStatus||0==e.paymentInfoStatus||2==e.paymentInfoStatus,this.switchContact=0==e.contactInfoStatus,this.switchPayment=0==e.paymentInfoStatus||2==e.paymentInfoStatus,this.contactInfo_status=e.contactInfoStatus,this.paymentInfo_status=e.paymentInfoStatus,this.is_pipo_update?(this.autoFillInfo.pipoPaymentInfoStatus=this.pipo_paymentInfo_status,this.autoFillInfo.pipoPaymentCount=this.pipo_payment_count):(this.pipo_paymentInfo_status=e.pipoPaymentInfoStatus,this.pipo_payment_count=e.pipoPaymentCount),this.paymentCount=e.paymentCount,0==e.paymentInfoStatus||0==this.pipo_paymentInfo_status?this.paymentField=this.Payment_Field:this.paymentField=[],this.is_need_popup=e.isNeedPopup,null!=this.is_need_popup&&null!=this.is_need_popup||(this.is_need_popup=!0),this.is_need_show_contactall=e.isNeedShowContactAll,this.fail_reason=e.failReason},t.prototype.updatePipoPaymentCount=function(t){this.is_pipo_update=!0;var e=\"string\"==typeof t?JSON.parse(t):t;1===e.is_success?(e.count>0?(this.pipo_paymentInfo_status=0,this.paymentField=this.Payment_Field):(this.pipo_paymentInfo_status=2,0!=this.paymentInfo_status&&(this.paymentField=[])),this.pipo_payment_count=e.count):this.pipo_paymentInfo_status=4,this.autoFillInfo.pipoPaymentInfoStatus=this.pipo_paymentInfo_status,this.autoFillInfo.pipoPaymentCount=this.pipo_payment_count},Object.defineProperty(t.prototype,\"jsInitTime\",{get:function(){return this._jsInitTime},set:function(t){this._jsInitTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"performance_time\",{get:function(){return this._performance_time},set:function(t){this._performance_time=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"mainframe_load\",{get:function(){return this._mainframe_load=this.performance_time.loadEventStart-this.performance_time.navigationStart,this._mainframe_load},set:function(t){this._mainframe_load=t},enumerable:!1,configurable:!0}),Object.defineProperty(t,\"ins\",{get:function(){return null==this._instance&&(this._instance=new t),this._instance},enumerable:!1,configurable:!0}),t}();!function(t){t.GET=\"get_autofill\",t.TRIGGER=\"trigger_autofill\",t.HANDSHAKE1=\"hand_shake1\",t.HANDSHAKE2=\"hand_shake2\",t.GET_SUBMIT=\"get_submit\",t.TRIGGER_SUBMIT=\"trigger_submit\",t.RECEIVE_SUBMIT=\"receive_submit\",t.TRIGGER_AUTOFILL_SUBMIT=\"trigger_autofill_success\",t.RECEIVE_AUTOFILL_SUBMIT=\"receive_autofill_success\",t.IFRAME_SUBMIT=\"iframe_submit\",t.AUTOFILL_POPUP_CHANGE=\"autofill_popup_change\",t.SET_IFRAME_DATA=\"set_iframe_data\",t.HANDSHANKE_TIMEOUT=\"handshake_timeout\",t.IFRAME_NO_SCOPE=\"iframe_no_scope\",t.IFRAME_HAVE_SCOPE=\"iframe_have_scope\",t.SET_FOCUS=\"set_focus\",t.RESET_DATA=\"reset_data\",t.IFRAME_TO_MAIN_SENDCLICK=\"iframe_to_main_sendclick\",t.MAIN_TO_IFRAME_REMOVESELECT=\"main_to_iframe_removeselect\"}(s||(s={})),function(t){t.PENDING=\"pending\",t.FULFILLED=\"fulfilled\"}(r||(r={}));var c=function(){function n(){this.status=r.PENDING,this.origin=\"\",this.source=null,this.iframeSourceList=[],this.startTime=0,this.iframescope=[],this._isInit=!1,this._data=l.ins}return Object.defineProperty(n.prototype,\"iframeList\",{get:function(){return this.iframeSourceList},enumerable:!1,configurable:!0}),n.prototype.initHandshake=function(){return e(this,void 0,Promise,(function(){return i(this,(function(t){return this._isInit?[2]:(this._isInit=!0,this.startTime=(new Date).getTime(),window===window.top?[2,this.initMainFrameHandshake()]:[2,this.initIframeHandshake()])}))}))},n.prototype.initMainFrameHandshake=function(){var t=this;return new Promise((function(e){window.addEventListener(\"message\",t.handleMainFrameMessage.bind(t)),e()}))},n.prototype.initIframeHandshake=function(){var t=this;return new Promise((function(e,i){window.addEventListener(\"message\",t.handleIframeMessage.bind(t));var n=t._data.performance_time.loadEventStart-t._data.performance_time.navigationStart;t.polling(1,e,i,n)}))},n.prototype.polling=function(t,e,i,n){var a=this;if(void 0===t&&(t=1),Date.now()-this.startTime>3e4)return this.postMessageToMainFrame(s.HANDSHANKE_TIMEOUT,{iframescope:l.ins.iframeScope,load:n,url:window.location.href,path:new URL(window.location.href).pathname}),clearTimeout(this.pollingTimeoutId),void i();this.status!==r.FULFILLED?(this.postMessageToMainFrame(s.HANDSHAKE1,{iframescope:l.ins.iframeScope,load:n,url:window.location.href,path:new URL(window.location.href).pathname}),this.pollingTimeoutId=setTimeout((function(){a.polling(t+1,e,i,n)}),1e3)):clearTimeout(this.pollingTimeoutId)},n.prototype.handleMainFrameMessage=function(t){var e=t.data,i=t.origin,n=t.source;switch(e.event_name,e.event_name){case s.HANDSHAKE1:this.handleHandshake1(e,i,n);break;case s.GET:this.handleGet(e,i,n);break;case s.RECEIVE_SUBMIT:this.handleReceiveSubmit(e);break;case s.TRIGGER_AUTOFILL_SUBMIT:this.handleTriggerAutofillSubmit(e);break;case s.IFRAME_SUBMIT:this.handleIframeSubmit();break;case s.AUTOFILL_POPUP_CHANGE:this.handleAutofillPopupChange(e);break;case s.HANDSHANKE_TIMEOUT:this.handleHandshakeTimeout(e,i);break;case s.IFRAME_NO_SCOPE:this.handleIframeNoScope(e,i);break;case s.IFRAME_HAVE_SCOPE:this.handleIframeHaveScope(e,i);break;case s.IFRAME_TO_MAIN_SENDCLICK:this.handleIframeSendClick(e)}},n.prototype.handleIframeMessage=function(t){var e,i,n,a,o,l,c,u=t.data;switch(u.event_name){case s.HANDSHAKE2:this.status===r.PENDING&&(this.status=r.FULFILLED,null===(e=this.onHandshake2Complete)||void 0===e||e.call(this,u));break;case s.TRIGGER:null===(i=this.onTrigger)||void 0===i||i.call(this,u);break;case s.SET_IFRAME_DATA:this._data.pipo_paymentInfo_status=u.pipo_paymentInfo_status,this._data.pipo_payment_count=u.pipo_payment_count,this._data.paymentField=u.paymentField,null===(n=this.onSetIframeData)||void 0===n||n.call(this,u);break;case s.GET_SUBMIT:null===(a=this.onGetSubmit)||void 0===a||a.call(this);break;case s.SET_FOCUS:null===(o=this.onSetFocus)||void 0===o||o.call(this);break;case s.RESET_DATA:null===(l=this.resetData)||void 0===l||l.call(this,u);break;case s.MAIN_TO_IFRAME_REMOVESELECT:null===(c=this.removeSelect)||void 0===c||c.call(this,u)}},n.prototype.handleHandshake1=function(t,e,i){var n;i&&e&&(this.iframeSourceList.some((function(t){return t.origin===e&&t.source===i}))||this.iframeSourceList.push({origin:e,source:i,iframescope:t.iframescope}));null==i||i.postMessage({event_name:s.HANDSHAKE2,autoFillInfo:this._data.autoFillInfo,adInfo:this._data.adInfo,extraData:this._data.extraData},e),null===(n=this.sendEventV3)||void 0===n||n.call(this,\"lp_have_iframe_info\",{iframe_scope:JSON.stringify(t.iframescope),iframe_load:t.load,hand_shake_time:(new Date).getTime()-l.ins.jsInitTime,origin:t.url,iframe_path:e+t.path})},n.prototype.handleGet=function(t,e,i){var n;this.source=i,this.origin=e,null===(n=this.onGet)||void 0===n||n.call(this,t,e,i)},n.prototype.handleReceiveSubmit=function(t){var e;null===(e=this.onReceiveSubmit)||void 0===e||e.call(this,t)},n.prototype.handleTriggerAutofillSubmit=function(t){var e,i;null===(e=this.sendEventV3)||void 0===e||e.call(this,\"lp_js_autofill_success\",t.point_data),null===(i=this.onTriggerAutofillSubmit)||void 0===i||i.call(this,t)},n.prototype.handleIframeSubmit=function(){var t;null===(t=this.onIframeSubmit)||void 0===t||t.call(this)},n.prototype.handleAutofillPopupChange=function(t){var e;null===(e=this.onAutofillPopupChange)||void 0===e||e.call(this,t)},n.prototype.handleHandshakeTimeout=function(t,e){var i;null===(i=this.sendEventV3)||void 0===i||i.call(this,\"lp_iframe_handshake_timeout\",{iframe_scope:JSON.stringify(t.iframescope),iframe_load:t.load,hand_shake_time:(new Date).getTime()-this._data.jsInitTime,origin:t.url,iframe_path:e+t.path})},n.prototype.handleIframeNoScope=function(t,e){var i;null===(i=this.sendEventV3)||void 0===i||i.call(this,\"lp_iframe_no_scope_info\",{autofill_scope_fields:JSON.stringify(t.all_autofill_scope),out_scope_input_fields:JSON.stringify(t.all_out_scope_autofill),origin:t.url,iframe_path:e+t.path})},n.prototype.handleIframeHaveScope=function(t,e){var i;null===(i=this.sendEventV3)||void 0===i||i.call(this,\"lp_iframe_have_scope_info\",{iframe_scope:JSON.stringify(t.iframescope),is_have_hiden_input:t.have_hiden,origin:t.url,iframe_path:e+t.path})},n.prototype.handleIframeSendClick=function(t){var e;null===(e=this.onIframeSendClick)||void 0===e||e.call(this,t)},n.prototype.postMessageToIframes=function(e,i){this.iframeSourceList.forEach((function(n){var a=n.source,o=n.origin;o&&a&&(null==a||a.postMessage(t({event_name:e},i),o))}))},n.prototype.postMessageToMainFrame=function(e,i){var n;null===(n=window.top)||void 0===n||n.postMessage(t({event_name:e},i),\"*\")},n}(),u={first_name:[\"firstname\",\"first_name\",\"first name\",\"given_name\",\"given name\"],last_name:[\"lastname\",\"last_name\",\"last name\",\"family_name\",\"family name\"],email:[\"email\",\"mail\"],zip_code:[\"zip\",\"post\"],address:[\"address\"],city:[\"city\"],mobile:[\"phone\",\"tel\"],unit:[\"unit\",\"apartment\",\"suite\"],state:[\"province\",\"state\"],country:[\"country\"],cardNumber:[\"cc-number\"],exp_month:[\"cc-exp-month\"],exp_year:[\"cc-exp-year\"],exp_date:[\"cc-exp\"]},f={first_name:/given.*name|first.*name|fname/i,last_name:/family.*name|last.*name|lname/i,email:/e.?mail/i,zip_code:/zip|postal|post.*code/i,address:/address.*line|address.?1|addr.?1|street|address.*one/i,city:/city|town/i,mobile:/phone|tel|mobile|cell?ular/i,unit:/address.*line2|address.?2|addr.?2|suite|unit|apartment|address.*two/i,state:/region|province|state/i,country:/country/i,cardNumber:/^credit.*num.*$|^card.*num.*$|ccnum|^cc.*num.*$|source.*number/i,exp_month:/expiry.*month|card.*month|exp.*month|credit.*month/i,exp_year:/expiry.*year|card.*year|exp.*year|credit.*year/i,exp_date:/MM.*YY|cardExpiry|card.*validity|card.*expiry/i},p={first_name:/sdjshdjhsakbcjdh666666/i,last_name:/sdjshdjhsakbcjdh666666/i,email:/sdjshdjhsakbcjdh666666/i,zip_code:/sdjshdjhsakbcjdh666666/i,address:/sdjshdjhsakbcjdh666666/i,city:/sdjshdjhsakbcjdh666666/i,mobile:/sdjshdjhsakbcjdh666666/i,unit:/sdjshdjhsakbcjdh666666/i,state:/sdjshdjhsakbcjdh666666/i,country:/sdjshdjhsakbcjdh666666/i,cardNumber:/sdjshdjhsakbcjdh666666/i,exp_month:/sdjshdjhsakbcjdh666666/i,exp_year:/sdjshdjhsakbcjdh666666/i,exp_date:/sdjshdjhsakbcjdh666666/i},d=1,_=0;function h(t,e){void 0===e&&(e={});var i=function(t,e,i,n,a){void 0===n&&(n=!1);void 0===a&&(a={});var o=t.querySelectorAll(\"input\");n&&(o=t.querySelectorAll(\"input,select\"));for(var s=a,r=0;r<o.length;r++){var l=o[r];if(j(l,n)){var c=k(l);if(null!=c&&i.includes(c))!(null===l.value||\"\"===l.value||l.value.match(/^[ ]*$/))&&e||(s[c]?s[c].push(l):s[c]=[l])}}return s}(t,!1,Object.keys(u),!0),n=e,a=/^(\\+\\d+)?[-|\\s]?([\\d-\\s]{3,17})$/,o=/^(\\(\\d+\\))[-|\\s]?([\\d-\\s]{3,17})$/;for(var s in i){var r=void 0;if(r=\"mobile\"===s?i[s].find((function(t){return a.test(t.value)||o.test(t.value)})):\"email\"===s?i[s].find((function(t){return/^\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$/.test(t.value)})):i[s].find((function(t){return t.value})))if(\"mobile\"===s){var l=r.value;/^(\\(\\d+\\))[-|\\s]?([\\d-\\s]{3,17})$/.test(l)&&(l=(l=l.replace(\"(\",\"+\")).replace(\")\",\" \")),l=/^\\+\\d+$/.test(l)?l.replace(\"+\",\"\"):(l=(l=l.replace(/^(\\+\\d+)?[-|\\s]?([\\d-\\s]{3,17})$/,(function(t,e,i){return e?(\"0\"===e[1]&&(e=e.replace(\"+\",\"\")),e+\" \"+i.replace(/\\s/g,\"\")):i.replace(/\\s/g,\"\")}))).trimStart()).replace(/-/g,\"\"),n[s]=l}else n[s]=r.value}return n}function m(t){var e=[],i=[],n=[],a=[],o=[],s=t.form instanceof HTMLFormElement?t.form:null;if(!s){var r={id:t.id,type:t.type,placeholder:t.placeholder,name:t.name},l=E(t),c=null==l?void 0:l.key,u=null==l?void 0:l.is_new_regtags,f=null==l?void 0:l.is_new_attribute;return c?(n.push(c),e.push(r),\"cardNumber\"==c||\"exp_month\"==c||\"exp_year\"==c||\"exp_date\"==c?o.push(c):a.push(c)):i.push(r),{autofill_scope_fields:e,out_scope_input_fields:i,autofill_fields:n,paymentinfo_fileds:o,contactinfo_fileds:a,recognition_regtags_status:u,recognition_attribute_status:f}}return v(s)}function g(t){if(!t)return null;var e=A(t),i=T(t),n=M(t),a=n.key;return{key:e||a||i,is_new_attribute:n.is_new_attribute,is_new_regtags:n.is_new_regtags}}function v(t,e){void 0===e&&(e=!1);var i,n,a=[],o=[],s=[],r=[],l=[],c=[],u=0,f=!1,p=!1,d=!1,_=!1,h=t.querySelectorAll(\"input\");e&&(h=t.querySelectorAll(\"input, select\"));for(var m=0;m<h.length;m++){var v=h[m];if(B(v)){var b=g(v);f||(null==b?void 0:b.is_new_attribute)||(f=!0),!p&&(null==b?void 0:b.is_new_attribute)&&(p=!0),d||(null==b?void 0:b.is_new_regtags)||(d=!0),!_&&(null==b?void 0:b.is_new_regtags)&&(_=!0);var S=null==b?void 0:b.key,w={id:v.id,type:v.type,placeholder:v.placeholder,name:v.name,aria_label:v[\"aria-label\"]?v[\"aria-label\"]:\"null\",aria_labelledby:v[\"aria-labelledby\"]?v[\"aria-labelledby\"]:\"null\",aria_description:v.aria_description?v.aria_description:\"null\"};J(v)&&(i=v,n=void 0,void 0,n=window.getComputedStyle(i),\"none\"!==n.display&&\"hidden\"!==n.visibility&&\"0\"!==n.opacity&&\"rect(0 0 0 0)\"!==n.clip&&\"rect(0px, 0px, 0px, 0px)\"!==n.clip)?S?(r.push(S),\"mobile\"===S&&(w.value=v.value.replace(/\\d/g,\"x\")),a.push(w),\"cardNumber\"==S||\"exp_month\"==S||\"exp_year\"==S||\"exp_date\"==S?c.push(S):l.push(S)):o.push(w):u=1}else{w={id:v.id,type:v.type,placeholder:v.placeholder,name:v.name,aria_label:v[\"aria-label\"]?v[\"aria-label\"]:\"null\",aria_labelledby:v[\"aria-labelledby\"]?v[\"aria-labelledby\"]:\"null\",aria_description:v.aria_description?v.aria_description:\"null\"};s.push(w)}}return{autofill_scope_fields:a,out_scope_input_fields:o,out_scope_form_input_fields:s,autofill_fields:r,paymentinfo_fileds:c,contactinfo_fileds:l,is_have_hiden:u,recognition_attribute_status:y(f,p),recognition_regtags_status:y(d,_)}}function y(t,e){return t&&e?3:!t&&e?2:t&&!e?1:0}function b(t,e){try{var i=void 0;t instanceof HTMLInputElement&&(i=(Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,\"value\")||{}).set),i?i.call(t,e):t.value=e}catch(t){throw t}}function S(t,e){return Object.values(e).some((function(e){return e.includes(t)}))}function w(t,e,i,n,a){void 0===n&&(n=!1),void 0===a&&(a={});var o=t.querySelectorAll(\"input\");n&&(o=t.querySelectorAll(\"input,select\"));for(var s=a,r=0;r<o.length;r++){var l=o[r];if(j(l,n)){var c=k(l);if(null!=c&&i.includes(c))(null===l.value||\"\"===l.value||l.value.match(/^[ ]*$/)||e)&&(s[c]?s[c].push(l):s[c]=[l])}}return s}function I(t,e,i,n){void 0===n&&(n={});var a=n;if(j(t)){var o=k(t);if(null!=o&&i.includes(o))!(null===t.value||\"\"===t.value||t.value.match(/^[ ]*$/))&&e||(a[o]?a[o].push(t):a[o]=[t])}return a}function k(t){if(!t||!P(t))return null;var e=A(t),i=T(t),n=function(t){for(var e in f)if(O(t,f[e]))return e;return null}(t);return e||n||i}function E(t){if(!t||!P(t))return null;var e=A(t),i=T(t),n=M(t),a=n.key;return{key:e||a||i,is_new_attribute:n.is_new_attribute,is_new_regtags:n.is_new_regtags}}function F(t,e){for(var i=[],n=[],a=[],o=[],s=[],r=!1,c=!1,u=!1,f=0,p=0,d=[],_=[],h=0;h<t.length;h++){var m=t[h],g=v(m,e),y=g.autofill_scope_fields,b=g.out_scope_input_fields,S=g.contactinfo_fileds,w=g.paymentinfo_fileds,I=g.out_scope_form_input_fields,k=g.recognition_attribute_status,E=g.recognition_regtags_status,F=g.autofill_fields;g.is_have_hiden;S.find((function(t){return l.ins.autoFillField.find((function(e){return e===t}))}))&&0==l.ins.contactInfo_status&&(c=!0),w.length>0&&0==l.ins.paymentInfo_status&&(u=!0),r=c||u;var A=m.querySelectorAll(\"input\");_=_.concat(Array.from(A)),i=i.concat(y),n=n.concat(b),a=a.concat(S),o=o.concat(w),s=s.concat(I),d=d.concat(F),0==f?f=k:k!=f&&(f=3),0==p?p=E:E!=p&&(p=3)}return{all_autofill_scope:i,all_out_scope_autofill:n,contactinfo_scope_fileds:a,paymentinfo_scope_fileds:o,out_scope_form_fields:s,support_autofill:r,support_contact:c,support_payment:u,recognition_attribute_status_:f,recognition_regtags_status_:p,autofill_fields_list:d,all_input_fields:_,have_hiden:0}}function A(t){var e,i,a=t.getAttribute(\"autocomplete\");if(a&&\"none\"!==a&&\"false\"!==a&&\"off\"!==a){var o=a.split(/\\s+/);if(o)try{for(var s=n(o),r=s.next();!r.done;r=s.next()){var l=r.value;for(var c in u)if(u[c].includes(l))return c}}catch(t){e={error:t}}finally{try{r&&!r.done&&(i=s.return)&&i.call(s)}finally{if(e)throw e.error}}}return null}function T(t){return\"email\"===t.getAttribute(\"type\")?\"email\":null}function M(t){var e={key:null,is_new_regtags:!1,is_new_attribute:!1};for(var i in f){var n=N(t,f[i]);if(n.is_match)return e.is_new_attribute=n.is_new_attribute,e.is_new_regtags=!1,e.key=i,e;if(N(t,p[i]).is_match)return e.is_new_attribute=n.is_new_attribute,e.is_new_regtags=!0,e.key=i,e}return e}function O(t,e){for(var i=[\"name\",\"placeholder\",\"id\",\"aria-label\",\"aria-labelledby\",\"aria_description\"],n=0;n<i.length;++n){var a=i[n],o=t.getAttribute(a);if(o&&o.match(e))return!0}return!1}function N(t,e){for(var i=[\"name\",\"placeholder\",\"id\",\"aria-label\",\"aria-labelledby\",\"aria_description\"],n={is_new_attribute:!1,is_match:!1},a=0;a<i.length;++a){var o=i[a],s=t.getAttribute(o);if(s&&s.match(e))return n.is_match=!0,n.is_new_attribute=\"name\"!=o&&\"placeholder\"!=o&&\"id\"!=o,n}return n}function j(t,e){return void 0===e&&(e=!1),e?t instanceof HTMLInputElement||t instanceof HTMLSelectElement:t instanceof HTMLInputElement}function P(t){return!(!J(t)||!function(t){return t.tabIndex>=0}(t))&&B(t)}function B(t){var e=t.type||t.getAttribute(\"type\");return!(e&&![\"text\",\"email\",\"tel\"].includes(e))}function J(t){return null!==t.offsetParent}function R(t){return/^\\d*$/.test(t)}function L(t){var e=[];for(var i in t)e.includes(i)||e.push(i);return e}var C=function(){function t(){}return t.normalize=function(t){try{var e=new URL(t),i=e.pathname;return i.length>1&&i.endsWith(\"/\")&&(i=i.replace(/\\/+$/,\"\")),\"\".concat(e.protocol,\"//\").concat(e.host).concat(i)}catch(e){return t}},t.generateUrlPrefixes=function(t){try{for(var e=new URL(t),i=\"\".concat(e.protocol,\"//\").concat(e.host),n=e.pathname.split(\"/\").filter(Boolean),a=[i],o=0;o<n.length;o++){var s=n.slice(0,o+1).join(\"/\");a.push(\"\".concat(i,\"/\").concat(s))}return a}catch(e){return[this.normalize(t)]}},t.matchRule=function(t,e){var i,a,o,s,r=this;if(!e||0===e.length)return null;var l=new Map;try{for(var c=n(e),u=c.next();!u.done;u=c.next()){var f=u.value;if(null==f?void 0:f.short_url){var p=this.normalize(f.short_url),d=l.get(p);d?d.push(f):l.set(p,[f])}}}catch(t){i={error:t}}finally{try{u&&!u.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}var _=this.generateUrlPrefixes(t).map((function(t){return r.normalize(t)})),h=[];try{for(var m=n(_),g=m.next();!g.done;g=m.next()){var v=g.value,y=l.get(v)||[];if(1===y.length)return y[0];y.length>1&&(h=y)}}catch(t){o={error:t}}finally{try{g&&!g.done&&(s=m.return)&&s.call(m)}finally{if(o)throw o.error}}if(h.length>0){var b=h.sort((function(t,e){var i=t.short_url?r.normalize(t.short_url).length:0;return(e.short_url?r.normalize(e.short_url).length:0)-i}));return console.log(\">>> \u8930\u64b3\u58a0\u9356\u5f52\u53a4\u9352\u626e\u6b91 url\"),b[0]}return null},t}(),x=function(){function o(){this.rules=[],this.initialized=!1,this.currentRule=null,this.preRecognizedElements={},this.isPreRecognitionComplete=!1}return o.prototype.initializeForCurrentPage=function(){return e(this,void 0,Promise,(function(){var t,e,n;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),t=window.location.href,e=this,[4,this.getRuleByUrl(t)];case 1:return e.currentRule=i.sent(),this.currentRule?console.log(\"AI recognition rule found for current page:\",this.currentRule):console.log(\"No AI recognition rule found for current page\"),[3,3];case 2:return n=i.sent(),console.error(\"Failed to initialize AI recognition for current page:\",n),[3,3];case 3:return[2]}}))}))},o.prototype.getRuleByUrl=function(t){return e(this,void 0,Promise,(function(){return i(this,(function(e){return[2,C.matchRule(t,this.rules)||null]}))}))},o.prototype.processCurrentPage=function(t){return e(this,void 0,Promise,(function(){var e,n=this;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),this.rules=Array.isArray(t)?t:[],this.initialized=!0,[4,this.initializeForCurrentPage()];case 1:return i.sent(),setTimeout((function(){n.performBatchRecognition()}),100),[3,3];case 2:return e=i.sent(),console.error(\"processCurrentPage failed:\",e),[3,3];case 3:return[2]}}))}))},o.prototype.getElementByFieldName=function(t,e){var i=e||this.currentRule||void 0;if(!i)return null;var n=(\"string\"==typeof i.structure?JSON.parse(i.structure):{}).form[t]||{};if(!n)return null;try{var a;if(n.selector_rule)if(a=document.querySelector(n.selector_rule))return a;if(n.id)if(a=document.getElementById(n.id))return a;return null}catch(e){return console.error(\"Error finding element for field \".concat(t,\":\"),e),null}},o.prototype.getAllMatchingElements=function(t){var e=t||this.currentRule||void 0;if(!e)return{};var i=\"string\"==typeof e.structure?JSON.parse(e.structure):{},n={};for(var a in i.form){var o=this.getElementByFieldName(a,e);o&&(n[a]=o)}return n},o.prototype.getAITagFromInput=function(t){if(!this.currentRule)return null;var e=\"string\"==typeof this.currentRule.structure?JSON.parse(this.currentRule.structure):{};for(var i in e.form){var n=e.form[i];if(n&&this.isElementMatchingRule(t,n))return i}return null},o.prototype.isElementMatchingRule=function(t,e){try{return!(!e.id||t.id!==e.id)||!!e.selector_rule&&t.matches(e.selector_rule)}catch(t){return console.error(\"Error matching element with rule:\",t),!1}},o.prototype.performBatchRecognition=function(){return e(this,void 0,Promise,(function(){var e;return i(this,(function(i){if(!this.initialized||!this.currentRule)return console.log(\"AI recognition not initialized or no matching rule found\"),[2];try{this.preRecognizedElements={},e=this.getAllMatchingElements(this.currentRule||void 0),this.preRecognizedElements=t({},e),this.isPreRecognitionComplete=!0,console.log(\"Batch AI recognition completed, found elements:\",Object.keys(this.preRecognizedElements))}catch(t){console.error(\"Batch AI recognition failed:\",t),this.isPreRecognitionComplete=!1}return[2]}))}))},o.prototype.getAITagFromInputOptimized=function(t){var e,i;if(!this.isPreRecognitionComplete)return this.getAITagFromInput(t);try{for(var o=n(Object.entries(this.preRecognizedElements)),s=o.next();!s.done;s=o.next()){var r=a(s.value,2),l=r[0];if(r[1]===t)return l}}catch(t){e={error:t}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(e)throw e.error}}return null},o}();new(function(){function a(t,e,i){var n,a,o,s;void 0===i&&(i={first_page:1,platform:-1}),this.executed=!1,this.iframescope=[],this.iframeDataList=[],this.selected=null,this.click_type=-1,this.showAutoFillPopup=!1,this.autoFillStatus=0,this.version=\"version_20251105_0.8469943060644713\",this.js_from=\"cdn\",this.clickOrigin=null,this.clickSource=null,this.autofill_saved_data={},this.is_use_contact_autofill=0,this.is_use_payment_autofill=0,this._throttledHandleAutoFillRequest=(n=this.handleAutoFillRequest,a=100,o=this,s=!1,function(t){s||(n.call(o,t),s=!0,setTimeout((function(){s=!1}),a))}),this._clickData=null,this.all_input_fields=[],this.detected_forms=[],this.detected_input_fields=[],this._is_have_submit=!1,this.submitted=!1;try{console.log(\"version:\"+this.version),this.initAutofillInfo(t,e,i),this.iframeBridge=new c,this.aiFormUtils=new x,this.addClickEvent(),this.addNativeUpdateEvent(),this.sendEventV3(\"lp_js_init_success\",{js_version:this.version,js_from:this.js_from})}catch(t){this.sendEventV3(\"lp_js_init_fail\",{code:0,fail_reason:JSON.stringify({fail_reason:t.message,stack:t.stack}),js_version:this.version,js_from:this.js_from})}}return a.prototype.initAutofillInfo=function(t,e,i){void 0===i&&(i={first_page:1,platform:-1}),l.ins.initAdInfo(t,i),this._data=l.ins,this.setAutofillInfo(e)},a.prototype.setAutofillInfo=function(t){l.ins.initAutofillInfo(t)},a.prototype.initAutoFill=function(t){return e(this,void 0,void 0,(function(){var e,n,a,o,r,c,u,f,p,d,_,h;return i(this,(function(i){switch(i.label){case 0:return this.executed?[3,4]:window===window.top?[3,2]:(this.executed=!0,[4,(m=200,void 0===m&&(m=1e3),new Promise((function(t,e){setTimeout((function(){t()}),m)})))]);case 1:if(i.sent(),e=document.querySelectorAll(\"form\"),this.formList=e,n=Array.from(e),a=F(n),o=a.support_autofill,r=a.autofill_fields_list,c=a.all_out_scope_autofill,u=a.all_autofill_scope,f=a.have_hiden,this.iframescope=r,p=document.querySelectorAll(\"input\"),!o){for(d=[],_=0;_<p.length;_++)null===p[_].closest(\"form\")&&(h=k(p[_]))&&(d.push(h),this.iframescope.push(h));0===d.length&&this.iframeBridge.postMessageToMainFrame(s.IFRAME_NO_SCOPE,{all_out_scope_autofill:c,all_autofill_scope:u,url:window.location.href,path:new URL(window.location.href).pathname})}if(l.ins.iframeScope=this.iframescope,this.iframescope.length>0&&this.iframeBridge.postMessageToMainFrame(s.IFRAME_HAVE_SCOPE,{iframescope:this.iframescope,have_hiden:f,url:window.location.href,path:new URL(window.location.href).pathname}),p.length<1)return[2];i.label=2;case 2:return[4,this.handShake()];case 3:i.sent(),i.label=4;case 4:return window===window.top&&this.checkPageInfo(t),[2]}var m}))}))},a.prototype.checkPageInfo=function(t){var e=this,i=document.querySelectorAll(\"form\");if(this.formList=i,this.executed){var a=document.querySelectorAll(\"form\");if(function(t,e){var i,a,o=new Set(Array.from(t,(function(t){return t.outerHTML}))),s=new Set(Array.from(e,(function(t){return t.outerHTML})));if(o.size!==s.size)return!1;try{for(var r=n(o),l=r.next();!l.done;l=r.next()){var c=l.value;if(!s.has(c))return!1}}catch(t){i={error:t}}finally{try{l&&!l.done&&(a=r.return)&&a.call(r)}finally{if(i)throw i.error}}return!0}(a,this.formList)&&this._data.mainframe_load>0)return;this.formList=a}else this.formList=document.querySelectorAll(\"form\");this.executed=!0;var r=F(Array.from(i)),l=r.all_autofill_scope,c=r.all_out_scope_autofill,u=r.contactinfo_scope_fileds,f=r.paymentinfo_scope_fileds,p=r.support_autofill,d=r.support_contact,_=r.support_payment,h=r.recognition_attribute_status_,m=r.recognition_regtags_status_,g=-1;\"complete\"===t?g=1:\"interactive\"===t&&(g=2);var v=document.querySelectorAll(\"iframe\"),y={autofill_scope_fields:JSON.stringify(l),out_scope_input_fields:JSON.stringify(c),support_autofill:p?1:0,support_contact:d?1:0,support_payment:_?1:0,contactinfo_scope_fileds:JSON.stringify(u),paymentinfo_scope_fileds:JSON.stringify(f),iframeList:v.length>0?1:0,report_from:t,report_time:g,mainframe_load:this._data.mainframe_load,recognition_attribute_status:h,recognition_regtags_status:m};2==this._data.platform&&window==window.top?(window.JSBridge||o(),window.JSBridge.call(\"getWebViewExtraInfo\",{test:\"t\"},(function(t){var i=\"string\"==typeof t?JSON.parse(t):t;e._data.is_first_page=i?i.first_page:-1,e.setAutofillInfo(i.autofillInfo),e.iframeBridge.postMessageToIframes(s.RESET_DATA,{info:i.autofillInfo}),e.sendEventV3(\"lp_inject_js_form_info\",y)}))):1==this._data.platform&&window==window.top&&this.sendEventV3(\"lp_inject_js_form_info\",y)},a.prototype.handShake=function(){var t=this;this.iframeBridge.initHandshake(),this.sendEventV3=this.sendEventV3.bind(this),this.iframeBridge.onHandshake2Complete=function(e){t.initAutofillInfo(e.adInfo,e.autoFillInfo,e.extraData)},this.iframeBridge.removeSelect=function(){t.selected=null},this.iframeBridge.onGet=function(e,i,n){var a;t.clickOrigin&&t.clickSource&&(t.clickOrigin!=i||t.clickSource!=n)&&(null===(a=t.clickSource)||void 0===a||a.postMessage({event_name:s.MAIN_TO_IFRAME_REMOVESELECT},t.clickOrigin)),t.clickOrigin=i,t.clickSource=n,t.selected=null,t.click_type=e.click_type,t.clickTag=e.tag,0==e.support_autofill?t._data.noKeyReason=0:1==e.support_autofill?t._data.noKeyReason=2:2==e.support_autofill&&(t._data.noKeyReason=-1),e.isSelectEmpty?t.callJSBBridge(e.autofillFields,void 0,e.tag,e.click_type,e.field,1):t.sendTextClick(e.tag,e.autofillFields),t.sendEventV3(\"lp_click_input\",{report_time:2,support_autofill:e.pointData.support_autofill,click_input_status:e.pointData.click_input_status,is_should_detect:e.pointData.is_should_detect,can_autofill:e.pointData.can_autoFill,click_autofill_field:e.pointData.tag,is_field_include:e.pointData.is_field_include,is_value_empty:e.pointData.is_value_empty,is_in_iframe:1,autofill_field:e.tag,recognition_attribute_status:e.pointData.recognition_attribute_status,recognition_regtags_status:e.pointData.recognition_regtags_status})},this.iframeBridge.onTrigger=function(e){1==e.autofillData.isAutofillAll?t.insertInput(e.autofillData,t.selected):t.setSingleValue(e.autofillData),t.selected=null},this.iframeBridge.onSetFocus=function(){t.selected&&t.selected.focus()},this.iframeBridge.resetData=function(e){t.setAutofillInfo(e.info)},this.iframeBridge.onIframeSendClick=function(e){t.sendTextClick(e.tag,e.autofillFields)},this.iframeBridge.onGetSubmit=function(){var e;if(t.formList&&t.formList.length>0){var i=t.setSubmit(),n=i.contact_info,a=i.payment_info,o=i.autofill_scope_fields,r=i.out_scope_input_fields;null===(e=window.top)||void 0===e||e.postMessage({event_name:s.RECEIVE_SUBMIT,contact_info:n,payment_info:a,autofill_scope_fields:o,out_scope_input_fields:r},\"*\")}},this.iframeBridge.onReceiveSubmit=function(e){t.iframeDataList.push({contact_info:e.contact_info,payment_info:e.payment_info,autofill_scope_fields:e.autofill_scope_fields,out_scope_input_fields:e.out_scope_input_fields}),t.autofillFormSubmitCallback(t.event)},this.iframeBridge.onIframeSubmit=function(){t.throttledHandleAutoFillSubmit()},this.iframeBridge.sendEventV3=this.sendEventV3.bind(this),this.iframeBridge.onAutofillPopupChange=function(e){t.showAutoFillPopup=e.showAutoFillPopup}},a.prototype.throttledHandleAutoFillSubmit=function(t){void 0===t&&(t=null),this._is_have_submit||this.autofillFormSubmitCallback(t)},a.prototype.addNativeUpdateEvent=function(){window.__autoFillCallback__=this.autoFillCallback.bind(this),window.__AutoFillPopupClose__=this.AutoFillPopupClose.bind(this),window.__rejectUseAutofill__=this.rejectUseAutofill.bind(this),window.__updatePipoPaymentCount__=this.updatePipoPaymentCount.bind(this),window.__autoFillInfoChange__=this.autoFillInfoChange.bind(this),window.__shopifyNativeSubmit__=this.shopifyNativeSubmit.bind(this)},a.prototype.autoFillCallback=function(t){var e,i=\"string\"==typeof t?JSON.parse(t):t;if(\"AI_AUTOFILL\"!==i.scene)try{var n=this.iframeBridge.iframeSourceList;if(window===window.top){try{1==(\"string\"==typeof t?JSON.parse(t):t).isAutofillAll?this.insertInput(t,this.selected):this.selected&&this.setSingleValue(t),this.selected=null}catch(t){this.sendEventV3(\"lp_js_run_fail\",{code:\"5\",fail_reason:JSON.stringify({msg:t.message,stack:t.stack})})}try{for(var a=0;a<n.length;a++)n[a].origin&&n[a].source&&(null===(e=n[a].source)||void 0===e||e.postMessage({event_name:s.TRIGGER,autofillData:t},n[a].origin))}catch(t){this.sendEventV3(\"lp_js_run_fail\",{code:\"5.1\",fail_reason:JSON.stringify({msg:t.message,stack:t.stack})})}}}catch(t){this.sendEventV3(\"lp_js_run_fail\",{code:\"2\",fail_reason:JSON.stringify({msg:t.message,stack:t.stack})})}else try{var o=\"string\"==typeof i.aiRecognitionInfo?JSON.parse(i.aiRecognitionInfo):i.aiRecognitionInfo||[];console.log(\"AI_AUTOFILL scene detected, initializing AI rules for current page\"),this.aiFormUtils.processCurrentPage(o)}catch(t){console.log(\"AI_AUTOFILL initialization error:\",t)}},a.prototype.insertInput=function(t,e){var i,n={},a=\"string\"==typeof t?JSON.parse(t):t;if(!a.paymentInfo||\"\"!=a.paymentInfo.cardNumber&&null!=a.paymentInfo.cardNumber){a.contactInfo&&(this.autofill_saved_data.concat_info=a.contactInfo,this.is_use_contact_autofill=1),a.paymentInfo&&(this.autofill_saved_data.payment_info=a.paymentInfo,this.is_use_payment_autofill=1);var o=0,r=!0;if(n=a.contactInfo?a.contactInfo:a.paymentInfo,a.paymentInfo){var l=n.expiryTime.split(\"/\"),c=l[1].slice(-2),u=l[0]+\"/\"+c;n.exp_date=u,n.exp_month=l[0],n.exp_year=c}this.formList=document.querySelectorAll(\"form\");for(var f={},p=0;p<this.formList.length;p++)f=w(this.formList[p],!0,Object.keys(n),!1,f);var d=document.querySelectorAll(\"input\");for(p=0;p<d.length;p++)S(d[p],f)||(f=I(d[p],!0,Object.keys(n),f));var _=function(t){if(n[t]){var i=n[t];if(\"mobile\"===t){var s=i.split(/\\s+/);i=s[s.length-1]}f[t].forEach((function(t){t!==e&&t.value?(t===e&&t.value!=i||t.value!=i&&a.paymentInfo)&&(o+=1,b(t,i),setTimeout((function(){t.value=i}),0)):(o+=1,b(t,i),setTimeout((function(){t.value=i}),0),t.value!==i&&(r=!1)),t.dispatchEvent(new Event(\"input\",{bubbles:!0})),t.dispatchEvent(new Event(\"change\",{bubbles:!0})),t.dispatchEvent(new Event(\"click\",{bubbles:!0})),t.dispatchEvent(new Event(\"touchstart\",{bubbles:!0})),t.focus(),t.blur()}))}};for(var h in f)_(h);var g=[],v=[];if(e){var y=m(e);g=y.autofill_scope_fields,v=y.out_scope_input_fields}var k=a.scene?a.scene:-1,E=a.isAutofillAll?a.isAutofillAll:-1,F=a.currentKey?a.currentKey:\"null\",A={popup_type:0,autofill_fields:a.autofillFields?a.autofillFields.toString():\"null\",user_autofill_fields:JSON.stringify(Object.keys(f)),autofill_scope_count:g.length,autofill_out_scope_count:v.length,autofill_count:o,autofill_success:r,infoType:this.click_type.toString(),autofill_key:L(f).toString(),input_key:L(f).toString(),scene:k.toString(),is_autofill_all:E,current_key:F,show_autofill_all:a.currentKey?1:0,no_key_reason:a.noKeyReason};window===window.top?(A.is_in_iframe=0,this.sendEventV3(\"lp_js_autofill_success\",A)):o>0&&(A.is_in_iframe=1,null===(i=window.top)||void 0===i||i.postMessage({event_name:s.TRIGGER_AUTOFILL_SUBMIT,point_data:A},\"*\")),this.autoFillStatus=1}},a.prototype.setSingleValue=function(t){var e,i=\"string\"==typeof t?JSON.parse(t):t,n=\"\",a=\"\";if(i.contactInfo?(a=Object.keys(i.contactInfo)[0],n=i.contactInfo[a]):i.paymentInfo&&(a=Object.keys(i.paymentInfo)[0],n=i.paymentInfo[a]),this.selected){var o=E(this.selected);i.currentKey&&i.currentKey;b(this.selected,n);var r=this.selected;setTimeout((function(){r.value=n,console.log(r.value)}),0);var l={input_key:a,autofill_key:null==o?void 0:o.key,scene:(i.scene?i.scene:-1).toString(),is_autofill_all:0,infoType:this.click_type.toString(),current_key:i.currentKey,no_key_reason:i.noKeyReason,show_autofill_all:i.currentKey?1:0,autofill_fields:i.autofillFields?i.autofillFields.toString():\"null\"};window===window.top?this.sendEventV3(\"lp_js_autofill_success\",l):(l.is_in_iframe=1,null===(e=window.top)||void 0===e||e.postMessage({event_name:s.TRIGGER_AUTOFILL_SUBMIT,point_data:l},\"*\")),r.dispatchEvent(new Event(\"input\",{bubbles:!0})),r.dispatchEvent(new Event(\"change\",{bubbles:!0})),r.dispatchEvent(new Event(\"click\",{bubbles:!0})),r.dispatchEvent(new Event(\"touchstart\",{bubbles:!0})),this.selected.focus(),this.selected.blur()}},a.prototype.updatePipoPaymentCount=function(t){l.ins.updatePipoPaymentCount(t),this.iframeBridge.postMessageToIframes(s.SET_IFRAME_DATA,{type:1,pipo_paymentInfo_status:this._data.pipo_paymentInfo_status,paymentField:this._data.paymentField,pipo_payment_count:this._data.pipo_payment_count})},a.prototype.shopifyNativeSubmit=function(){this.throttledHandleAutoFillSubmit()},a.prototype.AutoFillPopupClose=function(){this.showAutoFillPopup=!1},a.prototype.autoFillInfoChange=function(t){var e=\"string\"==typeof t?JSON.parse(t):t,i=e.autoFillInfo,n=e.changeFrom;this.setAutofillInfo(i),this.iframeBridge.postMessageToIframes(s.RESET_DATA,{info:i}),this.sendEventV3(\"lp_autofill_info_reset\",{change_from:n})},a.prototype.rejectUseAutofill=function(){this.selected&&this.selected.focus(),this.iframeBridge.postMessageToIframes(s.SET_FOCUS,{}),this._clickData&&window.JSBridge.call(\"iabEditTextClick\",this._clickData,(function(){}))},a.prototype.addClickEvent=function(){window.addEventListener(\"click\",this.onClick.bind(this)),window.addEventListener(\"focusin\",this.onClick.bind(this))},a.prototype.removeClickEvent=function(){window.removeEventListener(\"click\",this.onClick.bind(this)),window.removeEventListener(\"focusin\",this.onClick.bind(this))},a.prototype.throttledHandleAutoFillRequest=function(t){this._throttledHandleAutoFillRequest(t)},a.prototype.onClick=function(t){(window===window.top||window!==window.top&&this.iframeBridge.status===r.FULFILLED)&&this.throttledHandleAutoFillRequest(t)},a.prototype.onBlur=function(){this.selected=null},a.prototype.handleAutoFillRequest=function(t){var e;try{var i=null==t?void 0:t.target;if(i&&j(i)&&(\"click\"==t.type||\"touchstart\"==t.type||\"focusin\"==t.type)){if(i.form instanceof HTMLFormElement){var n=i.form;n.removeEventListener(\"submit\",this.autofillFormSubmitCallback.bind(this)),n.addEventListener(\"submit\",this.autofillFormSubmitCallback.bind(this))}this.selected=i,this.clickOrigin&&this.clickSource&&(null===(e=this.clickSource)||void 0===e||e.postMessage({event_name:s.MAIN_TO_IFRAME_REMOVESELECT},this.clickOrigin),this.clickOrigin=null,this.clickSource=null);var a=E(i),o=(null==a?void 0:a.key)||null,r=null;try{r=this.aiFormUtils.getAITagFromInputOptimized(i)}catch(t){console.log(\"AI recognition error:\",t)}var l=null;o&&r?o===r?(l=a,console.log(\"Rule and AI recognition are consistent, using:\",o)):(l={key:r,is_new_attribute:!1,is_new_regtags:!1},console.log(\"Rule and AI recognition differ, prefer AI:\",{ruleKey:o,aiKey:r})):r?(l={key:r,is_new_attribute:!1,is_new_regtags:!1},console.log(\"Only AI recognition succeeded:\",r)):o?(l=a,console.log(\"Only rule recognition succeeded:\",o)):console.log(\"Both rule and AI recognition failed\"),this.clickHandle(l,i)}}catch(t){this.sendEventV3(\"lp_js_run_fail\",{js_fail_code:\"0\",fail_reason:JSON.stringify({fail_reason:t.message,stack:t.stack})})}},a.prototype.clickHandle=function(t,e){var i,n,a,o,r,l=null==t?void 0:t.key,c=(null==t?void 0:t.is_new_attribute)?2:1,u=(null==t?void 0:t.is_new_regtags)?2:1,f=[];if(this.click_type=-1,this.clickTag=l,l)if(\"cardNumber\"==l||\"exp_month\"==l||\"exp_year\"==l||\"exp_date\"==l){if(0!=this._data.paymentInfo_status&&0!=this._data.pipo_paymentInfo_status||(f=this._data.Payment_Field,this.click_type=d),!this._data.switchPayment)return this._data.noKeyReason=1,void(window===window.top?this.sendTextClick(null,[]):this.iframeBridge.postMessageToMainFrame(s.IFRAME_TO_MAIN_SENDCLICK,{tag:null,autofillFields:[]}))}else if(0==this._data.contactInfo_status&&(f=this._data.autoFillField,this.click_type=_),!this._data.switchContact)return this._data.noKeyReason=1,void(window===window.top?this.sendTextClick(null,[]):this.iframeBridge.postMessageToMainFrame(s.IFRAME_TO_MAIN_SENDCLICK,{tag:null,autofillFields:[]}));var p,h=function(t,e,i){var n={},a=t.form instanceof HTMLFormElement?t.form:null;if(!a){var o=k(t);return o&&i.includes(o)?(n[o]=[t],n):null}return w(a,e,i)}(this.selected,!1,f);this.allInputTagMap=h,l&&f.includes(l)&&(null===this.selected.value||\"\"===this.selected.value||this.selected.value.match(/^[ ]*$/))&&(p=this.detect(this.selected,this.click_type));var m={is_should_detect:Number(p),can_autoFill:Number(this._data.canAutoFill),tag:l,is_field_include:Number(f.includes(l)),is_value_empty:Number(null===this.selected.value||\"\"===this.selected.value||this.selected.value.match(/^[ ]*$/))},g=0,v=l;v?(g=1,this._data.noKeyReason=2,f.find((function(t){return t===v}))&&(g=2,this._data.noKeyReason=-1)):this._data.noKeyReason=0;var y={report_time:2,support_autofill:g,autofill_field:v||\"\",click_input_status:JSON.stringify({id:null===(i=this.selected)||void 0===i?void 0:i.id,type:null===(n=this.selected)||void 0===n?void 0:n.type,placeholder:null===(a=this.selected)||void 0===a?void 0:a.placeholder,name:null===(o=this.selected)||void 0===o?void 0:o.name}),is_should_detect:m.is_should_detect,can_autofill:m.can_autoFill,click_autofill_field:m.tag,is_field_include:m.is_field_include,is_value_empty:m.is_value_empty,is_in_iframe:0,recognition_attribute_status:c,recognition_regtags_status:u};this.sendNewInputLog(this.selected,m);var b=L(h);if(window!==window.top){var S=this.click_type;this.click_type==d&&(b=this._data.Payment_Field);var I;return I=null===this.selected.value||\"\"===this.selected.value||this.selected.value.match(/^[ ]*$/),void(null===(r=window.top)||void 0===r||r.postMessage({event_name:s.GET,autofillFields:b,click_type:S,field:f,tag:l,pointData:y,isSelectEmpty:I,support_autofill:g},\"*\"))}this.sendEventV3(\"lp_click_input\",y),p&&h&&0!==Object.keys(h).length&&this._data.canAutoFill&&l&&f.includes(l)&&(null===this.selected.value||\"\"===this.selected.value||this.selected.value.match(/^[ ]*$/))?this.callJSBBridge(L(h),this.selected,l,this.click_type,f,0,y):2==g?(b.includes(l)||b.push(l),this.sendTextClick(l,b)):(0==g&&(this._data.noKeyReason=0),this.sendTextClick(null,[]))},a.prototype.callJSBBridge=function(t,e,i,n,a,s,r){var l=this;if(void 0===i&&(i=\"\"),void 0===n&&(n=-1),t.length>0)if(!this.showAutoFillPopup&&this._data.switchAutoFill&&this._data.is_need_popup){window.JSBridge||o(),this.showAutoFillPopup=!0;var c=(new Date).getTime(),u=[];n==_&&(u=this._data.autoFillField),window.JSBridge.call(\"showAutofillPopup\",{popupType:0,autofillFields:t,contactInfoFields:u,popupJsbStartTime:c,infoType:n,autofillField:i,firstPage:this._data.is_first_page},(function(t){var i=t.code,n=(new Date).getTime();1===Number(i)?(l.autoFillStatus=2,l.showAutoFillPopup=!0,null==e||e.blur()):l.showAutoFillPopup=!1,t.show_autofill_code=t.code.toString(),t.msg||(t.msg=\"-1\"),t.show_fail_msg=t.msg,t.popup_type=0,t.cost=n-c,t.infoType=l.click_type.toString(),t.autofill_key=u,l.sendEventV3(\"lp_js_call_showAutofillPopup_jsb\",t)}))}else this.showAutoFillPopup||this.sendEventV3(\"lp_js_call_showAutofillPopup_jsb\",{code:0,msg:\"autofillPopup has show\"}),this._data.is_need_popup||this.sendEventV3(\"lp_popup_show\",{fail_reason:this._data.fail_reason});this.sendTextClick(i,t)},a.prototype.sendTextClick=function(t,e){var i=2;this.click_type!=d&&this.click_type!=_||(i=this.click_type);var a=[],s=[];this.click_type==_?(a=e,s=this._data.autoFillField):this.click_type==d&&(a=e,s=e);var r=function(t,e){var i,a;void 0===e&&(e=[\"first_name\",\"last_name\",\"address\",\"unit\",\"city\",\"zip_code\",\"country\",\"email\",\"mobile\"]);var o=[];try{for(var s=n(e),r=s.next();!r.done;r=s.next()){var l=r.value;t.includes(l)&&o.push(l)}}catch(t){i={error:t}}finally{try{r&&!r.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}return o}(this._data.is_need_show_contactall?s:a);t&&(this._data.noKeyReason=-1),this._clickData={identify:t?1:0,messageType:i,currentKey:t||\"\",autofillFields:r,noKeyReason:this._data.noKeyReason,messageField:t||\"\"},window.JSBridge||o(),window.JSBridge.call(\"iabEditTextClick\",this._clickData,(function(){}))},a.prototype.sendNewInputLog=function(t,e,i){var n=this;try{var a=!1,o=t.form instanceof HTMLFormElement?t.form:null;if(o){var s=o.getElementsByTagName(\"input\");Array.from(s).forEach((function(t){n.all_input_fields.includes(t)||(n.all_input_fields.push(t),a=!0)}))}else this.all_input_fields.includes(t)||(this.all_input_fields.push(t),a=!0);if(a){var r,l=m(t),c=l.autofill_scope_fields,u=l.out_scope_input_fields,f=(l.autofill_fields,l.paymentinfo_fileds),p=l.contactinfo_fileds,d=l.recognition_regtags_status,_=l.recognition_attribute_status,h=[],g=[],v=[],y=[],b=!1,S=!1;p.find((function(t){return n._data.autoFillField.find((function(e){return e===t}))}))&&0==this._data.contactInfo_status&&(b=!0),(f.length>0&&0==this._data.paymentInfo_status||0==this._data.pipo_paymentInfo_status)&&(S=!0),r=b||S,h=h.concat(c),g=g.concat(u),v=v.concat(p),y=y.concat(f),this.sendEventV3(\"lp_inject_js_form_info\",{autofill_scope_fields:JSON.stringify(h),out_scope_input_fields:JSON.stringify(g),support_autofill:r?1:0,support_contact:b?1:0,support_payment:S?1:0,contactinfo_scope_fileds:JSON.stringify(v),paymentinfo_scope_fileds:JSON.stringify(y),report_time:0,report_from:\"click\",mainframe_load:this._data.mainframe_load,recognition_regtags_status:d,recognition_attribute_status:_})}}catch(t){this.sendEventV3(\"lp_js_run_fail\",{js_fail_code:\"3\",fail_reason:JSON.stringify({fail_reason:t.message,stack:t.stack})})}},a.prototype.detect=function(t,e){var i,a,o,s,r=this;try{var l=t.form instanceof HTMLFormElement?t.form:null,c=!0;if(l)try{for(var u=n(this.detected_forms),f=u.next();!f.done;f=u.next()){if(f.value==l){!1;break}}}catch(t){i={error:t}}finally{try{f&&!f.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}var p=!0;try{for(var d=n(this.detected_input_fields),_=d.next();!_.done;_=d.next()){if(_.value===t){p=!1,c=!1;break}}}catch(t){o={error:t}}finally{try{_&&!_.done&&(s=d.return)&&s.call(d)}finally{if(o)throw o.error}}if(l){this.detected_forms.push(l);var h=l.getElementsByTagName(\"input\");Array.from(h).filter((function(t){return P(t)})).forEach((function(t){!r.detected_input_fields.includes(t)&&function(t,e){var i=k(t);return 0==e?\"cardNumber\"!=i&&\"exp_month\"!=i&&\"exp_year\"!=i&&\"exp_date\"!=i:1==e?\"cardNumber\"==i||\"exp_month\"==i||\"exp_year\"==i||\"exp_date\"==i:void 0}(t,e)&&r.detected_input_fields.push(t)}))}return p&&this.detected_input_fields.push(t),c}catch(t){this.sendEventV3(\"lp_js_run_fail\",{js_fail_code:\"4\",fail_reason:JSON.stringify({fail_reason:t.message,stack:t.stack})})}},a.prototype.autofillFormSubmitCallback=function(t){var e,i,n=this;this.formList=document.querySelectorAll(\"form\"),this._is_have_submit=!0;try{if(window!==window.top)return void(null===(e=window.top)||void 0===e||e.postMessage({event_name:s.IFRAME_SUBMIT},\"*\"));if(this.iframeBridge.iframeSourceList.length>0&&0===this.iframeDataList.length){for(var a=0;a<this.iframeBridge.iframeSourceList.length;a++)null===(i=this.iframeBridge.iframeSourceList[a].source)||void 0===i||i.postMessage({event_name:s.GET_SUBMIT},this.iframeBridge.iframeSourceList[a].origin);return}if(this.iframeBridge.iframeSourceList.length>0&&this.iframeDataList.length>0&&this.iframeDataList.length!==this.iframeBridge.iframeSourceList.length)return;var r=this.setSubmit(),l=r.contact_info,c=r.payment,u=r.payment_info,f=r.infoType,p=r.autofillInputValues,d=r.autofill_scope_fields,_=r.out_scope_input_fields,h=!this.submitted;this.submitted=!0;var m=function(t,e,i){var n=[],a=i.contactInfo;if(null!=a&&null!=a)for(var o in a)t[o]&&t[o]!=a[o]&&n.push(o);var s=i.paymentInfo;if(null!=s&&null!=s)for(var o in s)e[o]&&e[o]!=s[o]&&n.push(o);return n}(l,u,this.autofill_saved_data);if(this.sendEventV3(\"lp_js_form_submission_action\",{autofill_scope_fields:JSON.stringify(d),out_scope_input_fields:JSON.stringify(_),autofill_valid_scope_fields:JSON.stringify(Object.keys(p)),autoFillStatus:this.autoFillStatus,first_submit:h?1:0,report_time:0,infoType:f,update_key:JSON.stringify(m),iframe_scope_length:this.iframeBridge.iframeSourceList.length,is_use_contact_autofill:this.is_use_contact_autofill,is_use_payment_autofill:this.is_use_payment_autofill}),!p||0===Object.keys(p).length)return;if(-1==f)return;if(!this.showAutoFillPopup&&this._data.switchAutoFill){window.JSBridge||o(),this.showAutoFillPopup=!0;var g=(new Date).getTime();window.JSBridge.call(\"showAutofillPopup\",{popupType:1,popupJsbStartTime:g,extraInfo:JSON.stringify({}),infoType:f,contactInfo:l,paymentInfo:c,firstPage:this._data.is_first_page},(function(t){var e=t.code,i=(new Date).getTime();t.cost=i-g,1===Number(e)?n.showAutoFillPopup=!0:n.showAutoFillPopup=!1,t.show_autofill_code=t.code.toString(),t.msg||(t.msg=\"-1\"),t.show_fail_msg=t.msg,t.popup_type=1,t.firstSubmit=h?1:0,t.infoType=f.toString(),n.sendEventV3(\"lp_js_call_showAutofillPopup_jsb\",t)}))}else this.sendEventV3(\"lp_js_call_showAutofillPopup_jsb\",{code:0,msg:\"autofillPopupHasShow\"})}catch(t){this.sendEventV3(\"lp_js_run_fail\",{js_fail_code:\"1\",fail_reason:JSON.stringify({fail_reason:t.message,stack:t.stack})})}},a.prototype.setSubmit=function(t){void 0===t&&(t=[]);for(var e=t.length>0?t:this.formList,i=[],n=[],a={},o=0;o<e.length;o++){a=h(e[o],a);var s=v(e[o]),r=s.autofill_scope_fields,l=s.out_scope_input_fields;i=i.concat(r),n=n.concat(l)}var c,u={},f={};for(var p in a)if(\"exp_date\"!=p)if(\"cardNumber\"!=p){if(\"exp_month\"!=p&&\"exp_year\"!=p)u[p]=a[p];else if(R(a[p].replace(/\\s+/g,\"\"))){_=a[p].replace(/\\s+/g,\"\");f[p]=_,\"exp_year\"==p&&(f[p]=2==_.length?\"20\"+_:_)}}else R(c=a[p].replace(/\\s+/g,\"\"))&&!(c.length<13||c.length>19)&&(f[p]=a[p].replace(/\\s+/g,\"\"));else{var d=a[p].split(\"/\"),_=d[0].replace(/\\s+/g,\"\");f.exp_month=_;var m=d[1].replace(/\\s+/g,\"\"),g=2==m.length?\"20\"+m:m;f.exp_year=g}if(this.iframeDataList.length>0)for(o=0;o<this.iframeDataList.length;o++){var y=this.iframeDataList[o].contact_info,b=this.iframeDataList[o].payment_info;if(y&&0!==Object.keys(y).length)for(var p in this.setObj(u,y),u)u.hasOwnProperty(p)&&!a.hasOwnProperty(p)&&(a[p]=u[p]);if(b&&0!==Object.keys(b).length)for(var p in this.setObj(f,b),f)f.hasOwnProperty(p)&&!a.hasOwnProperty(p)&&(a[p]=f[p]);i=i.concat(this.iframeDataList[o].autofill_scope_fields),n=n.concat(this.iframeDataList[o].out_scope_input_fields)}var S=function(t,e){var i=[],n=e.paymentInfo;if(null!=n&&null!=n)for(var a in n)t[a]&&t[a]!=n[a]&&i.push(a);return i.length>0}(f,this.autofill_saved_data),w=-1;3==Object.keys(f).length&&!S&&Object.keys(u).length>0?w=2:3==Object.keys(f).length&&S?w=1:Object.keys(u).length>0&&(w=0);var I,k={};if(f.cardNumber){var E=\"4\"==(I=f.cardNumber).substring(0,1)?\"VISA\":\"5\"==I.substring(0,1)?\"MASTER\":\"35\"==I.substring(0,2)?\"JBC\":\"34\"==I.substring(0,2)||\"37\"==I.substring(0,2)?\"AE\":\"DISCOVER\";k.cardNumber=f.cardNumber,k.cardType=E}if(f.exp_month&&f.exp_year){var F=f.exp_month+\"/\"+f.exp_year;k.expiryTime=F}return{contact_info:u,payment:k,payment_info:f,infoType:w,autofillInputValues:a,autofill_scope_fields:i,out_scope_input_fields:n}},a.prototype.setObj=function(t,e){for(var i in e)e.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=e[i])},a.prototype.sendEventV3=function(e,i,n){void 0===i&&(i={});try{if(window===window.top){var a=t({url:location.href,web_url:l.ins.adInfo.web_url,contactInfo_fields:JSON.stringify(l.ins.autoFillField),contactInfo_status:l.ins.contactInfo_status.toString(),paymentInfo_status:l.ins.paymentInfo_status.toString(),pipo_payment_info_status:l.ins.pipo_paymentInfo_status,pipo_card_count:l.ins.pipo_payment_count,pv_id:l.ins.pv_id,first_page:l.ins.is_first_page,iframe_scope_length:this.iframeBridge.iframeSourceList.length,autofill_card_count:l.ins.paymentCount,js_version:this.version,js_from:this.js_from,mainframe_load:l.ins.mainframe_load,ready_state:document.readyState},i);!function(t,e){var i,n=\"undefined\"!=typeof __PIA_WORKER__?new Function(\"return this\")():\"undefined\"!=typeof window?window:{};n.JS2NativeBridge&&n.JS2NativeBridge._invokeMethod?i=function(t){return n.JS2NativeBridge._invokeMethod(JSON.stringify(t))}:n.ToutiaoJSBridge&&n.ToutiaoJSBridge.invokeMethod?i=function(t){return n.ToutiaoJSBridge.invokeMethod(JSON.stringify(t))}:n.JS2NativeBridge&&n.JS2NativeBridge.call?i=function(t){return n.JS2NativeBridge.call(t.func,JSON.stringify(t))}:n.webkit&&n.webkit.messageHandlers&&n.webkit.messageHandlers.callMethodParams?i=function(t){n.webkit.messageHandlers.callMethodParams.postMessage(t)}:n.callMethodParams&&(i=function(t){return n.callMethodParams(t.func,t)}),i({func:t,params:e,JSSDK:\"2.0.0\",__msg_type:\"call\"})}(\"sendLog\",{labelName:e,eventName:\"ad_wap_stat\",is_ad_event:1,value:l.ins.adInfo.cid,extJson:{category:\"event_v3\",tag:\"ad_wap_stat\",refer:\"autofill\",nt:4,is_ad_event:1,value:l.ins.adInfo.cid,log_extra:l.ins.adInfo.log_extra,ad_extra_data:JSON.stringify(a)}})}}catch(t){}},a.prototype.addStateChange=function(){var t=this;document.addEventListener(\"readystatechange\",(function(){\"complete\"!==document.readyState&&\"interactive\"!==document.readyState||t.initAutoFill(document.readyState)}))},a.prototype.registerForPageComplete=function(){var t=this;try{if(window.__initAutoFill__)return;window.__initAutoFill__=!0,window===window.top?\"complete\"===document.readyState?this.initAutoFill(document.readyState):\"interactive\"===document.readyState?(this.initAutoFill(document.readyState),this.addStateChange()):this.addStateChange():\"complete\"===document.readyState?this.initAutoFill(document.readyState):document.addEventListener(\"readystatechange\",(function(){\"complete\"===document.readyState&&t.initAutoFill(document.readyState)}))}catch(t){this.sendEventV3(\"lp_js_init_fail\",{code:1,fail_reason:JSON.stringify({msg:t.message,stack:t.stack})})}},a}())(getClientContext().adInfo,getClientContext().autoFillInfo,getClientContext().extraData).registerForPageComplete()}();"

    invoke-virtual {v1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    return-object v0
.end method

.method public final LJI()Ljava/lang/String;
    .locals 1

    const-string v0, "_jsmanage_ad_autofill_fifthversion"

    return-object v0
.end method
