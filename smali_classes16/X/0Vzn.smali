.class public abstract LX/0Vzn;
.super LX/101b;
.source "SourceFile"


# direct methods
.method public constructor <init>()V
    .locals 0

    invoke-direct {p0}, LX/101b;-><init>()V

    return-void
.end method


# virtual methods
.method public final LIZ()Lcom/bytedance/hybrid/spark/security/web_js/setting/JSInjectConfig;
    .locals 14

    new-instance v1, Lcom/bytedance/hybrid/spark/security/web_js/setting/JSInjectConfig;

    const-string v2, "_jsmanage_ad_autofill_fourthversion"

    const-string v3, "custom_manual"

    const/4 v4, 0x1

    const-string v0, "."

    invoke-static {v0}, Ljava/util/Collections;->singletonList(Ljava/lang/Object;)Ljava/util/List;

    move-result-object v5

    sget-object v6, LX/0Pgk;->INSTANCE:LX/0Pgk;

    const-string v7, "https://lf16-gecko-source.tiktokcdn.com/obj/tiktok-teko-source-sg/tt/webview/js_manage/tiktok_webview_js_inject_manage/assets/js/ad_autofill_fourthversion.js"

    const/4 v8, 0x0

    const/4 v11, 0x0

    const/16 v12, 0x1c0

    move-object v9, v8

    move-object v10, v8

    move-object v13, v8

    invoke-direct/range {v1 .. v13}, Lcom/bytedance/hybrid/spark/security/web_js/setting/JSInjectConfig;-><init>(Ljava/lang/String;Ljava/lang/String;ILjava/util/List;Ljava/util/List;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;ZILkotlin/jvm/internal/DefaultConstructorMarker;)V

    return-object v1
.end method

.method public final LJ()Ljava/lang/String;
    .locals 1

    const-string v0, "!function(){\"use strict\";var t=function(){return(t=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var a in e=arguments[i])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)};function e(t,e,i,n){return new(i||(i=Promise))((function(a,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function r(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,r)}l((n=n.apply(t,e||[])).next())}))}function i(t,e){var i,n,a,o,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:r(0),throw:r(1),return:r(2)},\"function\"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function r(o){return function(r){return function(o){if(i)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(i=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(a=s.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{i=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,r])}}}function n(t){var e=\"function\"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&\"number\"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")}function a(){console.log(\"bridge\");var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};function e(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}var i,n=function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var a in e=arguments[i])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)};!function(t){t[t.Failure=0]=\"Failure\",t[t.Success=1]=\"Success\",t[t.Unauthorized=-1]=\"Unauthorized\",t[t.NotExist=-2]=\"NotExist\"}(i||(i={}));var a=\"undefined\"==typeof __PIA_WORKER__?1023:1023e5,o=function(){function t(t){this.version=t.version||\"2.0.3\",this.nativeMethodInvoker=t.nativeMethodInvoker,this.nativeEventListener=t.nativeEventListener,this.scheme=t.scheme||\"nativeapp://\",this.dispatchMessagePath=t.dispatchMessagePath||\"dispatch_message/\",this.setResultPath=t.setResultPath||\"private/setresult/SCENE_FETCHQUEUE\",this.dispatchMessageIFrameId=t.dispatchMessageIFrameId||\"__JSBridgeIframe__\",this.setResultIFrameId=t.setResultIFrameId||\"__JSBridgeIframe_SetResult__\",this.listenNativeEvent=!0===t.listenNativeEvent,this.callbackId=a,this.callbackMap={},this.eventMap={},this.javascriptMessageQueue=[],this.callbackProcessor=t.callbackProcessor}return t.prototype.call=function(t,e,i,n){void 0===n&&(n=this.version);var a,o=this.version;if(t&&\"string\"==typeof t){\"object\"!=typeof e&&(e={}),\"string\"==typeof n?o=n||this.version:\"object\"==typeof n&&(a=n.namespace,o=n.sdkVersion||this.version);var s={func:t,params:e,JSSDK:o,__msg_type:\"call\",namespace:a};if(\"function\"==typeof i||void 0===i){var r=this.registerCallback(t,i);s.__callback_id=r}\"undefined\"==typeof __PIA_WORKER__&&window.parent!==window&&(s.__iframe_url=window.location.href),this.sendMessageToNative(s)}},t.prototype.on=function(t,e,i){if(void 0===i&&(i=!1),t&&\"string\"==typeof t&&\"function\"==typeof e){var n=this.registerCallback(t,e);return this.eventMap[t]=this.eventMap[t]||{},this.eventMap[t][n]={once:i},this.listenNativeEvent&&(this.nativeEventListener?this.nativeEventListener(t):this.call(\"addEventListener\",{name:t},null,{sdkVersion:1})),n}},t.prototype.once=function(t,e){return this.on(t,e,!0)},t.prototype.off=function(t,e){if(!t||\"string\"!=typeof t)return!0;var i=this.eventMap[t];return!i||\"object\"!=typeof i||!i.hasOwnProperty(e)||(this.deregisterCallback(e),delete i[e],!0)},t.prototype.trigger=function(t,e){return this.handleMessageFromNative({__msg_type:\"event\",__params:e,__event_id:t})},t.prototype.handleMessageFromNative=function(t){var e=this,i=t,n=String(i.__callback_id);if(this.callbackProcessor&&\"function\"==typeof this.callbackProcessor){var a=(this.callbackMap&&this.callbackMap[n]||{}).method;this.callbackProcessor(i,a)}var o=i.__params,s=String(i.__event_id||\"\"),r=i.__msg_type;this.callbackMap[n]?r=\"callback\":this.eventMap[n]&&(r=\"event\",s=s||n);var l={__err_code:\"cb404\"};switch(r){case\"callback\":var c=(this.callbackMap&&this.callbackMap[n]||{}).callback;\"function\"==typeof c&&(l=c(o)),this.deregisterCallback(n);break;case\"event\":var u=this.eventMap[s];u&&\"object\"==typeof u&&Object.keys(u).forEach((function(t){var i=(e.callbackMap&&e.callbackMap[t]||{}).callback,n=u[t];\"function\"==typeof i&&(l=i(o)),n&&n.once&&(e.deregisterCallback(t),delete u[t])}))}return l},t.prototype.fetchJavaScriptMessageQueue=function(){var t=JSON.stringify(this.javascriptMessageQueue),e=btoa(unescape(encodeURIComponent(t)));return this.setResultIFrame&&this.javascriptMessageQueue.length>0&&(this.setResultIFrame.src=\"\"+this.scheme+this.setResultPath+\"&\"+e),this.javascriptMessageQueue.splice(0,this.javascriptMessageQueue.length),t},t.prototype.sendMessageToNative=function(t){if(\"1\"!==String(t.JSSDK)&&this.nativeMethodInvoker){var e=this.nativeMethodInvoker(t);if(e){var i=JSON.parse(e);this.handleMessageFromNative(i)}}else this.javascriptMessageQueue.push(t),this.dispatchMessageIFrame||this.tryCreateIFrames(),this.dispatchMessageIFrame.src=\"\"+this.scheme+this.dispatchMessagePath},t.prototype.registerCallback=function(t,e){var i=String(this.callbackId++);return this.callbackMap[i]={method:t,callback:e},i},t.prototype.deregisterCallback=function(t){delete this.callbackMap[t]},t.prototype.tryCreateIFrames=function(){this.dispatchMessageIFrame=this.createIFrame(this.dispatchMessageIFrameId),this.setResultIFrame=this.createIFrame(this.setResultIFrameId)},t.prototype.createIFrame=function(t){var e=document.getElementById(t);return e&&\"IFRAME\"===e.tagName||((e=document.createElement(\"iframe\")).style.display=\"none\",e.id=t,document.documentElement.appendChild(e)),e},t}(),s=\"undefined\"!=typeof __PIA_WORKER__?new Function(\"return this\")():\"undefined\"!=typeof window?window:{},r=void 0!==s&&s.navigator?s.navigator.userAgent:\"\",l=(!!r.match(/(newsarticle|videoarticle|lv|faceu|ulike|beauty_me_|faceu-os|ulike-os|beauty_me_oversea_|retouch)\\/([\\d.]+)/i)||/super|automobile/gi.test(r))&&!/webcast/gi.test(r)&&!/luckycatversion/gi.test(r),c=!!r.match(/(faceu)\\/([\\d.]+)/i)||/gsdk/gi.test(r)||/PIANativeWorker/gi.test(r),u=!!r.match(/ttad\\/0/i),_=!!r.match(/aweme|trill|musical_ly|phoenix_\\d+|TikTokNow_\\d+|alligatortiktok/i),p=!!r.match(/live_stream/i),f=!!r.match(/Webcast/i),d=!!r.match(/super/i),h=!!r.match(/life_service_merchant/i),m=/super/gi.test(r);function g(){var t;if(l)return s.JSBridge&&s.JSBridge.on?t=s.JSBridge.on:s.JS2NativeBridge&&s.JS2NativeBridge.on?t=function(t){var e={JSSDK:\"2.2.17\",__msg_type:\"event\",__callback_id:t,func:t};s.JS2NativeBridge.on(t,JSON.stringify(e))}:s.webkit&&s.webkit.messageHandlers&&s.webkit.messageHandlers.onMethodParams?t=function(t){var e={JSSDK:\"2.2.17\",__msg_type:\"event\",__callback_id:t,func:t};s.webkit.messageHandlers.onMethodParams.postMessage(e)}:s.onMethodParams&&(t=function(t){var e={JSSDK:\"2.2.17\",__msg_type:\"event\",__callback_id:t,func:t};return s.onMethodParams(t,e)}),t}function v(t,e){if((\"string\"!=typeof e||!0!==/^(x|tc)\\./.test(e))&&(_||p||f||h)){var i=t.__params;s.JS2NativeBridge&&s.JS2NativeBridge._invokeMethod&&(t.__params=n({code:i.code},i.data))}}var y=function(t){function i(){var e=t.call(this,{version:\"2.2.17\",scheme:\"bytedance://\",listenNativeEvent:!0,dispatchMessageIFrameId:\"__JSBridgeIframe_1.0__\",setResultIFrameId:\"__JSBridgeIframe_SetResult_1.0__\",nativeEventListener:g(),callbackProcessor:v})||this;return e.publicApi={call:e.call.bind(e),on:e.on.bind(e),once:e.once.bind(e),off:e.off.bind(e),trigger:e.trigger.bind(e),_fetchQueue:e.fetchJavaScriptMessageQueue.bind(e),_handleMessageFromToutiao:e.handleMessageFromNative.bind(e)},e}return e(i,t),i.prototype.exposePublicApiToGlobal=function(){s.ToutiaoJSBridge=Object.assign(s.ToutiaoJSBridge||{},this.publicApi)},i}(o),b=function(t){function i(e){var i,n=t.call(this,{version:\"2.2.17\",nativeMethodInvoker:(s.JS2NativeBridge&&s.JS2NativeBridge._invokeMethod?i=function(t){return s.JS2NativeBridge._invokeMethod(JSON.stringify(t))}:s.ToutiaoJSBridge&&s.ToutiaoJSBridge.invokeMethod?i=function(t){return s.ToutiaoJSBridge.invokeMethod(JSON.stringify(t))}:s.JS2NativeBridge&&s.JS2NativeBridge.call?i=function(t){return s.JS2NativeBridge.call(t.func,JSON.stringify(t))}:s.webkit&&s.webkit.messageHandlers&&s.webkit.messageHandlers.callMethodParams?i=function(t){s.webkit.messageHandlers.callMethodParams.postMessage(t)}:s.callMethodParams&&(i=function(t){return s.callMethodParams(t.func,t)}),i),nativeEventListener:g(),scheme:d?\"bds://\":m?\"bytedance://\":l||s.JSBridge&&s.JSBridge._invokeMethod?\"nativeapp://\":\"bytedance://\",listenNativeEvent:l,callbackProcessor:v})||this;return n.toutiaoLegacyJSB=e,n.publicApi={call:n.call.bind(n),on:n.on.bind(n),once:n.once.bind(n),off:n.off.bind(n),trigger:n.trigger.bind(n),_fetchQueue:n.fetchJavaScriptMessageQueue.bind(n),_handleMessageFromApp:n.handleMessageFromNative.bind(n),_handleMessageFromToutiao:n.handleMessageFromNative.bind(n)},n}return e(i,t),i.prototype.call=function(e,i,n,a){void 0===a&&(a=\"2.2.17\"),this.isLegacyCall(e)?this.toutiaoLegacyJSB.call(e,i,n,a):t.prototype.call.call(this,e,i,n,a)},i.prototype.on=function(e,i,n,a){return void 0===n&&(n=!1),(a||{}).useLegacy||this.isLegacyCall(e)?this.toutiaoLegacyJSB.on(e,i,n):t.prototype.on.call(this,e,i,n)},i.prototype.once=function(e,i){return this.isLegacyCall(e)?this.toutiaoLegacyJSB.once(e,i):t.prototype.once.call(this,e,i)},i.prototype.off=function(e,i){return this.isLegacyCall(e)?this.toutiaoLegacyJSB.off(e,i):t.prototype.off.call(this,e,i)},i.prototype.trigger=function(e,i){return this.isLegacyCall(e)?this.toutiaoLegacyJSB.trigger(e,i):t.prototype.trigger.call(this,e,i)},i.prototype.exposePublicApiToGlobal=function(){var t=this;s.JSBridge=Object.assign(s.JSBridge||{},this.publicApi),s.__DISABLE_JSB_PROTOCAL2__||(s.Native2JSBridge=Object.assign(s.Native2JSBridge||{},this.publicApi)),m?s.ToutiaoJSBridge=Object.assign(s.ToutiaoJSBridge||{},this.publicApi):(l||u)&&this.toutiaoLegacyJSB?this.toutiaoLegacyJSB.exposePublicApiToGlobal():s.ToutiaoJSBridge=Object.assign(s.ToutiaoJSBridge||{},this.publicApi),s.parent!==s&&s.addEventListener&&s.addEventListener(\"message\",(function(e){e&&e.data&&e.data.__callback_id&&t.handleMessageFromNative(e.data)}),!1),Object.defineProperties(s,{JSBridge:{writable:!1},Native2JSBridge:{writable:!1},ToutiaoJSBridge:{writable:!1}}),Object.freeze(s.JSBridge),Object.freeze(s.Native2JSBridge),Object.freeze(s.ToutiaoJSBridge)},i.prototype.isLegacyCall=function(t){return!(!t||\"string\"!=typeof t||!this.toutiaoLegacyJSB)&&(!!u||!c&&!m&&(l&&t.indexOf(\".\")<0))},i}(o);function S(t,e){if(null==t)throw new TypeError(\"Cannot convert first argument to object\");for(var i=Object(t),n=1;n<arguments.length;n++){var a=arguments[n];if(null!=a)for(var o=Object.keys(Object(a)),s=0,r=o.length;s<r;s++){var l=o[s],c=Object.getOwnPropertyDescriptor(a,l);void 0!==c&&c.enumerable&&(i[l]=a[l])}}return i}({assign:S,polyfill:function(){Object.assign||Object.defineProperty(Object,\"assign\",{enumerable:!1,configurable:!0,writable:!0,value:S})}}).polyfill();var w=new b(new y);try{console.warn(\"[Bridge] This version has Break Change, please pay attention to compatibility, more details: https://zjsms.com/JXKorkC/\"),w.exposePublicApiToGlobal()}catch(t){console.warn(t.message)}}var o,s,r=function(){function t(){this.Payment_Field=[\"cardNumber\",\"exp_month\",\"exp_year\",\"exp_date\",\"cc_name\"],this.pv_id=(new Date).getTime()+Math.random().toString(36).slice(2),this.adInfo={cid:0,log_extra:\"\",web_url:\"\"},this.is_first_page=-1,this.autoFillInfo={},this.platform=-1,this.autoFillField=[],this.paymentField=[],this.switchAutoFill=!1,this.switchContact=!1,this.switchPayment=!1,this.contactInfo_status=-1,this.paymentInfo_status=-1,this.canUseContact=!1,this.canUsePayment=!1,this.canAutoFill=!1,this.is_pipo_update=!1,this.pipo_paymentInfo_status=-1,this.pipo_payment_count=0,this.is_need_popup=!0,this.is_need_show_contactall=!0,this.fail_reason=0,this.iframeScope=[],this.paymentCount=0,this.noKeyReason=-1,this._jsInitTime=0,this._mainframe_load=0,this.jsInitTime=(new Date).getTime(),this.performance_time=window.performance.timing}return t.prototype.initAdInfo=function(t,e){void 0===e&&(e={first_page:1,platform:-1});var i=\"string\"==typeof t?JSON.parse(t):t;if(this.adInfo={cid:i.cid||i.ad_id,log_extra:i.log_extra,web_url:i.url},this.extraData=e,\"/** extraData **/\"!=e){var n=\"string\"==typeof e?JSON.parse(e):e;this.is_first_page=n.first_page,this.platform=n.platform?n.platform:-1}},t.prototype.initAutofillInfo=function(t){this.autoFillInfo=\"string\"==typeof t?JSON.parse(t):t;var e=this.autoFillInfo;this.autoFillField=\"string\"==typeof e.contactInfoFields?JSON.parse(e.contactInfoFields):e.contactInfoFields,this.canUseContact=!1,this.canUsePayment=!1,this.canAutoFill=!1,this.switchAutoFill=!1,this.switchContact=!1,this.switchPayment=!1,this.canUseContact=0==e.contactInfoStatus&&this.autoFillField.length>0,this.canUsePayment=0==e.paymentInfoStatus,this.canAutoFill=this.canUseContact||this.canUsePayment,this.switchAutoFill=0==e.contactInfoStatus||0==e.paymentInfoStatus||2==e.paymentInfoStatus,this.switchContact=0==e.contactInfoStatus,this.switchPayment=0==e.paymentInfoStatus||2==e.paymentInfoStatus,this.contactInfo_status=e.contactInfoStatus,this.paymentInfo_status=e.paymentInfoStatus,this.is_pipo_update?(this.autoFillInfo.pipoPaymentInfoStatus=this.pipo_paymentInfo_status,this.autoFillInfo.pipoPaymentCount=this.pipo_payment_count):(this.pipo_paymentInfo_status=e.pipoPaymentInfoStatus,this.pipo_payment_count=e.pipoPaymentCount),this.paymentCount=e.paymentCount,0==e.paymentInfoStatus||0==this.pipo_paymentInfo_status?this.paymentField=this.Payment_Field:this.paymentField=[],this.is_need_popup=e.isNeedPopup,null!=this.is_need_popup&&null!=this.is_need_popup||(this.is_need_popup=!0),this.is_need_show_contactall=e.isNeedShowContactAll,this.fail_reason=e.failReason},t.prototype.updatePipoPaymentCount=function(t){this.is_pipo_update=!0;var e=\"string\"==typeof t?JSON.parse(t):t;1===e.is_success?(e.count>0?(this.pipo_paymentInfo_status=0,this.paymentField=this.Payment_Field):(this.pipo_paymentInfo_status=2,0!=this.paymentInfo_status&&(this.paymentField=[])),this.pipo_payment_count=e.count):this.pipo_paymentInfo_status=4,this.autoFillInfo.pipoPaymentInfoStatus=this.pipo_paymentInfo_status,this.autoFillInfo.pipoPaymentCount=this.pipo_payment_count},Object.defineProperty(t.prototype,\"jsInitTime\",{get:function(){return this._jsInitTime},set:function(t){this._jsInitTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"performance_time\",{get:function(){return this._performance_time},set:function(t){this._performance_time=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"mainframe_load\",{get:function(){return this._mainframe_load=this.performance_time.loadEventStart-this.performance_time.navigationStart,this._mainframe_load},set:function(t){this._mainframe_load=t},enumerable:!1,configurable:!0}),Object.defineProperty(t,\"ins\",{get:function(){return null==this._instance&&(this._instance=new t),this._instance},enumerable:!1,configurable:!0}),t}();!function(t){t.GET=\"get_autofill\",t.TRIGGER=\"trigger_autofill\",t.HANDSHAKE1=\"hand_shake1\",t.HANDSHAKE2=\"hand_shake2\",t.GET_SUBMIT=\"get_submit\",t.TRIGGER_SUBMIT=\"trigger_submit\",t.RECEIVE_SUBMIT=\"receive_submit\",t.TRIGGER_AUTOFILL_SUBMIT=\"trigger_autofill_success\",t.RECEIVE_AUTOFILL_SUBMIT=\"receive_autofill_success\",t.IFRAME_SUBMIT=\"iframe_submit\",t.AUTOFILL_POPUP_CHANGE=\"autofill_popup_change\",t.SET_IFRAME_DATA=\"set_iframe_data\",t.HANDSHANKE_TIMEOUT=\"handshake_timeout\",t.IFRAME_NO_SCOPE=\"iframe_no_scope\",t.IFRAME_HAVE_SCOPE=\"iframe_have_scope\",t.SET_FOCUS=\"set_focus\",t.RESET_DATA=\"reset_data\",t.IFRAME_TO_MAIN_SENDCLICK=\"iframe_to_main_sendclick\",t.MAIN_TO_IFRAME_REMOVESELECT=\"main_to_iframe_removeselect\"}(o||(o={})),function(t){t.PENDING=\"pending\",t.FULFILLED=\"fulfilled\"}(s||(s={}));var l=function(){function n(){this.status=s.PENDING,this.origin=\"\",this.source=null,this.iframeSourceList=[],this.startTime=0,this.iframescope=[],this._isInit=!1,this._data=r.ins}return Object.defineProperty(n.prototype,\"iframeList\",{get:function(){return this.iframeSourceList},enumerable:!1,configurable:!0}),n.prototype.initHandshake=function(){return e(this,void 0,Promise,(function(){return i(this,(function(t){return this._isInit?[2]:(this._isInit=!0,this.startTime=(new Date).getTime(),window===window.top?[2,this.initMainFrameHandshake()]:[2,this.initIframeHandshake()])}))}))},n.prototype.initMainFrameHandshake=function(){var t=this;return new Promise((function(e){window.addEventListener(\"message\",t.handleMainFrameMessage.bind(t)),e()}))},n.prototype.initIframeHandshake=function(){var t=this;return new Promise((function(e,i){window.addEventListener(\"message\",t.handleIframeMessage.bind(t));var n=t._data.performance_time.loadEventStart-t._data.performance_time.navigationStart;t.polling(1,e,i,n)}))},n.prototype.polling=function(t,e,i,n){var a=this;if(void 0===t&&(t=1),Date.now()-this.startTime>3e4)return this.postMessageToMainFrame(o.HANDSHANKE_TIMEOUT,{iframescope:r.ins.iframeScope,load:n,url:window.location.href,path:new URL(window.location.href).pathname}),clearTimeout(this.pollingTimeoutId),void i();this.status!==s.FULFILLED?(this.postMessageToMainFrame(o.HANDSHAKE1,{iframescope:r.ins.iframeScope,load:n,url:window.location.href,path:new URL(window.location.href).pathname}),this.pollingTimeoutId=setTimeout((function(){a.polling(t+1,e,i,n)}),1e3)):clearTimeout(this.pollingTimeoutId)},n.prototype.handleMainFrameMessage=function(t){var e=t.data,i=t.origin,n=t.source;switch(e.event_name,e.event_name){case o.HANDSHAKE1:this.handleHandshake1(e,i,n);break;case o.GET:this.handleGet(e,i,n);break;case o.RECEIVE_SUBMIT:this.handleReceiveSubmit(e);break;case o.TRIGGER_AUTOFILL_SUBMIT:this.handleTriggerAutofillSubmit(e);break;case o.IFRAME_SUBMIT:this.handleIframeSubmit();break;case o.AUTOFILL_POPUP_CHANGE:this.handleAutofillPopupChange(e);break;case o.HANDSHANKE_TIMEOUT:this.handleHandshakeTimeout(e,i);break;case o.IFRAME_NO_SCOPE:this.handleIframeNoScope(e,i);break;case o.IFRAME_HAVE_SCOPE:this.handleIframeHaveScope(e,i);break;case o.IFRAME_TO_MAIN_SENDCLICK:this.handleIframeSendClick(e)}},n.prototype.handleIframeMessage=function(t){var e,i,n,a,r,l,c,u=t.data;switch(u.event_name){case o.HANDSHAKE2:this.status===s.PENDING&&(this.status=s.FULFILLED,null===(e=this.onHandshake2Complete)||void 0===e||e.call(this,u));break;case o.TRIGGER:null===(i=this.onTrigger)||void 0===i||i.call(this,u);break;case o.SET_IFRAME_DATA:this._data.pipo_paymentInfo_status=u.pipo_paymentInfo_status,this._data.pipo_payment_count=u.pipo_payment_count,this._data.paymentField=u.paymentField,null===(n=this.onSetIframeData)||void 0===n||n.call(this,u);break;case o.GET_SUBMIT:null===(a=this.onGetSubmit)||void 0===a||a.call(this);break;case o.SET_FOCUS:null===(r=this.onSetFocus)||void 0===r||r.call(this);break;case o.RESET_DATA:null===(l=this.resetData)||void 0===l||l.call(this,u);break;case o.MAIN_TO_IFRAME_REMOVESELECT:null===(c=this.removeSelect)||void 0===c||c.call(this,u)}},n.prototype.handleHandshake1=function(t,e,i){var n;i&&e&&(this.iframeSourceList.some((function(t){return t.origin===e&&t.source===i}))||this.iframeSourceList.push({origin:e,source:i,iframescope:t.iframescope}));null==i||i.postMessage({event_name:o.HANDSHAKE2,autoFillInfo:this._data.autoFillInfo,adInfo:this._data.adInfo,extraData:this._data.extraData},e),null===(n=this.sendEventV3)||void 0===n||n.call(this,\"lp_have_iframe_info\",{iframe_scope:JSON.stringify(t.iframescope),iframe_load:t.load,hand_shake_time:(new Date).getTime()-r.ins.jsInitTime,origin:t.url,iframe_path:e+t.path})},n.prototype.handleGet=function(t,e,i){var n;this.source=i,this.origin=e,null===(n=this.onGet)||void 0===n||n.call(this,t,e,i)},n.prototype.handleReceiveSubmit=function(t){var e;null===(e=this.onReceiveSubmit)||void 0===e||e.call(this,t)},n.prototype.handleTriggerAutofillSubmit=function(t){var e,i;null===(e=this.sendEventV3)||void 0===e||e.call(this,\"lp_js_autofill_success\",t.point_data),null===(i=this.onTriggerAutofillSubmit)||void 0===i||i.call(this,t)},n.prototype.handleIframeSubmit=function(){var t;null===(t=this.onIframeSubmit)||void 0===t||t.call(this)},n.prototype.handleAutofillPopupChange=function(t){var e;null===(e=this.onAutofillPopupChange)||void 0===e||e.call(this,t)},n.prototype.handleHandshakeTimeout=function(t,e){var i;null===(i=this.sendEventV3)||void 0===i||i.call(this,\"lp_iframe_handshake_timeout\",{iframe_scope:JSON.stringify(t.iframescope),iframe_load:t.load,hand_shake_time:(new Date).getTime()-this._data.jsInitTime,origin:t.url,iframe_path:e+t.path})},n.prototype.handleIframeNoScope=function(t,e){var i;null===(i=this.sendEventV3)||void 0===i||i.call(this,\"lp_iframe_no_scope_info\",{autofill_scope_fields:JSON.stringify(t.all_autofill_scope),out_scope_input_fields:JSON.stringify(t.all_out_scope_autofill),origin:t.url,iframe_path:e+t.path})},n.prototype.handleIframeHaveScope=function(t,e){var i;null===(i=this.sendEventV3)||void 0===i||i.call(this,\"lp_iframe_have_scope_info\",{iframe_scope:JSON.stringify(t.iframescope),is_have_hiden_input:t.have_hiden,origin:t.url,iframe_path:e+t.path})},n.prototype.handleIframeSendClick=function(t){var e;null===(e=this.onIframeSendClick)||void 0===e||e.call(this,t)},n.prototype.postMessageToIframes=function(e,i){this.iframeSourceList.forEach((function(n){var a=n.source,o=n.origin;o&&a&&(null==a||a.postMessage(t({event_name:e},i),o))}))},n.prototype.postMessageToMainFrame=function(e,i){var n;null===(n=window.top)||void 0===n||n.postMessage(t({event_name:e},i),\"*\")},n}(),c={first_name:[\"firstname\",\"first_name\",\"first name\",\"given_name\",\"given name\"],last_name:[\"lastname\",\"last_name\",\"last name\",\"family_name\",\"family name\"],email:[\"email\",\"mail\"],zip_code:[\"zip\",\"post\"],address:[\"address\"],city:[\"city\"],mobile:[\"phone\",\"tel\"],unit:[\"unit\",\"apartment\",\"suite\"],state:[\"province\",\"state\"],country:[\"country\"],cardNumber:[\"cc-number\"],exp_month:[\"cc-exp-month\"],exp_year:[\"cc-exp-year\"],exp_date:[\"cc-exp\"],cc_name:[\"cc-name\"]},u={first_name:/given.*name|first.*name|fname/i,last_name:/family.*name|last.*name|lname/i,email:/e.?mail/i,zip_code:/zip|postal|post.*code/i,address:/address.*line|address.?1|addr.?1|street|address.*one/i,city:/city|town/i,mobile:/phone|tel|mobile|cell?ular/i,unit:/address.*line2|address.?2|addr.?2|suite|unit|apartment|address.*two/i,state:/region|province|state/i,country:/country/i,cardNumber:/^credit.*num.*$|^card.*num.*$|ccnum|^cc.*num.*$|source.*number/i,exp_month:/expiry.*month|card.*month|exp.*month|credit.*month/i,exp_year:/expiry.*year|card.*year|exp.*year|credit.*year/i,exp_date:/MM.*YY|cardExpiry|card.*validity|card.*expiry|expiryDate/i,cc_name:/ccname|cc-name|ppw-accountHolderName|payment[name]|cardname|card-name|card_name/i},_={first_name:/vorname|initials|first$|nombre|\u0646\u0627\u0645|forename|pr\u00e9nom|prenom|\u0928\u093e\u092e|nama depan|\uc774\ub984|\u0d2a\u0d47\u0d30\u0d4d|\u0418\u043c\u044f/i,last_name:/nachname|surname|last$|secondname|apellidos?|famille|\u0909\u092a\u0928\u093e\u092e|nama belakang|cognome|\u0d2e\u0d31\u0d41\u0d2a\u0d47\u0d30\u0d4d|apelidos|surename|\u0424\u0430\u043c\u0438\u043b\u0438\u044f|sobrenome|\u0646\u0627\u0645.*\u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc/i,email:/correo.*electr(o|\u00f3)nico|courriel|\u0908\u092e\u0947\u0932|\u0907\u0932\u0945\u0915\u094d\u091f\u094d\u0930\u0949\u0928\u093f\u0915.?\u092e\u0947\u0932|\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9|(?:\uc774\uba54\uc77c|\uc804\uc790.?\uc6b0\ud3b8|[Ee]-?mail)(.?\uc8fc\uc18c)?|\u0d07-\u0d2e\u0d46\u0d2f\u0d3f\u0d32\u0d4d\u200d|\u0d07\u0d32\u0d15\u0d4d\u0d1f\u0d4d\u0d30\u0d4b\u0d23\u0d3f\u0d15\u0d4d.?\u0d2e\u0d46\u0d2f\u0d3f\u0d7d|\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d(\u0430\u044f|\u043e\u0439).?\u041f\u043e\u0447\u0442(\u0430|\u044b)|\u90ae\u4ef6|\u90ae\u7bb1|\u96fb\u5b50\u90f5\u4ef6|\u96fb\u90f5\u5730\u5740|\u96fb\u5b50\u4fe1\u7bb1/i,zip_code:/pcode|pin.?code|\\\\bcp\\\\b|\u092a\u093f\u0928.?\u0915\u094b\u0921|kode.?pos|\u90f5\u4fbf\u756a\u53f7|\uc6b0\ud3b8.?\ubc88\ud638|\u0d2a\u0d3f\u0d28\u0d4d\u200d\u0d15\u0d4b\u0d21\u0d4d|kod.?pocztowy|codigo|codpos|\u041f\u043e\u0447\u0442\u043e\u0432\u044b\u0439.?\u0418\u043d\u0434\u0435\u043a\u0441|\u90ae\u653f\u7f16\u7801|\u90ae\u7f16|\u90f5\u905e\u5340\u865f/i,address:/(?:shipping|billing)address$|house.?name|strasse|stra\u00dfe|direcci[\u00f3o]n.*1|^alamat|indirizzo|^\u4f4f\u6240$|\u4f4f\u62401|^\uc8fc\uc18c.?$|\uc8fc\uc18c.?1|ulica|ulicy|morada|endere\u00e7o|\u0410\u0434\u0440\u0435\u0441|\u5730\u5740|Direcci\u00f3n Exacta/i,city:/suburb|\\\\bort\\\\b|stadt|ciudad|localidad|poblacion|\u0634\u0647\u0631|ville|commune|\u0936\u0939\u0930|\u0917\u094d\u0930\u093e\u092e|\u0917\u093e\u0901\u0935|kota|kabupaten|citt[\u00e0a]\\\\b|localita|\u5e02\u533a\u753a\u6751|^\uc2dc[^\ub3c4\u00b7\u30fb]|\uc2dc[\u00b7\u30fb]?\uad70[\u00b7\u30fb]?\uad6c|\u0d28\u0d17\u0d30\u0d02|\u0d17\u0d4d\u0d30\u0d3e\u0d2e\u0d02|miasto|miejscowo\u015b\u0107|cidade|\u0413\u043e\u0440\u043e\u0434|\u041d\u0430\u0441\u0435\u043b(\u0435|\u0451)\u043d\u043d\u044b\u0439.?\u043f\u0443\u043d\u043a\u0442|\u5e02|\u5206\u5340/i,mobile:/contact.?number|telefonnummer|telefono|tel\u00e9fono|telfixe|\u092e\u094b\u092c\u093e\u0907\u0932|telepon|ponsel|\u96fb\u8a71|(?:\uc804\ud654|\ud578\ub4dc\ud3f0|\ud734\ub300\ud3f0|\ud734\ub300\uc804\ud654)(?:.?\ubc88\ud638)?|\u0d2e\u0d4a\u0d2c\u0d48\u0d32\u0d4d\u200d|telefone|telemovel|\u0442\u0435\u043b\u0435\u0444\u043e\u043d|\u7535\u8bdd/i,unit:/adresszusatz|erg\u00e4nzende.?angaben|adresszeile 2|direcci[\u00f3o]n.*2|informaci[\u00f3o]n\\\\s*adicional|complemento.*direcci[\u00f3o]n|indirizzo2|\u4f4f\u62402|\uc8fc\uc18c.?2|\u0423\u043b\u0438\u0446\u0430|\u5730\u57402|Una referencia de la direccion/i,state:/zone|county|principality|\u0930\u093e\u091c\u094d\u092f|\u043e\u0431\u043b\u0430\u0441\u0442\u044c|\u7701|\u5730\u5340|provinsi|propinsi|estado|provincia|\u90fd\u9053\u5e9c\u770c|\u0d38\u0d02\u0d38\u0d4d\u0d25\u0d3e\u0d28\u0d02|^\uc2dc[\u00b7\u30fb]?\ub3c4|\u0627\u0633\u062a\u0627\u0646/i,country:/countries|pa\u00eds|pais|negara|\u56fd|\uad6d\uac00|\ub098\ub77c|\u56fd\u5bb6/i,cardNumber:/(?:card|cc|acct).?(?:number|#|no|num|field(?!s)|pan)|0000 ?0000 ?0000 ?0000|1234 ?1234 ?1234 ?1234|^xxxx ?xxxx ?xxxx ?xxxx$|no.*kartu|\u30ab\u30fc\u30c9\u756a\u53f7|\uce74\ub4dc|\u041d\u043e\u043c\u0435\u0440.*\u043a\u0430\u0440\u0442\u044b|\u4fe1\u7528\u5361\u53f7|\u4fe1\u7528\u5361\u5361\u865f/i,exp_month:/\u6709\u6548\u671f\u2014\u2014\u6708/i,exp_year:/\u6709\u6548\u671f\u2014\u2014\u5e74/i,exp_date:/\u6709\u6548\u671f\u2014\u2014\u65e5\u671f/i,cc_name:/cc-name/i},p={first_name:/First Name|\uc774\ub984|Pr\u00e9nom|Vorname|Nome|\u0418\u043c\u044f|Nombre|\u0928\u093e\u092e/i,last_name:/Last Name|Family Name|\uc131|Surname|Nachname|Cognome|\u0424\u0430\u043c\u0438\u043b\u0438\u044f|Apellido|\u0909\u092a\u0928\u093e\u092e/i,email:/Email|\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9|\uc774\uba54\uc77c|E-mail|Courriel|E-Mail|Posta elettronica|\u0908\u092e\u0947\u0932/i,zip_code:/Zip Code|Post Code|\u90f5\u4fbf\u756a\u53f7|Postleitzahl|Codice postale/i,address:/Address|\u4f4f\u6240|\uc8fc\uc18c|Adresse|Indirizzo|\u0410\u0434\u0440\u0435\u0441|Direcci\u00f3n/i,city:/City|\u5e02|\u5e02\u533a\u753a\u6751|Ville|Stadt|Citt\u00e0|\u0413\u043e\u0440\u043e\u0434|Ciudad|\u0936\u0939\u0930/i,mobile:/Phone|Mobile|Tel|\u96fb\u8a71|\ud734\ub300\ud3f0|Telefon|Telefono|\u0422\u0435\u043b\u0435\u0444\u043e\u043d|Tel\u00e9fono/i,unit:/Unit|Suite|\u4f4f\u62403|\uc8fc\uc18c|Appartement/i,state:/State|Province|\u90fd\u9053\u5e9c\u770c|Estado|\u0930\u093e\u091c\u094d\u092f/i,country:/Country|\u56fd\u5bb6|\ub098\ub77c|Land|Pa\u00eds/i,cardNumber:/Card Number|\u30ab\u30fc\u30c9\u756a\u53f7/i,exp_month:/Expiry Month|\u6709\u52b9\u671f\u9650|\u6708/i,exp_year:/Expiry Year|\u6709\u52b9\u671f\u9650|\u5e74/i,exp_date:/Expiry Date|\u6709\u52b9\u671f\u9650/i,cc_name:/Name on Card/i},f=1,d=0;function h(t,e){void 0===e&&(e={});var i=function(t,e,i,n,a){void 0===n&&(n=!1);void 0===a&&(a={});var o=t.querySelectorAll(\"input\");n&&(o=t.querySelectorAll(\"input,select\"));for(var s=a,r=0;r<o.length;r++){var l=o[r];if(P(l,n)){var c=k(l);if(null!=c&&i.includes(c))!(null===l.value||\"\"===l.value||l.value.match(/^[ ]*$/))&&e||(s[c]?s[c].push(l):s[c]=[l])}}return s}(t,!1,Object.keys(c),!0),n=e,a=/^(\\+\\d+)?[-|\\s]?([\\d-\\s]{3,17})$/,o=/^(\\(\\d+\\))[-|\\s]?([\\d-\\s]{3,17})$/;for(var s in i){var r=void 0;if(r=\"mobile\"===s?i[s].find((function(t){return a.test(t.value)||o.test(t.value)})):\"email\"===s?i[s].find((function(t){return/^\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$/.test(t.value)})):i[s].find((function(t){return t.value})))if(\"mobile\"===s){var l=r.value;/^(\\(\\d+\\))[-|\\s]?([\\d-\\s]{3,17})$/.test(l)&&(l=(l=l.replace(\"(\",\"+\")).replace(\")\",\" \")),l=/^\\+\\d+$/.test(l)?l.replace(\"+\",\"\"):(l=(l=l.replace(/^(\\+\\d+)?[-|\\s]?([\\d-\\s]{3,17})$/,(function(t,e,i){return e?(\"0\"===e[1]&&(e=e.replace(\"+\",\"\")),e+\" \"+i.replace(/\\s/g,\"\")):i.replace(/\\s/g,\"\")}))).trimStart()).replace(/-/g,\"\"),n[s]=l}else n[s]=r.value}return n}function m(t){var e=[],i=[],n=[],a=[],o=[],s=t.form instanceof HTMLFormElement?t.form:null;if(!s){var r={id:t.id,type:t.type,placeholder:t.placeholder,name:t.name},l=E(t),c=null==l?void 0:l.key,u=null==l?void 0:l.is_new_regtags,_=null==l?void 0:l.is_new_attribute,p=null==l?void 0:l.recognition_type;return c?(n.push(c),e.push(r),\"cardNumber\"==c||\"exp_month\"==c||\"exp_year\"==c||\"exp_date\"==c||\"cc_name\"==c?o.push(c):a.push(c)):i.push(r),{autofill_scope_fields:e,out_scope_input_fields:i,autofill_fields:n,paymentinfo_fileds:o,contactinfo_fileds:a,recognition_regtags_status:u,recognition_attribute_status:_,recognition_type:p}}return v(s)}function g(t){if(!t)return null;var e=A(t),i=T(t),n=N(t),a=n.key,o=B(t),s=o.key,r=e||a||i||s,l=null;return!r||!s||e||a||i||(l=o.recognition_type),{key:r,is_new_attribute:n.is_new_attribute,is_new_regtags:n.is_new_regtags,recognition_type:l}}function v(t,e){void 0===e&&(e=!1);var i,n,a=[],o=[],s=[],r=[],l=[],c=[],u=0,_=!1,p=!1,f=!1,d=!1,h=\"\",m=!1,v=t.querySelectorAll(\"input\");e&&(v=t.querySelectorAll(\"input, select\"));for(var b=0;b<v.length;b++){var S=v[b];if(C(S)){var w=g(S);_||(null==w?void 0:w.is_new_attribute)||(_=!0),!p&&(null==w?void 0:w.is_new_attribute)&&(p=!0),f||(null==w?void 0:w.is_new_regtags)||(f=!0),!d&&(null==w?void 0:w.is_new_regtags)&&(d=!0),\"label\"===(null==w?void 0:w.recognition_type)&&(m=!0);var I=null==w?void 0:w.key,k={id:S.id,type:S.type,placeholder:S.placeholder,name:S.name,aria_label:S[\"aria-label\"]?S[\"aria-label\"]:\"null\",aria_labelledby:S[\"aria-labelledby\"]?S[\"aria-labelledby\"]:\"null\",aria_description:S.aria_description?S.aria_description:\"null\"};J(S)&&(i=S,n=void 0,void 0,n=window.getComputedStyle(i),\"none\"!==n.display&&\"hidden\"!==n.visibility&&\"0\"!==n.opacity&&\"rect(0 0 0 0)\"!==n.clip&&\"rect(0px, 0px, 0px, 0px)\"!==n.clip)?I?(r.push(I),\"mobile\"===I&&(k.value=S.value.replace(/\\d/g,\"x\")),a.push(k),\"cardNumber\"==I||\"exp_month\"==I||\"exp_year\"==I||\"exp_date\"==I||\"cc_name\"==I?c.push(I):l.push(I)):o.push(k):u=1}else{k={id:S.id,type:S.type,placeholder:S.placeholder,name:S.name,aria_label:S[\"aria-label\"]?S[\"aria-label\"]:\"null\",aria_labelledby:S[\"aria-labelledby\"]?S[\"aria-labelledby\"]:\"null\",aria_description:S.aria_description?S.aria_description:\"null\"};s.push(k)}}return m&&(h=\"label\"),{autofill_scope_fields:a,out_scope_input_fields:o,out_scope_form_input_fields:s,autofill_fields:r,paymentinfo_fileds:c,contactinfo_fileds:l,is_have_hiden:u,recognition_attribute_status:y(_,p),recognition_regtags_status:y(f,d),recognition_type:h}}function y(t,e){return t&&e?3:!t&&e?2:t&&!e?1:0}function b(t,e){try{var i=void 0;t instanceof HTMLInputElement&&(i=(Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,\"value\")||{}).set),i?i.call(t,e):t.value=e}catch(t){throw t}}function S(t,e){return Object.values(e).some((function(e){return e.includes(t)}))}function w(t,e,i,n,a){void 0===n&&(n=!1),void 0===a&&(a={});var o=t.querySelectorAll(\"input\");n&&(o=t.querySelectorAll(\"input,select\"));for(var s=a,r=0;r<o.length;r++){var l=o[r];if(P(l,n)){var c=k(l);if(null!=c&&i.includes(c))(null===l.value||\"\"===l.value||l.value.match(/^[ ]*$/)||e)&&(s[c]?s[c].push(l):s[c]=[l])}}return s}function I(t,e,i,n){void 0===n&&(n={});var a=n;if(P(t)){var o=k(t);if(null!=o&&i.includes(o))!(null===t.value||\"\"===t.value||t.value.match(/^[ ]*$/))&&e||(a[o]?a[o].push(t):a[o]=[t])}return a}function k(t){if(!t||!x(t))return null;var e=A(t),i=T(t),n=function(t){for(var e in u){if(M(t,u[e]))return e;if(O(t,_[e]).is_match)return e}return null}(t),a=B(t).key;return e||n||i||a}function E(t){if(!t||!x(t))return null;var e=A(t),i=T(t),n=N(t),a=n.key,o=B(t),s=o.key,r=e||a||i||s,l=null;return!r||!s||e||a||i||(l=o.recognition_type),{key:r,is_new_attribute:n.is_new_attribute,is_new_regtags:n.is_new_regtags,recognition_type:l}}function F(t,e){for(var i=[],n=[],a=[],o=[],s=[],l=!1,c=!1,u=!1,_=0,p=0,f=\"\",d=[],h=[],m=0;m<t.length;m++){var g=t[m],y=v(g,e),b=y.autofill_scope_fields,S=y.out_scope_input_fields,w=y.contactinfo_fileds,I=y.paymentinfo_fileds,k=y.out_scope_form_input_fields,E=y.recognition_attribute_status,F=y.recognition_regtags_status,A=y.autofill_fields,T=(y.is_have_hiden,y.recognition_type);w.find((function(t){return r.ins.autoFillField.find((function(e){return e===t}))}))&&0==r.ins.contactInfo_status&&(c=!0),I.length>0&&0==r.ins.paymentInfo_status&&(u=!0),l=c||u;var N=g.querySelectorAll(\"input\");h=h.concat(Array.from(N)),i=i.concat(b),n=n.concat(S),a=a.concat(w),o=o.concat(I),s=s.concat(k),d=d.concat(A),0==_?_=E:E!=_&&(_=3),0==p?p=F:F!=p&&(p=3),f=T}return{all_autofill_scope:i,all_out_scope_autofill:n,contactinfo_scope_fileds:a,paymentinfo_scope_fileds:o,out_scope_form_fields:s,support_autofill:l,support_contact:c,support_payment:u,recognition_attribute_status_:_,recognition_regtags_status_:p,autofill_fields_list:d,all_input_fields:h,have_hiden:0,recognition_type_:f}}function A(t){var e,i,a=t.getAttribute(\"autocomplete\");if(a&&\"none\"!==a&&\"false\"!==a&&\"off\"!==a){var o=a.split(/\\s+/);if(o)try{for(var s=n(o),r=s.next();!r.done;r=s.next()){var l=r.value;for(var u in c)if(c[u].includes(l))return u}}catch(t){e={error:t}}finally{try{r&&!r.done&&(i=s.return)&&i.call(s)}finally{if(e)throw e.error}}}return null}function T(t){return\"email\"===t.getAttribute(\"type\")?\"email\":null}function N(t){var e={key:null,is_new_regtags:!1,is_new_attribute:!1};for(var i in u){var n=O(t,u[i]);if(n.is_match)return e.is_new_attribute=n.is_new_attribute,e.is_new_regtags=!1,e.key=i,e;if(O(t,_[i]).is_match)return e.is_new_attribute=n.is_new_attribute,e.is_new_regtags=!0,e.key=i,e}return e}function M(t,e){for(var i=[\"name\",\"placeholder\",\"id\",\"aria-label\",\"aria-labelledby\",\"aria_description\"],n=0;n<i.length;++n){var a=i[n],o=t.getAttribute(a);if(o&&o.match(e))return!0}return!1}function O(t,e){for(var i=[\"name\",\"placeholder\",\"id\",\"aria-label\",\"aria-labelledby\",\"aria_description\"],n={is_new_attribute:!1,is_match:!1},a=0;a<i.length;++a){var o=i[a],s=t.getAttribute(o);if(s&&s.match(e))return n.is_match=!0,n.is_new_attribute=\"name\"!=o&&\"placeholder\"!=o&&\"id\"!=o,n}return n}function P(t,e){return void 0===e&&(e=!1),e?t instanceof HTMLInputElement||t instanceof HTMLSelectElement:t instanceof HTMLInputElement}function x(t){return!(!J(t)||!function(t){return t.tabIndex>=0}(t))&&C(t)}function C(t){var e=t.type||t.getAttribute(\"type\");return!(e&&![\"text\",\"email\",\"tel\"].includes(e))}function J(t){return null!==t.offsetParent}function L(t){return/^\\d*$/.test(t)}function B(t){var e,i,n={key:null,recognition_type:\"\"},a=t.closest(\"label\");if(a&&a.textContent&&(l=j(r=a.textContent.trim())))return n.key=l,n.recognition_type=\"label\",n;var o=t.previousElementSibling;if(o&&\"label\"===o.tagName.toLowerCase()&&((r=null===(e=o.textContent)||void 0===e?void 0:e.trim())&&(l=j(r))))return n.key=l,n.recognition_type=\"label\",n;var s=t.nextElementSibling;if(s&&\"label\"===s.tagName.toLowerCase()&&((r=null===(i=s.textContent)||void 0===i?void 0:i.trim())&&(l=j(r))))return n.key=l,n.recognition_type=\"label\",n;if(t.id){var r,l,c=(t.closest(\"form\")||document).querySelector(\'label[for=\"\'.concat(t.id,\'\"]\'));if(c&&c.textContent)if(l=j(r=c.textContent.trim()))return n.key=l,n.recognition_type=\"label\",n}return n}function j(t){for(var e in p)if(t.match(p[e]))return e;for(var e in u)if(t.match(u[e]))return e;return null}function R(t){var e=[];for(var i in t)e.includes(i)||e.push(i);return e}new(function(){function c(t,e,i){var n,a,o,s;void 0===i&&(i={first_page:1,platform:-1}),this.executed=!1,this.iframescope=[],this.iframeDataList=[],this.selected=null,this.click_type=-1,this.showAutoFillPopup=!1,this.autoFillStatus=0,this.version=\"version_20251103_0.09556976853408172\",this.js_from=\"cdn\",this.clickOrigin=null,this.clickSource=null,this.autofill_saved_data={},this.is_use_contact_autofill=0,this.is_use_payment_autofill=0,this._throttledHandleAutoFillRequest=(n=this.handleAutoFillRequest,a=100,o=this,s=!1,function(t){s||(n.call(o,t),s=!0,setTimeout((function(){s=!1}),a))}),this._clickData=null,this.all_input_fields=[],this.detected_forms=[],this.detected_input_fields=[],this._is_have_submit=!1,this.submitted=!1;try{console.log(\"version:\"+this.version),this.initAutofillInfo(t,e,i),this.iframeBridge=new l,this.addClickEvent(),this.addNativeUpdateEvent(),this.sendEventV3(\"lp_js_init_success\",{js_version:this.version,js_from:this.js_from})}catch(t){this.sendEventV3(\"lp_js_init_fail\",{code:0,fail_reason:JSON.stringify({fail_reason:t.message,stack:t.stack}),js_version:this.version,js_from:this.js_from})}}return c.prototype.initAutofillInfo=function(t,e,i){void 0===i&&(i={first_page:1,platform:-1}),r.ins.initAdInfo(t,i),this._data=r.ins,this.setAutofillInfo(e)},c.prototype.setAutofillInfo=function(t){r.ins.initAutofillInfo(t)},c.prototype.initAutoFill=function(t){return e(this,void 0,void 0,(function(){var e,n,a,s,l,c,u,_,p,f,d,h;return i(this,(function(i){switch(i.label){case 0:return this.executed?[3,4]:window===window.top?[3,2]:(this.executed=!0,[4,(m=200,void 0===m&&(m=1e3),new Promise((function(t,e){setTimeout((function(){t()}),m)})))]);case 1:if(i.sent(),e=document.querySelectorAll(\"form\"),this.formList=e,n=Array.from(e),a=F(n),s=a.support_autofill,l=a.autofill_fields_list,c=a.all_out_scope_autofill,u=a.all_autofill_scope,_=a.have_hiden,this.iframescope=l,p=document.querySelectorAll(\"input\"),!s){for(f=[],d=0;d<p.length;d++)null===p[d].closest(\"form\")&&(h=k(p[d]))&&(f.push(h),this.iframescope.push(h));0===f.length&&this.iframeBridge.postMessageToMainFrame(o.IFRAME_NO_SCOPE,{all_out_scope_autofill:c,all_autofill_scope:u,url:window.location.href,path:new URL(window.location.href).pathname})}if(r.ins.iframeScope=this.iframescope,this.iframescope.length>0&&this.iframeBridge.postMessageToMainFrame(o.IFRAME_HAVE_SCOPE,{iframescope:this.iframescope,have_hiden:_,url:window.location.href,path:new URL(window.location.href).pathname}),p.length<1)return[2];i.label=2;case 2:return[4,this.handShake()];case 3:i.sent(),i.label=4;case 4:return window===window.top&&this.checkPageInfo(t),[2]}var m}))}))},c.prototype.checkPageInfo=function(t){var e=this,i=document.querySelectorAll(\"form\");if(this.formList=i,this.executed){var s=document.querySelectorAll(\"form\");if(function(t,e){var i,a,o=new Set(Array.from(t,(function(t){return t.outerHTML}))),s=new Set(Array.from(e,(function(t){return t.outerHTML})));if(o.size!==s.size)return!1;try{for(var r=n(o),l=r.next();!l.done;l=r.next()){var c=l.value;if(!s.has(c))return!1}}catch(t){i={error:t}}finally{try{l&&!l.done&&(a=r.return)&&a.call(r)}finally{if(i)throw i.error}}return!0}(s,this.formList)&&this._data.mainframe_load>0)return;this.formList=s}else this.formList=document.querySelectorAll(\"form\");this.executed=!0;var r=F(Array.from(i)),l=r.all_autofill_scope,c=r.all_out_scope_autofill,u=r.contactinfo_scope_fileds,_=r.paymentinfo_scope_fileds,p=r.support_autofill,f=r.support_contact,d=r.support_payment,h=r.recognition_attribute_status_,m=r.recognition_regtags_status_,g=r.recognition_type_,v=-1;\"complete\"===t?v=1:\"interactive\"===t&&(v=2);var y=document.querySelectorAll(\"iframe\"),b={autofill_scope_fields:JSON.stringify(l),out_scope_input_fields:JSON.stringify(c),support_autofill:p?1:0,support_contact:f?1:0,support_payment:d?1:0,contactinfo_scope_fileds:JSON.stringify(u),paymentinfo_scope_fileds:JSON.stringify(_),iframeList:y.length>0?1:0,report_from:t,report_time:v,mainframe_load:this._data.mainframe_load,recognition_attribute_status:h,recognition_regtags_status:m,recognition_type:g};2==this._data.platform&&window==window.top?(window.JSBridge||a(),window.JSBridge.call(\"getWebViewExtraInfo\",{test:\"t\"},(function(t){var i=\"string\"==typeof t?JSON.parse(t):t;e._data.is_first_page=i?i.first_page:-1,e.setAutofillInfo(i.autofillInfo),e.iframeBridge.postMessageToIframes(o.RESET_DATA,{info:i.autofillInfo}),e.sendEventV3(\"lp_inject_js_form_info\",b)}))):1==this._data.platform&&window==window.top&&this.sendEventV3(\"lp_inject_js_form_info\",b)},c.prototype.handShake=function(){var t=this;this.iframeBridge.initHandshake(),this.sendEventV3=this.sendEventV3.bind(this),this.iframeBridge.onHandshake2Complete=function(e){t.initAutofillInfo(e.adInfo,e.autoFillInfo,e.extraData)},this.iframeBridge.removeSelect=function(){t.selected=null},this.iframeBridge.onGet=function(e,i,n){var a;t.clickOrigin&&t.clickSource&&(t.clickOrigin!=i||t.clickSource!=n)&&(null===(a=t.clickSource)||void 0===a||a.postMessage({event_name:o.MAIN_TO_IFRAME_REMOVESELECT},t.clickOrigin)),t.clickOrigin=i,t.clickSource=n,t.selected=null,t.click_type=e.click_type,t.clickTag=e.tag,0==e.support_autofill?t._data.noKeyReason=0:1==e.support_autofill?t._data.noKeyReason=2:2==e.support_autofill&&(t._data.noKeyReason=-1),e.isSelectEmpty?t.callJSBBridge(e.autofillFields,void 0,e.tag,e.click_type,e.field,1):t.sendTextClick(e.tag,e.autofillFields),t.sendEventV3(\"lp_click_input\",{report_time:2,support_autofill:e.pointData.support_autofill,click_input_status:e.pointData.click_input_status,is_should_detect:e.pointData.is_should_detect,can_autofill:e.pointData.can_autoFill,click_autofill_field:e.pointData.tag,is_field_include:e.pointData.is_field_include,is_value_empty:e.pointData.is_value_empty,is_in_iframe:1,autofill_field:e.tag,recognition_attribute_status:e.pointData.recognition_attribute_status,recognition_regtags_status:e.pointData.recognition_regtags_status,event_type:e.eventType,recognition_type:e.pointData.recognition_type})},this.iframeBridge.onTrigger=function(e){1==e.autofillData.isAutofillAll?t.insertInput(e.autofillData,t.selected):t.setSingleValue(e.autofillData),t.selected=null},this.iframeBridge.onSetFocus=function(){t.selected&&t.selected.focus()},this.iframeBridge.resetData=function(e){t.setAutofillInfo(e.info)},this.iframeBridge.onIframeSendClick=function(e){t.sendTextClick(e.tag,e.autofillFields)},this.iframeBridge.onGetSubmit=function(){var e;if(t.formList&&t.formList.length>0){var i=t.setSubmit(),n=i.contact_info,a=i.payment_info,s=i.autofill_scope_fields,r=i.out_scope_input_fields;null===(e=window.top)||void 0===e||e.postMessage({event_name:o.RECEIVE_SUBMIT,contact_info:n,payment_info:a,autofill_scope_fields:s,out_scope_input_fields:r},\"*\")}},this.iframeBridge.onReceiveSubmit=function(e){t.iframeDataList.push({contact_info:e.contact_info,payment_info:e.payment_info,autofill_scope_fields:e.autofill_scope_fields,out_scope_input_fields:e.out_scope_input_fields}),t.autofillFormSubmitCallback(t.event)},this.iframeBridge.onIframeSubmit=function(){t.throttledHandleAutoFillSubmit()},this.iframeBridge.sendEventV3=this.sendEventV3.bind(this),this.iframeBridge.onAutofillPopupChange=function(e){t.showAutoFillPopup=e.showAutoFillPopup}},c.prototype.throttledHandleAutoFillSubmit=function(t){void 0===t&&(t=null),this._is_have_submit||this.autofillFormSubmitCallback(t)},c.prototype.addNativeUpdateEvent=function(){window.__autoFillCallback__=this.autoFillCallback.bind(this),window.__AutoFillPopupClose__=this.AutoFillPopupClose.bind(this),window.__rejectUseAutofill__=this.rejectUseAutofill.bind(this),window.__updatePipoPaymentCount__=this.updatePipoPaymentCount.bind(this),window.__autoFillInfoChange__=this.autoFillInfoChange.bind(this),window.__shopifyNativeSubmit__=this.shopifyNativeSubmit.bind(this)},c.prototype.autoFillCallback=function(t){var e;try{var i=this.iframeBridge.iframeSourceList;if(window===window.top){try{1==(\"string\"==typeof t?JSON.parse(t):t).isAutofillAll?this.insertInput(t,this.selected):this.selected&&this.setSingleValue(t),this.selected=null}catch(t){this.sendEventV3(\"lp_js_run_fail\",{code:\"5\",fail_reason:JSON.stringify({msg:t.message,stack:t.stack})})}try{for(var n=0;n<i.length;n++)i[n].origin&&i[n].source&&(null===(e=i[n].source)||void 0===e||e.postMessage({event_name:o.TRIGGER,autofillData:t},i[n].origin))}catch(t){this.sendEventV3(\"lp_js_run_fail\",{code:\"5.1\",fail_reason:JSON.stringify({msg:t.message,stack:t.stack})})}}}catch(t){this.sendEventV3(\"lp_js_run_fail\",{code:\"2\",fail_reason:JSON.stringify({msg:t.message,stack:t.stack})})}},c.prototype.insertInput=function(t,e){var i,n,a={},s=\"string\"==typeof t?JSON.parse(t):t;if(!s.paymentInfo||\"\"!=s.paymentInfo.cardNumber&&null!=s.paymentInfo.cardNumber){s.contactInfo&&(this.autofill_saved_data.concat_info=s.contactInfo,this.is_use_contact_autofill=1),s.paymentInfo&&(this.autofill_saved_data.payment_info=s.paymentInfo,this.is_use_payment_autofill=1);var r=0,l=!0;a=s.contactInfo?s.contactInfo:s.paymentInfo;var c={cc_name:\"\",cc_name_source:\"\"};if(s.paymentInfo){var u=a.expiryTime.split(\"/\"),_=u[1].slice(-2),p=u[0]+\"/\"+_;a.exp_date=p,a.exp_month=u[0],a.exp_year=_;var f=null===(i=s.paymentInfo)||void 0===i?void 0:i.fillInfo;(null==f?void 0:f.holderName)?(c.cc_name=f.holderName,c.cc_name_source=\"pipoInfo\"):((null==f?void 0:f.firstName)||(null==f?void 0:f.lastName))&&((null==f?void 0:f.firstName)&&(null==f?void 0:f.lastName)?(c.cc_name=f.firstName+\" \"+f.lastName,c.cc_name_source=\"contactInfo\"):(null==f?void 0:f.firstName)?(c.cc_name=f.firstName,c.cc_name_source=\"contactInfo_firstName\"):(null==f?void 0:f.lastName)&&(c.cc_name=f.lastName,c.cc_name_source=\"contactInfo_lastName\")),console.log(\">>> cc_name_info\",c),a.cc_name=c.cc_name}this.formList=document.querySelectorAll(\"form\");for(var d={},h=0;h<this.formList.length;h++)d=w(this.formList[h],!0,Object.keys(a),!1,d);var g=document.querySelectorAll(\"input\");for(h=0;h<g.length;h++)S(g[h],d)||(d=I(g[h],!0,Object.keys(a),d));var v=function(t){if(a[t]){var i=a[t];if(\"mobile\"===t){var n=i.split(/\\s+/);i=n[n.length-1]}d[t].forEach((function(t){t!==e&&t.value?(t===e&&t.value!=i||t.value!=i&&s.paymentInfo)&&(r+=1,b(t,i),setTimeout((function(){t.value=i}),0)):(r+=1,b(t,i),setTimeout((function(){t.value=i}),0),t.value!==i&&(l=!1)),t.dispatchEvent(new Event(\"input\",{bubbles:!0})),t.dispatchEvent(new Event(\"change\",{bubbles:!0})),t.dispatchEvent(new Event(\"click\",{bubbles:!0})),t.dispatchEvent(new Event(\"touchstart\",{bubbles:!0})),t.focus(),t.blur()}))}};for(var y in d)v(y);var k=[],E=[];if(e){var F=m(e);k=F.autofill_scope_fields,E=F.out_scope_input_fields}var A=s.scene?s.scene:-1,T=s.isAutofillAll?s.isAutofillAll:-1,N=s.currentKey?s.currentKey:\"null\",M={popup_type:0,autofill_fields:s.autofillFields?s.autofillFields.toString():\"null\",user_autofill_fields:JSON.stringify(Object.keys(d)),autofill_scope_count:k.length,autofill_out_scope_count:E.length,autofill_count:r,autofill_success:l,infoType:this.click_type.toString(),autofill_key:R(d).toString(),input_key:R(d).toString(),scene:A.toString(),is_autofill_all:T,current_key:N,show_autofill_all:s.currentKey?1:0,no_key_reason:s.noKeyReason,cc_name_source:c.cc_name_source};window===window.top?(M.is_in_iframe=0,this.sendEventV3(\"lp_js_autofill_success\",M)):r>0&&(M.is_in_iframe=1,null===(n=window.top)||void 0===n||n.postMessage({event_name:o.TRIGGER_AUTOFILL_SUBMIT,point_data:M},\"*\")),this.autoFillStatus=1}},c.prototype.setSingleValue=function(t){var e,i=\"string\"==typeof t?JSON.parse(t):t,n=\"\",a=\"\";if(i.contactInfo?(a=Object.keys(i.contactInfo)[0],n=i.contactInfo[a]):i.paymentInfo&&(a=Object.keys(i.paymentInfo)[0],n=i.paymentInfo[a]),this.selected){var s=E(this.selected);i.currentKey&&i.currentKey;b(this.selected,n);var r=this.selected;setTimeout((function(){r.value=n,console.log(r.value)}),0);var l={input_key:a,autofill_key:null==s?void 0:s.key,scene:(i.scene?i.scene:-1).toString(),is_autofill_all:0,infoType:this.click_type.toString(),current_key:i.currentKey,no_key_reason:i.noKeyReason,show_autofill_all:i.currentKey?1:0,autofill_fields:i.autofillFields?i.autofillFields.toString():\"null\"};window===window.top?this.sendEventV3(\"lp_js_autofill_success\",l):(l.is_in_iframe=1,null===(e=window.top)||void 0===e||e.postMessage({event_name:o.TRIGGER_AUTOFILL_SUBMIT,point_data:l},\"*\")),r.dispatchEvent(new Event(\"input\",{bubbles:!0})),r.dispatchEvent(new Event(\"change\",{bubbles:!0})),r.dispatchEvent(new Event(\"click\",{bubbles:!0})),r.dispatchEvent(new Event(\"touchstart\",{bubbles:!0})),this.selected.focus(),this.selected.blur()}},c.prototype.updatePipoPaymentCount=function(t){r.ins.updatePipoPaymentCount(t),this.iframeBridge.postMessageToIframes(o.SET_IFRAME_DATA,{type:1,pipo_paymentInfo_status:this._data.pipo_paymentInfo_status,paymentField:this._data.paymentField,pipo_payment_count:this._data.pipo_payment_count})},c.prototype.shopifyNativeSubmit=function(){this.throttledHandleAutoFillSubmit()},c.prototype.AutoFillPopupClose=function(){this.showAutoFillPopup=!1},c.prototype.autoFillInfoChange=function(t){var e=\"string\"==typeof t?JSON.parse(t):t,i=e.autoFillInfo,n=e.changeFrom;this.setAutofillInfo(i),this.iframeBridge.postMessageToIframes(o.RESET_DATA,{info:i}),this.sendEventV3(\"lp_autofill_info_reset\",{change_from:n})},c.prototype.rejectUseAutofill=function(){this.selected&&this.selected.focus(),this.iframeBridge.postMessageToIframes(o.SET_FOCUS,{}),this._clickData&&window.JSBridge.call(\"iabEditTextClick\",this._clickData,(function(){}))},c.prototype.addClickEvent=function(){window.addEventListener(\"click\",this.onClick.bind(this)),window.addEventListener(\"focusin\",this.onClick.bind(this))},c.prototype.removeClickEvent=function(){window.removeEventListener(\"click\",this.onClick.bind(this)),window.removeEventListener(\"focusin\",this.onClick.bind(this))},c.prototype.throttledHandleAutoFillRequest=function(t){this._throttledHandleAutoFillRequest(t)},c.prototype.onClick=function(t){(window===window.top||window!==window.top&&this.iframeBridge.status===s.FULFILLED)&&this.throttledHandleAutoFillRequest(t)},c.prototype.onBlur=function(){this.selected=null},c.prototype.handleAutoFillRequest=function(t){var e;try{var i=null==t?void 0:t.target;if(i&&P(i)&&(\"click\"==t.type||\"touchstart\"==t.type||\"focusin\"==t.type)){if(i.form instanceof HTMLFormElement){var n=i.form;n.removeEventListener(\"submit\",this.autofillFormSubmitCallback.bind(this)),n.addEventListener(\"submit\",this.autofillFormSubmitCallback.bind(this))}this.selected=i,this.clickOrigin&&this.clickSource&&(null===(e=this.clickSource)||void 0===e||e.postMessage({event_name:o.MAIN_TO_IFRAME_REMOVESELECT},this.clickOrigin),this.clickOrigin=null,this.clickSource=null);var a=E(i);this.clickHandle(a,i,t.type)}}catch(t){this.sendEventV3(\"lp_js_run_fail\",{js_fail_code:\"0\",fail_reason:JSON.stringify({fail_reason:t.message,stack:t.stack})})}},c.prototype.clickHandle=function(t,e,i){var n,a,s,r,l,c=null==t?void 0:t.key,u=(null==t?void 0:t.is_new_attribute)?2:1,_=(null==t?void 0:t.is_new_regtags)?2:1,p=[];if(this.click_type=-1,this.clickTag=c,c)if(\"cardNumber\"==c||\"exp_month\"==c||\"exp_year\"==c||\"exp_date\"==c||\"cc_name\"==c){if(0!=this._data.paymentInfo_status&&0!=this._data.pipo_paymentInfo_status||(p=this._data.Payment_Field,this.click_type=f),!this._data.switchPayment)return this._data.noKeyReason=1,void(window===window.top?this.sendTextClick(null,[]):this.iframeBridge.postMessageToMainFrame(o.IFRAME_TO_MAIN_SENDCLICK,{tag:null,autofillFields:[]}))}else if(0==this._data.contactInfo_status&&(p=this._data.autoFillField,this.click_type=d),!this._data.switchContact)return this._data.noKeyReason=1,void(window===window.top?this.sendTextClick(null,[]):this.iframeBridge.postMessageToMainFrame(o.IFRAME_TO_MAIN_SENDCLICK,{tag:null,autofillFields:[]}));var h,m=function(t,e,i){var n={},a=t.form instanceof HTMLFormElement?t.form:null;if(!a){var o=k(t);return o&&i.includes(o)?(n[o]=[t],n):null}return w(a,e,i)}(this.selected,!1,p);this.allInputTagMap=m,c&&p.includes(c)&&(null===this.selected.value||\"\"===this.selected.value||this.selected.value.match(/^[ ]*$/))&&(h=this.detect(this.selected,this.click_type));var g={is_should_detect:Number(h),can_autoFill:Number(this._data.canAutoFill),tag:c,is_field_include:Number(p.includes(c)),is_value_empty:Number(null===this.selected.value||\"\"===this.selected.value||this.selected.value.match(/^[ ]*$/))},v=0,y=c;y?(v=1,this._data.noKeyReason=2,p.find((function(t){return t===y}))&&(v=2,this._data.noKeyReason=-1)):this._data.noKeyReason=0;var b={report_time:2,support_autofill:v,autofill_field:y||\"\",click_input_status:JSON.stringify({id:null===(n=this.selected)||void 0===n?void 0:n.id,type:null===(a=this.selected)||void 0===a?void 0:a.type,placeholder:null===(s=this.selected)||void 0===s?void 0:s.placeholder,name:null===(r=this.selected)||void 0===r?void 0:r.name}),is_should_detect:g.is_should_detect,can_autofill:g.can_autoFill,click_autofill_field:g.tag,is_field_include:g.is_field_include,is_value_empty:g.is_value_empty,is_in_iframe:0,recognition_attribute_status:u,recognition_regtags_status:_,recognition_type:null==t?void 0:t.recognition_type,event_type:i};this.sendNewInputLog(this.selected,g);var S=R(m);if(window!==window.top){var I=this.click_type;this.click_type==f&&(S=this._data.Payment_Field);var E;return E=null===this.selected.value||\"\"===this.selected.value||this.selected.value.match(/^[ ]*$/),void(null===(l=window.top)||void 0===l||l.postMessage({event_name:o.GET,autofillFields:S,click_type:I,field:p,tag:c,pointData:b,isSelectEmpty:E,support_autofill:v,eventType:i},\"*\"))}this.sendEventV3(\"lp_click_input\",b),h&&m&&0!==Object.keys(m).length&&this._data.canAutoFill&&c&&p.includes(c)&&(null===this.selected.value||\"\"===this.selected.value||this.selected.value.match(/^[ ]*$/))?this.callJSBBridge(R(m),this.selected,c,this.click_type,p,0,b):2==v?(S.includes(c)||S.push(c),this.sendTextClick(c,S)):(0==v&&(this._data.noKeyReason=0),this.sendTextClick(null,[]))},c.prototype.callJSBBridge=function(t,e,i,n,o,s,r){var l=this;if(void 0===i&&(i=\"\"),void 0===n&&(n=-1),t.length>0)if(!this.showAutoFillPopup&&this._data.switchAutoFill&&this._data.is_need_popup){window.JSBridge||a(),this.showAutoFillPopup=!0;var c=(new Date).getTime(),u=[];n==d&&(u=this._data.autoFillField),window.JSBridge.call(\"showAutofillPopup\",{popupType:0,autofillFields:t,contactInfoFields:u,popupJsbStartTime:c,infoType:n,autofillField:i,firstPage:this._data.is_first_page},(function(t){var i=t.code,n=(new Date).getTime();1===Number(i)?(l.autoFillStatus=2,l.showAutoFillPopup=!0,null==e||e.blur()):l.showAutoFillPopup=!1,t.show_autofill_code=t.code.toString(),t.msg||(t.msg=\"-1\"),t.show_fail_msg=t.msg,t.popup_type=0,t.cost=n-c,t.infoType=l.click_type.toString(),t.autofill_key=u,l.sendEventV3(\"lp_js_call_showAutofillPopup_jsb\",t)}))}else this.showAutoFillPopup||this.sendEventV3(\"lp_js_call_showAutofillPopup_jsb\",{code:0,msg:\"autofillPopup has show\"}),this._data.is_need_popup||this.sendEventV3(\"lp_popup_show\",{fail_reason:this._data.fail_reason});this.sendTextClick(i,t)},c.prototype.sendTextClick=function(t,e){var i=2;this.click_type!=f&&this.click_type!=d||(i=this.click_type);var o=[],s=[];this.click_type==d?(o=e,s=this._data.autoFillField):this.click_type==f&&(o=e,s=e);var r=function(t,e){var i,a;void 0===e&&(e=[\"first_name\",\"last_name\",\"address\",\"unit\",\"city\",\"zip_code\",\"country\",\"email\",\"mobile\"]);var o=[];try{for(var s=n(e),r=s.next();!r.done;r=s.next()){var l=r.value;t.includes(l)&&o.push(l)}}catch(t){i={error:t}}finally{try{r&&!r.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}return o}(this._data.is_need_show_contactall?s:o);t&&(this._data.noKeyReason=-1),this._clickData={identify:t?1:0,messageType:i,currentKey:t||\"\",autofillFields:r,noKeyReason:this._data.noKeyReason,messageField:t||\"\"},window.JSBridge||a(),window.JSBridge.call(\"iabEditTextClick\",this._clickData,(function(){}))},c.prototype.sendNewInputLog=function(t,e,i){var n=this;try{var a=!1,o=t.form instanceof HTMLFormElement?t.form:null;if(o){var s=o.getElementsByTagName(\"input\");Array.from(s).forEach((function(t){n.all_input_fields.includes(t)||(n.all_input_fields.push(t),a=!0)}))}else this.all_input_fields.includes(t)||(this.all_input_fields.push(t),a=!0);if(a){var r,l=m(t),c=l.autofill_scope_fields,u=l.out_scope_input_fields,_=(l.autofill_fields,l.paymentinfo_fileds),p=l.contactinfo_fileds,f=l.recognition_regtags_status,d=l.recognition_attribute_status,h=l.recognition_type,g=[],v=[],y=[],b=[],S=!1,w=!1;p.find((function(t){return n._data.autoFillField.find((function(e){return e===t}))}))&&0==this._data.contactInfo_status&&(S=!0),(_.length>0&&0==this._data.paymentInfo_status||0==this._data.pipo_paymentInfo_status)&&(w=!0),r=S||w,g=g.concat(c),v=v.concat(u),y=y.concat(p),b=b.concat(_),this.sendEventV3(\"lp_inject_js_form_info\",{autofill_scope_fields:JSON.stringify(g),out_scope_input_fields:JSON.stringify(v),support_autofill:r?1:0,support_contact:S?1:0,support_payment:w?1:0,contactinfo_scope_fileds:JSON.stringify(y),paymentinfo_scope_fileds:JSON.stringify(b),report_time:0,report_from:\"click\",mainframe_load:this._data.mainframe_load,recognition_regtags_status:f,recognition_attribute_status:d,recognition_type:h})}}catch(t){this.sendEventV3(\"lp_js_run_fail\",{js_fail_code:\"3\",fail_reason:JSON.stringify({fail_reason:t.message,stack:t.stack})})}},c.prototype.detect=function(t,e){var i,a,o,s,r=this;try{var l=t.form instanceof HTMLFormElement?t.form:null,c=!0;if(l)try{for(var u=n(this.detected_forms),_=u.next();!_.done;_=u.next()){if(_.value==l){!1;break}}}catch(t){i={error:t}}finally{try{_&&!_.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}var p=!0;try{for(var f=n(this.detected_input_fields),d=f.next();!d.done;d=f.next()){if(d.value===t){p=!1,c=!1;break}}}catch(t){o={error:t}}finally{try{d&&!d.done&&(s=f.return)&&s.call(f)}finally{if(o)throw o.error}}if(l){this.detected_forms.push(l);var h=l.getElementsByTagName(\"input\");Array.from(h).filter((function(t){return x(t)})).forEach((function(t){!r.detected_input_fields.includes(t)&&function(t,e){var i=k(t);return 0==e?\"cardNumber\"!=i&&\"exp_month\"!=i&&\"exp_year\"!=i&&\"exp_date\"!=i&&\"cc_name\"!=i:1==e?\"cardNumber\"==i||\"exp_month\"==i||\"exp_year\"==i||\"exp_date\"==i||\"cc_name\"==i:void 0}(t,e)&&r.detected_input_fields.push(t)}))}return p&&this.detected_input_fields.push(t),c}catch(t){this.sendEventV3(\"lp_js_run_fail\",{js_fail_code:\"4\",fail_reason:JSON.stringify({fail_reason:t.message,stack:t.stack})})}},c.prototype.autofillFormSubmitCallback=function(t){var e,i,n=this;this.formList=document.querySelectorAll(\"form\"),this._is_have_submit=!0;try{if(window!==window.top)return void(null===(e=window.top)||void 0===e||e.postMessage({event_name:o.IFRAME_SUBMIT},\"*\"));if(this.iframeBridge.iframeSourceList.length>0&&0===this.iframeDataList.length){for(var s=0;s<this.iframeBridge.iframeSourceList.length;s++)null===(i=this.iframeBridge.iframeSourceList[s].source)||void 0===i||i.postMessage({event_name:o.GET_SUBMIT},this.iframeBridge.iframeSourceList[s].origin);return}if(this.iframeBridge.iframeSourceList.length>0&&this.iframeDataList.length>0&&this.iframeDataList.length!==this.iframeBridge.iframeSourceList.length)return;var r=this.setSubmit(),l=r.contact_info,c=r.payment,u=r.payment_info,_=r.infoType,p=r.autofillInputValues,f=r.autofill_scope_fields,d=r.out_scope_input_fields,h=!this.submitted;this.submitted=!0;var m=function(t,e,i){var n=[],a=i.contactInfo;if(null!=a&&null!=a)for(var o in a)t[o]&&t[o]!=a[o]&&n.push(o);var s=i.paymentInfo;if(null!=s&&null!=s)for(var o in s)e[o]&&e[o]!=s[o]&&n.push(o);return n}(l,u,this.autofill_saved_data);if(this.sendEventV3(\"lp_js_form_submission_action\",{autofill_scope_fields:JSON.stringify(f),out_scope_input_fields:JSON.stringify(d),autofill_valid_scope_fields:JSON.stringify(Object.keys(p)),autoFillStatus:this.autoFillStatus,first_submit:h?1:0,report_time:0,infoType:_,update_key:JSON.stringify(m),iframe_scope_length:this.iframeBridge.iframeSourceList.length,is_use_contact_autofill:this.is_use_contact_autofill,is_use_payment_autofill:this.is_use_payment_autofill}),!p||0===Object.keys(p).length)return;if(-1==_)return;if(!this.showAutoFillPopup&&this._data.switchAutoFill){window.JSBridge||a(),this.showAutoFillPopup=!0;var g=(new Date).getTime();window.JSBridge.call(\"showAutofillPopup\",{popupType:1,popupJsbStartTime:g,extraInfo:JSON.stringify({}),infoType:_,contactInfo:l,paymentInfo:c,firstPage:this._data.is_first_page},(function(t){var e=t.code,i=(new Date).getTime();t.cost=i-g,1===Number(e)?n.showAutoFillPopup=!0:n.showAutoFillPopup=!1,t.show_autofill_code=t.code.toString(),t.msg||(t.msg=\"-1\"),t.show_fail_msg=t.msg,t.popup_type=1,t.firstSubmit=h?1:0,t.infoType=_.toString(),n.sendEventV3(\"lp_js_call_showAutofillPopup_jsb\",t)}))}else this.sendEventV3(\"lp_js_call_showAutofillPopup_jsb\",{code:0,msg:\"autofillPopupHasShow\"})}catch(t){this.sendEventV3(\"lp_js_run_fail\",{js_fail_code:\"1\",fail_reason:JSON.stringify({fail_reason:t.message,stack:t.stack})})}},c.prototype.setSubmit=function(t){void 0===t&&(t=[]);for(var e=t.length>0?t:this.formList,i=[],n=[],a={},o=0;o<e.length;o++){a=h(e[o],a);var s=v(e[o]),r=s.autofill_scope_fields,l=s.out_scope_input_fields;i=i.concat(r),n=n.concat(l)}var c,u={},_={};for(var p in a)if(\"exp_date\"!=p)if(\"cardNumber\"!=p){if(\"exp_month\"!=p&&\"exp_year\"!=p)u[p]=a[p];else if(L(a[p].replace(/\\s+/g,\"\"))){d=a[p].replace(/\\s+/g,\"\");_[p]=d,\"exp_year\"==p&&(_[p]=2==d.length?\"20\"+d:d)}}else L(c=a[p].replace(/\\s+/g,\"\"))&&!(c.length<13||c.length>19)&&(_[p]=a[p].replace(/\\s+/g,\"\"));else{var f=a[p].split(\"/\"),d=f[0].replace(/\\s+/g,\"\");_.exp_month=d;var m=f[1].replace(/\\s+/g,\"\"),g=2==m.length?\"20\"+m:m;_.exp_year=g}if(this.iframeDataList.length>0)for(o=0;o<this.iframeDataList.length;o++){var y=this.iframeDataList[o].contact_info,b=this.iframeDataList[o].payment_info;if(y&&0!==Object.keys(y).length)for(var p in this.setObj(u,y),u)u.hasOwnProperty(p)&&!a.hasOwnProperty(p)&&(a[p]=u[p]);if(b&&0!==Object.keys(b).length)for(var p in this.setObj(_,b),_)_.hasOwnProperty(p)&&!a.hasOwnProperty(p)&&(a[p]=_[p]);i=i.concat(this.iframeDataList[o].autofill_scope_fields),n=n.concat(this.iframeDataList[o].out_scope_input_fields)}var S=function(t,e){var i=[],n=e.paymentInfo;if(null!=n&&null!=n)for(var a in n)t[a]&&t[a]!=n[a]&&i.push(a);return i.length>0}(_,this.autofill_saved_data),w=-1;3==Object.keys(_).length&&!S&&Object.keys(u).length>0?w=2:3==Object.keys(_).length&&S?w=1:Object.keys(u).length>0&&(w=0);var I,k={};if(_.cardNumber){var E=\"4\"==(I=_.cardNumber).substring(0,1)?\"VISA\":\"5\"==I.substring(0,1)?\"MASTER\":\"35\"==I.substring(0,2)?\"JBC\":\"34\"==I.substring(0,2)||\"37\"==I.substring(0,2)?\"AE\":\"DISCOVER\";k.cardNumber=_.cardNumber,k.cardType=E}if(_.exp_month&&_.exp_year){var F=_.exp_month+\"/\"+_.exp_year;k.expiryTime=F}return{contact_info:u,payment:k,payment_info:_,infoType:w,autofillInputValues:a,autofill_scope_fields:i,out_scope_input_fields:n}},c.prototype.setObj=function(t,e){for(var i in e)e.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=e[i])},c.prototype.sendEventV3=function(e,i,n){void 0===i&&(i={});try{if(window===window.top){var a=t({url:location.href,web_url:r.ins.adInfo.web_url,contactInfo_fields:JSON.stringify(r.ins.autoFillField),contactInfo_status:r.ins.contactInfo_status.toString(),paymentInfo_status:r.ins.paymentInfo_status.toString(),pipo_payment_info_status:r.ins.pipo_paymentInfo_status,pipo_card_count:r.ins.pipo_payment_count,pv_id:r.ins.pv_id,first_page:r.ins.is_first_page,iframe_scope_length:this.iframeBridge.iframeSourceList.length,autofill_card_count:r.ins.paymentCount,js_version:this.version,js_from:this.js_from,mainframe_load:r.ins.mainframe_load,ready_state:document.readyState},i);!function(t,e){var i,n=\"undefined\"!=typeof __PIA_WORKER__?new Function(\"return this\")():\"undefined\"!=typeof window?window:{};n.JS2NativeBridge&&n.JS2NativeBridge._invokeMethod?i=function(t){return n.JS2NativeBridge._invokeMethod(JSON.stringify(t))}:n.ToutiaoJSBridge&&n.ToutiaoJSBridge.invokeMethod?i=function(t){return n.ToutiaoJSBridge.invokeMethod(JSON.stringify(t))}:n.JS2NativeBridge&&n.JS2NativeBridge.call?i=function(t){return n.JS2NativeBridge.call(t.func,JSON.stringify(t))}:n.webkit&&n.webkit.messageHandlers&&n.webkit.messageHandlers.callMethodParams?i=function(t){n.webkit.messageHandlers.callMethodParams.postMessage(t)}:n.callMethodParams&&(i=function(t){return n.callMethodParams(t.func,t)}),i({func:t,params:e,JSSDK:\"2.0.0\",__msg_type:\"call\",__callback_id:\"-1\"})}(\"sendLog\",{labelName:e,eventName:\"ad_wap_stat\",is_ad_event:1,value:r.ins.adInfo.cid,extJson:{category:\"event_v3\",tag:\"ad_wap_stat\",refer:\"autofill\",nt:4,is_ad_event:1,value:r.ins.adInfo.cid,log_extra:r.ins.adInfo.log_extra,ad_extra_data:JSON.stringify(a)}})}}catch(t){}},c.prototype.addStateChange=function(){var t=this;document.addEventListener(\"readystatechange\",(function(){\"complete\"!==document.readyState&&\"interactive\"!==document.readyState||t.initAutoFill(document.readyState)}))},c.prototype.registerForPageComplete=function(){var t=this;try{if(window.__initAutoFill__)return;window.__initAutoFill__=!0,window===window.top?\"complete\"===document.readyState?this.initAutoFill(document.readyState):\"interactive\"===document.readyState?(this.initAutoFill(document.readyState),this.addStateChange()):this.addStateChange():\"complete\"===document.readyState?this.initAutoFill(document.readyState):document.addEventListener(\"readystatechange\",(function(){\"complete\"===document.readyState&&t.initAutoFill(document.readyState)}))}catch(t){this.sendEventV3(\"lp_js_init_fail\",{code:1,fail_reason:JSON.stringify({msg:t.message,stack:t.stack})})}},c}())(getClientContext().adInfo,getClientContext().autoFillInfo,getClientContext().extraData).registerForPageComplete()}();\n"

    return-object v0
.end method

.method public final LJI()Ljava/lang/String;
    .locals 1

    const-string v0, "_jsmanage_ad_autofill_fourthversion"

    return-object v0
.end method
