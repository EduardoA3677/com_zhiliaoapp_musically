.class public abstract LX/0Vzp;
.super LX/101b;
.source "SourceFile"


# direct methods
.method public constructor <init>()V
    .locals 0

    invoke-direct {p0}, LX/101b;-><init>()V

    return-void
.end method


# virtual methods
.method public final LIZ()Lcom/bytedance/hybrid/spark/security/web_js/setting/JSInjectConfig;
    .locals 14

    new-instance v1, Lcom/bytedance/hybrid/spark/security/web_js/setting/JSInjectConfig;

    const-string v2, "_jsmanage_ad_autofill_thirdversion"

    const-string v3, "custom_manual"

    const/4 v4, 0x1

    const-string v0, "."

    invoke-static {v0}, Ljava/util/Collections;->singletonList(Ljava/lang/Object;)Ljava/util/List;

    move-result-object v5

    sget-object v6, LX/0Pgk;->INSTANCE:LX/0Pgk;

    const-string v7, "https://lf16-gecko-source.tiktokcdn.com/obj/tiktok-teko-source-sg/tt/webview/js_manage/tiktok_webview_js_inject_manage/assets/js/ad_autofill_thirdversion.js"

    const/4 v8, 0x0

    const/4 v11, 0x0

    const/16 v12, 0x1c0

    move-object v9, v8

    move-object v10, v8

    move-object v13, v8

    invoke-direct/range {v1 .. v13}, Lcom/bytedance/hybrid/spark/security/web_js/setting/JSInjectConfig;-><init>(Ljava/lang/String;Ljava/lang/String;ILjava/util/List;Ljava/util/List;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;ZILkotlin/jvm/internal/DefaultConstructorMarker;)V

    return-object v1
.end method

.method public final LJ()Ljava/lang/String;
    .locals 1

    const-string v0, "      \n!function(){\"use strict\";var t=function(){return(t=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var a in e=arguments[i])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)};function e(t,e,i,o){return new(i||(i=Promise))((function(a,n){function s(t){try{r(o.next(t))}catch(t){n(t)}}function l(t){try{r(o.throw(t))}catch(t){n(t)}}function r(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,l)}r((o=o.apply(t,e||[])).next())}))}function i(t,e){var i,o,a,n,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return n={next:l(0),throw:l(1),return:l(2)},\"function\"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function l(n){return function(l){return function(n){if(i)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(i=1,o&&(a=2&n[0]?o.return:n[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(!(a=s.trys,(a=a.length>0&&a[a.length-1])||6!==n[0]&&2!==n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,l])}}}function o(t){var e=\"function\"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&\"number\"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")}function a(){console.log(\"bridge\");var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};function e(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}var i,o=function(){return(o=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var a in e=arguments[i])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)};!function(t){t[t.Failure=0]=\"Failure\",t[t.Success=1]=\"Success\",t[t.Unauthorized=-1]=\"Unauthorized\",t[t.NotExist=-2]=\"NotExist\"}(i||(i={}));var a=\"undefined\"==typeof __PIA_WORKER__?1023:1023e5,n=function(){function t(t){this.version=t.version||\"2.0.3\",this.nativeMethodInvoker=t.nativeMethodInvoker,this.nativeEventListener=t.nativeEventListener,this.scheme=t.scheme||\"nativeapp://\",this.dispatchMessagePath=t.dispatchMessagePath||\"dispatch_message/\",this.setResultPath=t.setResultPath||\"private/setresult/SCENE_FETCHQUEUE\",this.dispatchMessageIFrameId=t.dispatchMessageIFrameId||\"__JSBridgeIframe__\",this.setResultIFrameId=t.setResultIFrameId||\"__JSBridgeIframe_SetResult__\",this.listenNativeEvent=!0===t.listenNativeEvent,this.callbackId=a,this.callbackMap={},this.eventMap={},this.javascriptMessageQueue=[],this.callbackProcessor=t.callbackProcessor}return t.prototype.call=function(t,e,i,o){void 0===o&&(o=this.version);var a,n=this.version;if(t&&\"string\"==typeof t){\"object\"!=typeof e&&(e={}),\"string\"==typeof o?n=o||this.version:\"object\"==typeof o&&(a=o.namespace,n=o.sdkVersion||this.version);var s={func:t,params:e,JSSDK:n,__msg_type:\"call\",namespace:a};if(\"function\"==typeof i||void 0===i){var l=this.registerCallback(t,i);s.__callback_id=l}\"undefined\"==typeof __PIA_WORKER__&&window.parent!==window&&(s.__iframe_url=window.location.href),this.sendMessageToNative(s)}},t.prototype.on=function(t,e,i){if(void 0===i&&(i=!1),t&&\"string\"==typeof t&&\"function\"==typeof e){var o=this.registerCallback(t,e);return this.eventMap[t]=this.eventMap[t]||{},this.eventMap[t][o]={once:i},this.listenNativeEvent&&(this.nativeEventListener?this.nativeEventListener(t):this.call(\"addEventListener\",{name:t},null,{sdkVersion:1})),o}},t.prototype.once=function(t,e){return this.on(t,e,!0)},t.prototype.off=function(t,e){if(!t||\"string\"!=typeof t)return!0;var i=this.eventMap[t];return!i||\"object\"!=typeof i||!i.hasOwnProperty(e)||(this.deregisterCallback(e),delete i[e],!0)},t.prototype.trigger=function(t,e){return this.handleMessageFromNative({__msg_type:\"event\",__params:e,__event_id:t})},t.prototype.handleMessageFromNative=function(t){var e=this,i=t,o=String(i.__callback_id);if(this.callbackProcessor&&\"function\"==typeof this.callbackProcessor){var a=(this.callbackMap&&this.callbackMap[o]||{}).method;this.callbackProcessor(i,a)}var n=i.__params,s=String(i.__event_id||\"\"),l=i.__msg_type;this.callbackMap[o]?l=\"callback\":this.eventMap[o]&&(l=\"event\",s=s||o);var r={__err_code:\"cb404\"};switch(l){case\"callback\":var c=(this.callbackMap&&this.callbackMap[o]||{}).callback;\"function\"==typeof c&&(r=c(n)),this.deregisterCallback(o);break;case\"event\":var u=this.eventMap[s];u&&\"object\"==typeof u&&Object.keys(u).forEach((function(t){var i=(e.callbackMap&&e.callbackMap[t]||{}).callback,o=u[t];\"function\"==typeof i&&(r=i(n)),o&&o.once&&(e.deregisterCallback(t),delete u[t])}))}return r},t.prototype.fetchJavaScriptMessageQueue=function(){var t=JSON.stringify(this.javascriptMessageQueue),e=btoa(unescape(encodeURIComponent(t)));return this.setResultIFrame&&this.javascriptMessageQueue.length>0&&(this.setResultIFrame.src=\"\"+this.scheme+this.setResultPath+\"&\"+e),this.javascriptMessageQueue.splice(0,this.javascriptMessageQueue.length),t},t.prototype.sendMessageToNative=function(t){if(\"1\"!==String(t.JSSDK)&&this.nativeMethodInvoker){var e=this.nativeMethodInvoker(t);if(e){var i=JSON.parse(e);this.handleMessageFromNative(i)}}else this.javascriptMessageQueue.push(t),this.dispatchMessageIFrame||this.tryCreateIFrames(),this.dispatchMessageIFrame.src=\"\"+this.scheme+this.dispatchMessagePath},t.prototype.registerCallback=function(t,e){var i=String(this.callbackId++);return this.callbackMap[i]={method:t,callback:e},i},t.prototype.deregisterCallback=function(t){delete this.callbackMap[t]},t.prototype.tryCreateIFrames=function(){this.dispatchMessageIFrame=this.createIFrame(this.dispatchMessageIFrameId),this.setResultIFrame=this.createIFrame(this.setResultIFrameId)},t.prototype.createIFrame=function(t){var e=document.getElementById(t);return e&&\"IFRAME\"===e.tagName||((e=document.createElement(\"iframe\")).style.display=\"none\",e.id=t,document.documentElement.appendChild(e)),e},t}(),s=\"undefined\"!=typeof __PIA_WORKER__?new Function(\"return this\")():\"undefined\"!=typeof window?window:{},l=void 0!==s&&s.navigator?s.navigator.userAgent:\"\",r=(!!l.match(/(newsarticle|videoarticle|lv|faceu|ulike|beauty_me_|faceu-os|ulike-os|beauty_me_oversea_|retouch)\\/([\\d.]+)/i)||/super|automobile/gi.test(l))&&!/webcast/gi.test(l)&&!/luckycatversion/gi.test(l),c=!!l.match(/(faceu)\\/([\\d.]+)/i)||/gsdk/gi.test(l)||/PIANativeWorker/gi.test(l),u=!!l.match(/ttad\\/0/i),_=!!l.match(/aweme|trill|musical_ly|phoenix_\\d+|TikTokNow_\\d+|alligatortiktok/i),f=!!l.match(/live_stream/i),p=!!l.match(/Webcast/i),d=!!l.match(/super/i),h=!!l.match(/life_service_merchant/i),m=/super/gi.test(l);function g(){var t;if(r)return s.JSBridge&&s.JSBridge.on?t=s.JSBridge.on:s.JS2NativeBridge&&s.JS2NativeBridge.on?t=function(t){var e={JSSDK:\"2.2.17\",__msg_type:\"event\",__callback_id:t,func:t};s.JS2NativeBridge.on(t,JSON.stringify(e))}:s.webkit&&s.webkit.messageHandlers&&s.webkit.messageHandlers.onMethodParams?t=function(t){var e={JSSDK:\"2.2.17\",__msg_type:\"event\",__callback_id:t,func:t};s.webkit.messageHandlers.onMethodParams.postMessage(e)}:s.onMethodParams&&(t=function(t){var e={JSSDK:\"2.2.17\",__msg_type:\"event\",__callback_id:t,func:t};return s.onMethodParams(t,e)}),t}function v(t,e){if((\"string\"!=typeof e||!0!==/^(x|tc)\\./.test(e))&&(_||f||p||h)){var i=t.__params;s.JS2NativeBridge&&s.JS2NativeBridge._invokeMethod&&(t.__params=o({code:i.code},i.data))}}var y=function(t){function i(){var e=t.call(this,{version:\"2.2.17\",scheme:\"bytedance://\",listenNativeEvent:!0,dispatchMessageIFrameId:\"__JSBridgeIframe_1.0__\",setResultIFrameId:\"__JSBridgeIframe_SetResult_1.0__\",nativeEventListener:g(),callbackProcessor:v})||this;return e.publicApi={call:e.call.bind(e),on:e.on.bind(e),once:e.once.bind(e),off:e.off.bind(e),trigger:e.trigger.bind(e),_fetchQueue:e.fetchJavaScriptMessageQueue.bind(e),_handleMessageFromToutiao:e.handleMessageFromNative.bind(e)},e}return e(i,t),i.prototype.exposePublicApiToGlobal=function(){s.ToutiaoJSBridge=Object.assign(s.ToutiaoJSBridge||{},this.publicApi)},i}(n),b=function(t){function i(e){var i,o=t.call(this,{version:\"2.2.17\",nativeMethodInvoker:(s.JS2NativeBridge&&s.JS2NativeBridge._invokeMethod?i=function(t){return s.JS2NativeBridge._invokeMethod(JSON.stringify(t))}:s.ToutiaoJSBridge&&s.ToutiaoJSBridge.invokeMethod?i=function(t){return s.ToutiaoJSBridge.invokeMethod(JSON.stringify(t))}:s.JS2NativeBridge&&s.JS2NativeBridge.call?i=function(t){return s.JS2NativeBridge.call(t.func,JSON.stringify(t))}:s.webkit&&s.webkit.messageHandlers&&s.webkit.messageHandlers.callMethodParams?i=function(t){s.webkit.messageHandlers.callMethodParams.postMessage(t)}:s.callMethodParams&&(i=function(t){return s.callMethodParams(t.func,t)}),i),nativeEventListener:g(),scheme:d?\"bds://\":m?\"bytedance://\":r||s.JSBridge&&s.JSBridge._invokeMethod?\"nativeapp://\":\"bytedance://\",listenNativeEvent:r,callbackProcessor:v})||this;return o.toutiaoLegacyJSB=e,o.publicApi={call:o.call.bind(o),on:o.on.bind(o),once:o.once.bind(o),off:o.off.bind(o),trigger:o.trigger.bind(o),_fetchQueue:o.fetchJavaScriptMessageQueue.bind(o),_handleMessageFromApp:o.handleMessageFromNative.bind(o),_handleMessageFromToutiao:o.handleMessageFromNative.bind(o)},o}return e(i,t),i.prototype.call=function(e,i,o,a){void 0===a&&(a=\"2.2.17\"),this.isLegacyCall(e)?this.toutiaoLegacyJSB.call(e,i,o,a):t.prototype.call.call(this,e,i,o,a)},i.prototype.on=function(e,i,o,a){return void 0===o&&(o=!1),(a||{}).useLegacy||this.isLegacyCall(e)?this.toutiaoLegacyJSB.on(e,i,o):t.prototype.on.call(this,e,i,o)},i.prototype.once=function(e,i){return this.isLegacyCall(e)?this.toutiaoLegacyJSB.once(e,i):t.prototype.once.call(this,e,i)},i.prototype.off=function(e,i){return this.isLegacyCall(e)?this.toutiaoLegacyJSB.off(e,i):t.prototype.off.call(this,e,i)},i.prototype.trigger=function(e,i){return this.isLegacyCall(e)?this.toutiaoLegacyJSB.trigger(e,i):t.prototype.trigger.call(this,e,i)},i.prototype.exposePublicApiToGlobal=function(){var t=this;s.JSBridge=Object.assign(s.JSBridge||{},this.publicApi),s.__DISABLE_JSB_PROTOCAL2__||(s.Native2JSBridge=Object.assign(s.Native2JSBridge||{},this.publicApi)),m?s.ToutiaoJSBridge=Object.assign(s.ToutiaoJSBridge||{},this.publicApi):(r||u)&&this.toutiaoLegacyJSB?this.toutiaoLegacyJSB.exposePublicApiToGlobal():s.ToutiaoJSBridge=Object.assign(s.ToutiaoJSBridge||{},this.publicApi),s.parent!==s&&s.addEventListener&&s.addEventListener(\"message\",(function(e){e&&e.data&&e.data.__callback_id&&t.handleMessageFromNative(e.data)}),!1),Object.defineProperties(s,{JSBridge:{writable:!1},Native2JSBridge:{writable:!1},ToutiaoJSBridge:{writable:!1}}),Object.freeze(s.JSBridge),Object.freeze(s.Native2JSBridge),Object.freeze(s.ToutiaoJSBridge)},i.prototype.isLegacyCall=function(t){return!(!t||\"string\"!=typeof t||!this.toutiaoLegacyJSB)&&(!!u||!c&&!m&&(r&&t.indexOf(\".\")<0))},i}(n);function S(t,e){if(null==t)throw new TypeError(\"Cannot convert first argument to object\");for(var i=Object(t),o=1;o<arguments.length;o++){var a=arguments[o];if(null!=a)for(var n=Object.keys(Object(a)),s=0,l=n.length;s<l;s++){var r=n[s],c=Object.getOwnPropertyDescriptor(a,r);void 0!==c&&c.enumerable&&(i[r]=a[r])}}return i}({assign:S,polyfill:function(){Object.assign||Object.defineProperty(Object,\"assign\",{enumerable:!1,configurable:!0,writable:!0,value:S})}}).polyfill();var w=new b(new y);try{console.warn(\"[Bridge] This version has Break Change, please pay attention to compatibility, more details: https://zjsms.com/JXKorkC/\"),w.exposePublicApiToGlobal()}catch(t){console.warn(t.message)}}var n,s,l=function(){function t(){this.Payment_Field=[\"cardNumber\",\"exp_month\",\"exp_year\",\"exp_date\"],this.pv_id=(new Date).getTime()+Math.random().toString(36).slice(2),this.adInfo={cid:0,log_extra:\"\",web_url:\"\"},this.is_first_page=-1,this.autoFillInfo={},this.platform=-1,this.autoFillField=[],this.paymentField=[],this.switchAutoFill=!1,this.switchContact=!1,this.switchPayment=!1,this.contactInfo_status=-1,this.paymentInfo_status=-1,this.canUseContact=!1,this.canUsePayment=!1,this.canAutoFill=!1,this.is_pipo_update=!1,this.pipo_paymentInfo_status=-1,this.pipo_payment_count=0,this.is_need_popup=!0,this.is_need_show_contactall=!0,this.fail_reason=0,this.iframeScope=[],this.paymentCount=0,this.noKeyReason=-1,this._jsInitTime=0,this._mainframe_load=0,this.jsInitTime=(new Date).getTime(),this.performance_time=window.performance.timing}return t.prototype.initAdInfo=function(t,e){void 0===e&&(e={first_page:1,platform:-1});var i=\"string\"==typeof t?JSON.parse(t):t;if(this.adInfo={cid:i.cid||i.ad_id,log_extra:i.log_extra,web_url:i.url},this.extraData=e,\"/** extraData **/\"!=e){var o=\"string\"==typeof e?JSON.parse(e):e;this.is_first_page=o.first_page,this.platform=o.platform?o.platform:-1}},t.prototype.initAutofillInfo=function(t){this.autoFillInfo=\"string\"==typeof t?JSON.parse(t):t;var e=this.autoFillInfo;this.autoFillField=\"string\"==typeof e.contactInfoFields?JSON.parse(e.contactInfoFields):e.contactInfoFields,console.log(\"initAutofillInfo\"),console.log(e),console.log(this.autoFillField),console.log(e.contactInfoStatus),console.log(e.paymentInfoStatus),console.log(e.paymentInfoStatus),this.canUseContact=!1,this.canUsePayment=!1,this.canAutoFill=!1,this.switchAutoFill=!1,this.switchContact=!1,this.switchPayment=!1,this.canUseContact=0==e.contactInfoStatus&&this.autoFillField.length>0,this.canUsePayment=0==e.paymentInfoStatus,this.canAutoFill=this.canUseContact||this.canUsePayment,this.switchAutoFill=0==e.contactInfoStatus||0==e.paymentInfoStatus||2==e.paymentInfoStatus,this.switchContact=0==e.contactInfoStatus,this.switchPayment=0==e.paymentInfoStatus||2==e.paymentInfoStatus,this.contactInfo_status=e.contactInfoStatus,this.paymentInfo_status=e.paymentInfoStatus,this.is_pipo_update?(this.autoFillInfo.pipoPaymentInfoStatus=this.pipo_paymentInfo_status,this.autoFillInfo.pipoPaymentCount=this.pipo_payment_count):(this.pipo_paymentInfo_status=e.pipoPaymentInfoStatus,this.pipo_payment_count=e.pipoPaymentCount),this.paymentCount=e.paymentCount,0==e.paymentInfoStatus||0==this.pipo_paymentInfo_status?this.paymentField=this.Payment_Field:this.paymentField=[],this.is_need_popup=e.isNeedPopup,this.is_need_show_contactall=e.isNeedShowContactAll,this.fail_reason=e.failReason,console.log(\"this.is_need_popup:\"+this.is_need_popup),console.log(\"this.is_need_show_contactall:\"+this.is_need_show_contactall),console.log(\"this.fail_reason:\"+this.fail_reason)},t.prototype.updatePipoPaymentCount=function(t){console.log(\"updatePipoPaymentCount\"),console.log(t),this.is_pipo_update=!0;var e=\"string\"==typeof t?JSON.parse(t):t;1===e.is_success?(e.count>0?(this.pipo_paymentInfo_status=0,this.paymentField=this.Payment_Field):(this.pipo_paymentInfo_status=2,0!=this.paymentInfo_status&&(this.paymentField=[])),this.pipo_payment_count=e.count):this.pipo_paymentInfo_status=4,this.autoFillInfo.pipoPaymentInfoStatus=this.pipo_paymentInfo_status,this.autoFillInfo.pipoPaymentCount=this.pipo_payment_count},Object.defineProperty(t.prototype,\"jsInitTime\",{get:function(){return this._jsInitTime},set:function(t){this._jsInitTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"performance_time\",{get:function(){return this._performance_time},set:function(t){this._performance_time=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"mainframe_load\",{get:function(){return this._mainframe_load=this.performance_time.loadEventStart-this.performance_time.navigationStart,this._mainframe_load},set:function(t){this._mainframe_load=t},enumerable:!1,configurable:!0}),Object.defineProperty(t,\"ins\",{get:function(){return null==this._instance&&(this._instance=new t),this._instance},enumerable:!1,configurable:!0}),t}();!function(t){t.GET=\"get_autofill\",t.TRIGGER=\"trigger_autofill\",t.HANDSHAKE1=\"hand_shake1\",t.HANDSHAKE2=\"hand_shake2\",t.GET_SUBMIT=\"get_submit\",t.TRIGGER_SUBMIT=\"trigger_submit\",t.RECEIVE_SUBMIT=\"receive_submit\",t.TRIGGER_AUTOFILL_SUBMIT=\"trigger_autofill_success\",t.RECEIVE_AUTOFILL_SUBMIT=\"receive_autofill_success\",t.IFRAME_SUBMIT=\"iframe_submit\",t.AUTOFILL_POPUP_CHANGE=\"autofill_popup_change\",t.SET_IFRAME_DATA=\"set_iframe_data\",t.HANDSHANKE_TIMEOUT=\"handshake_timeout\",t.IFRAME_NO_SCOPE=\"iframe_no_scope\",t.IFRAME_HAVE_SCOPE=\"iframe_have_scope\",t.SET_FOCUS=\"set_focus\",t.RESET_DATA=\"reset_data\",t.IFRAME_TO_MAIN_SENDCLICK=\"iframe_to_main_sendclick\",t.MAIN_TO_IFRAME_REMOVESELECT=\"main_to_iframe_removeselect\"}(n||(n={})),function(t){t.PENDING=\"pending\",t.FULFILLED=\"fulfilled\"}(s||(s={}));var r=function(){function o(){this.status=s.PENDING,this.origin=\"\",this.source=null,this.iframeSourceList=[],this.startTime=0,this.iframescope=[],this._isInit=!1,this._data=l.ins}return Object.defineProperty(o.prototype,\"iframeList\",{get:function(){return this.iframeSourceList},enumerable:!1,configurable:!0}),o.prototype.initHandshake=function(){return e(this,void 0,Promise,(function(){return i(this,(function(t){return console.log(\"initHandshake:\"+(new Date).getTime()),this._isInit?[2]:(this._isInit=!0,this.startTime=(new Date).getTime(),window===window.top?[2,this.initMainFrameHandshake()]:[2,this.initIframeHandshake()])}))}))},o.prototype.initMainFrameHandshake=function(){var t=this;return new Promise((function(e){console.log(\"initMainFrameHandshake:\"+(new Date).getTime()),window.addEventListener(\"message\",t.handleMainFrameMessage.bind(t)),e()}))},o.prototype.initIframeHandshake=function(){var t=this;return new Promise((function(e,i){console.log(\"initIframeHandshake:\"+(new Date).getTime()),window.addEventListener(\"message\",t.handleIframeMessage.bind(t));var o=t._data.performance_time.loadEventStart-t._data.performance_time.navigationStart;t.polling(1,e,i,o)}))},o.prototype.polling=function(t,e,i,o){var a=this;if(void 0===t&&(t=1),Date.now()-this.startTime>3e4)return console.log(\"Polling has reached the maximum duration.\"),this.postMessageToMainFrame(n.HANDSHANKE_TIMEOUT,{iframescope:l.ins.iframeScope,load:o,url:window.location.href,path:new URL(window.location.href).pathname}),clearTimeout(this.pollingTimeoutId),void i();this.status!==s.FULFILLED?(this.postMessageToMainFrame(n.HANDSHAKE1,{iframescope:l.ins.iframeScope,load:o,url:window.location.href,path:new URL(window.location.href).pathname}),this.pollingTimeoutId=setTimeout((function(){a.polling(t+1,e,i,o)}),1e3)):(console.log(\"Status fulfilled. Stopping polling.\"),clearTimeout(this.pollingTimeoutId))},o.prototype.handleMainFrameMessage=function(t){var e=t.data,i=t.origin,o=t.source;switch(e.event_name,e.event_name){case n.HANDSHAKE1:this.handleHandshake1(e,i,o);break;case n.GET:console.log(\"handleGet:\"+(new Date).getTime()),this.handleGet(e,i,o);break;case n.RECEIVE_SUBMIT:this.handleReceiveSubmit(e);break;case n.TRIGGER_AUTOFILL_SUBMIT:this.handleTriggerAutofillSubmit(e);break;case n.IFRAME_SUBMIT:this.handleIframeSubmit();break;case n.AUTOFILL_POPUP_CHANGE:this.handleAutofillPopupChange(e);break;case n.HANDSHANKE_TIMEOUT:this.handleHandshakeTimeout(e,i);break;case n.IFRAME_NO_SCOPE:this.handleIframeNoScope(e,i);break;case n.IFRAME_HAVE_SCOPE:this.handleIframeHaveScope(e,i);break;case n.IFRAME_TO_MAIN_SENDCLICK:this.handleIframeSendClick(e)}},o.prototype.handleIframeMessage=function(t){var e,i,o,a,l,r,c,u=t.data;switch(u.event_name){case n.HANDSHAKE2:this.status===s.PENDING&&(this.status=s.FULFILLED,null===(e=this.onHandshake2Complete)||void 0===e||e.call(this,u));break;case n.TRIGGER:null===(i=this.onTrigger)||void 0===i||i.call(this,u);break;case n.SET_IFRAME_DATA:console.log(\"SET_IFRAME_DATA\"),this._data.pipo_paymentInfo_status=u.pipo_paymentInfo_status,this._data.pipo_payment_count=u.pipo_payment_count,this._data.paymentField=u.paymentField,null===(o=this.onSetIframeData)||void 0===o||o.call(this,u);break;case n.GET_SUBMIT:null===(a=this.onGetSubmit)||void 0===a||a.call(this);break;case n.SET_FOCUS:null===(l=this.onSetFocus)||void 0===l||l.call(this);break;case n.RESET_DATA:null===(r=this.resetData)||void 0===r||r.call(this,u);break;case n.MAIN_TO_IFRAME_REMOVESELECT:null===(c=this.removeSelect)||void 0===c||c.call(this,u)}},o.prototype.handleHandshake1=function(t,e,i){var o;(console.log(\"handleHandshake1\"),console.log(t),i&&e)&&(this.iframeSourceList.some((function(t){return t.origin===e&&t.source===i}))||this.iframeSourceList.push({origin:e,source:i,iframescope:t.iframescope}));null==i||i.postMessage({event_name:n.HANDSHAKE2,autoFillInfo:this._data.autoFillInfo,adInfo:this._data.adInfo,extraData:this._data.extraData},e),null===(o=this.sendEventV3)||void 0===o||o.call(this,\"lp_have_iframe_info\",{iframe_scope:JSON.stringify(t.iframescope),iframe_load:t.load,hand_shake_time:(new Date).getTime()-l.ins.jsInitTime,origin:t.url,iframe_path:e+t.path})},o.prototype.handleGet=function(t,e,i){var o;this.source=i,this.origin=e,null===(o=this.onGet)||void 0===o||o.call(this,t,e,i)},o.prototype.handleReceiveSubmit=function(t){var e;null===(e=this.onReceiveSubmit)||void 0===e||e.call(this,t)},o.prototype.handleTriggerAutofillSubmit=function(t){var e,i;null===(e=this.sendEventV3)||void 0===e||e.call(this,\"lp_js_autofill_success\",t.point_data),null===(i=this.onTriggerAutofillSubmit)||void 0===i||i.call(this,t)},o.prototype.handleIframeSubmit=function(){var t;null===(t=this.onIframeSubmit)||void 0===t||t.call(this)},o.prototype.handleAutofillPopupChange=function(t){var e;null===(e=this.onAutofillPopupChange)||void 0===e||e.call(this,t)},o.prototype.handleHandshakeTimeout=function(t,e){var i;null===(i=this.sendEventV3)||void 0===i||i.call(this,\"lp_iframe_handshake_timeout\",{iframe_scope:JSON.stringify(t.iframescope),iframe_load:t.load,hand_shake_time:(new Date).getTime()-this._data.jsInitTime,origin:t.url,iframe_path:e+t.path})},o.prototype.handleIframeNoScope=function(t,e){var i;null===(i=this.sendEventV3)||void 0===i||i.call(this,\"lp_iframe_no_scope_info\",{autofill_scope_fields:JSON.stringify(t.all_autofill_scope),out_scope_input_fields:JSON.stringify(t.all_out_scope_autofill),origin:t.url,iframe_path:e+t.path})},o.prototype.handleIframeHaveScope=function(t,e){var i;null===(i=this.sendEventV3)||void 0===i||i.call(this,\"lp_iframe_have_scope_info\",{iframe_scope:JSON.stringify(t.iframescope),is_have_hiden_input:t.have_hiden,origin:t.url,iframe_path:e+t.path})},o.prototype.handleIframeSendClick=function(t){var e;null===(e=this.onIframeSendClick)||void 0===e||e.call(this,t)},o.prototype.postMessageToIframes=function(e,i){this.iframeSourceList.forEach((function(o){var a=o.source,n=o.origin;n&&a&&(null==a||a.postMessage(t({event_name:e},i),n))}))},o.prototype.postMessageToMainFrame=function(e,i){var o;null===(o=window.top)||void 0===o||o.postMessage(t({event_name:e},i),\"*\")},o}(),c={first_name:[\"firstname\",\"first_name\",\"first name\",\"given_name\",\"given name\"],last_name:[\"lastname\",\"last_name\",\"last name\",\"family_name\",\"family name\"],email:[\"email\",\"mail\"],zip_code:[\"zip\",\"post\"],address:[\"address\"],city:[\"city\"],mobile:[\"phone\",\"tel\"],unit:[\"unit\",\"apartment\",\"suite\"],state:[\"province\",\"state\"],country:[\"country\"],cardNumber:[\"cc-number\"],exp_month:[\"cc-exp-month\"],exp_year:[\"cc-exp-year\"],exp_date:[\"cc-exp\"]},u={first_name:/given.*name|first.*name|fname/i,last_name:/family.*name|last.*name|lname/i,email:/e.?mail/i,zip_code:/zip|postal|post.*code/i,address:/address.*line|address.?1|addr.?1|street|address.*one/i,city:/city|town/i,mobile:/phone|tel|mobile|cell?ular/i,unit:/address.*line2|address.?2|addr.?2|suite|unit|apartment|address.*two/i,state:/region|province|state/i,country:/country/i,cardNumber:/^credit.*num.*$|^card.*num.*$|ccnum|^cc.*num.*$|source.*number/i,exp_month:/expiry.*month|card.*month|exp.*month|credit.*month/i,exp_year:/expiry.*year|card.*year|exp.*year|credit.*year/i,exp_date:/MM.*YY|cardExpiry|card.*validity|card.*expiry/i},_={first_name:/vorname|initials|first$|nombre|\u0646\u0627\u0645|forename|pr\u00e9nom|prenom|\u0928\u093e\u092e|nama depan|\uc774\ub984|\u0d2a\u0d47\u0d30\u0d4d|nome|\u0418\u043c\u044f/i,last_name:/nachname|surname|last$|secondname|apellidos?|famille|\u0909\u092a\u0928\u093e\u092e|nama belakang|cognome|\u0d2e\u0d31\u0d41\u0d2a\u0d47\u0d30\u0d4d|apelidos|surename|\u0424\u0430\u043c\u0438\u043b\u0438\u044f|sobrenome|\u0646\u0627\u0645.*\u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc/i,email:/correo.*electr(o|\u00f3)nico|courriel|\u0908\u092e\u0947\u0932|\u0907\u0932\u0945\u0915\u094d\u091f\u094d\u0930\u0949\u0928\u093f\u0915.?\u092e\u0947\u0932|\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9|(?:\uc774\uba54\uc77c|\uc804\uc790.?\uc6b0\ud3b8|[Ee]-?mail)(.?\uc8fc\uc18c)?|\u0d07-\u0d2e\u0d46\u0d2f\u0d3f\u0d32\u0d4d\u200d|\u0d07\u0d32\u0d15\u0d4d\u0d1f\u0d4d\u0d30\u0d4b\u0d23\u0d3f\u0d15\u0d4d.?\u0d2e\u0d46\u0d2f\u0d3f\u0d7d|\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d(\u0430\u044f|\u043e\u0439).?\u041f\u043e\u0447\u0442(\u0430|\u044b)|\u90ae\u4ef6|\u90ae\u7bb1|\u96fb\u5b50\u90f5\u4ef6|\u96fb\u90f5\u5730\u5740|\u96fb\u5b50\u4fe1\u7bb1/i,zip_code:/pcode|pin.?code|\\\\bcp\\\\b|\u092a\u093f\u0928.?\u0915\u094b\u0921|kode.?pos|\u90f5\u4fbf\u756a\u53f7|\uc6b0\ud3b8.?\ubc88\ud638|\u0d2a\u0d3f\u0d28\u0d4d\u200d\u0d15\u0d4b\u0d21\u0d4d|kod.?pocztowy|codigo|codpos|\u041f\u043e\u0447\u0442\u043e\u0432\u044b\u0439.?\u0418\u043d\u0434\u0435\u043a\u0441|\u90ae\u653f\u7f16\u7801|\u90ae\u7f16|\u90f5\u905e\u5340\u865f/i,address:/(?:shipping|billing)address$|house.?name|strasse|stra\u00dfe|direcci[\u00f3o]n.*1|^alamat|indirizzo|^\u4f4f\u6240$|\u4f4f\u62401|^\uc8fc\uc18c.?$|\uc8fc\uc18c.?1|ulica|ulicy|morada|endere\u00e7o|\u0410\u0434\u0440\u0435\u0441|\u5730\u5740|Direcci\u00f3n Exacta/i,city:/suburb|\\\\bort\\\\b|stadt|ciudad|localidad|poblacion|\u0634\u0647\u0631|ville|commune|\u0936\u0939\u0930|\u0917\u094d\u0930\u093e\u092e|\u0917\u093e\u0901\u0935|kota|kabupaten|citt[\u00e0a]\\\\b|localita|\u5e02\u533a\u753a\u6751|^\uc2dc[^\ub3c4\u00b7\u30fb]|\uc2dc[\u00b7\u30fb]?\uad70[\u00b7\u30fb]?\uad6c|\u0d28\u0d17\u0d30\u0d02|\u0d17\u0d4d\u0d30\u0d3e\u0d2e\u0d02|miasto|miejscowo\u015b\u0107|cidade|\u0413\u043e\u0440\u043e\u0434|\u041d\u0430\u0441\u0435\u043b(\u0435|\u0451)\u043d\u043d\u044b\u0439.?\u043f\u0443\u043d\u043a\u0442|\u5e02|\u5206\u5340/i,mobile:/contact.?number|telefonnummer|telefono|tel\u00e9fono|telfixe|\u092e\u094b\u092c\u093e\u0907\u0932|telepon|ponsel|\u96fb\u8a71|(?:\uc804\ud654|\ud578\ub4dc\ud3f0|\ud734\ub300\ud3f0|\ud734\ub300\uc804\ud654)(?:.?\ubc88\ud638)?|\u0d2e\u0d4a\u0d2c\u0d48\u0d32\u0d4d\u200d|telefone|telemovel|\u0442\u0435\u043b\u0435\u0444\u043e\u043d|\u7535\u8bdd/i,unit:/adresszusatz|erg\u00e4nzende.?angaben|adresszeile 2|direcci[\u00f3o]n.*2|informaci[\u00f3o]n\\\\s*adicional|complemento.*direcci[\u00f3o]n|indirizzo2|\u4f4f\u62402|\uc8fc\uc18c.?2|\u0423\u043b\u0438\u0446\u0430|\u5730\u57402|Una referencia de la direccion/i,state:/zone|county|principality|\u0930\u093e\u091c\u094d\u092f|\u043e\u0431\u043b\u0430\u0441\u0442\u044c|\u7701|\u5730\u5340|provinsi|propinsi|estado|provincia|\u90fd\u9053\u5e9c\u770c|\u0d38\u0d02\u0d38\u0d4d\u0d25\u0d3e\u0d28\u0d02|^\uc2dc[\u00b7\u30fb]?\ub3c4|\u0627\u0633\u062a\u0627\u0646/i,country:/countries|pa\u00eds|pais|negara|\u56fd|\uad6d\uac00|\ub098\ub77c|\u56fd\u5bb6/i,cardNumber:/(?:card|cc|acct).?(?:number|#|no|num|field(?!s)|pan)|0000 ?0000 ?0000 ?0000|1234 ?1234 ?1234 ?1234|^xxxx ?xxxx ?xxxx ?xxxx$|no.*kartu|\u30ab\u30fc\u30c9\u756a\u53f7|\uce74\ub4dc|\u041d\u043e\u043c\u0435\u0440.*\u043a\u0430\u0440\u0442\u044b|\u4fe1\u7528\u5361\u53f7|\u4fe1\u7528\u5361\u5361\u865f/i,exp_month:/\u6709\u6548\u671f\u2014\u2014\u6708/i,exp_year:/\u6709\u6548\u671f\u2014\u2014\u5e74/i,exp_date:/\u6709\u6548\u671f\u2014\u2014\u65e5\u671f/i},f=1,p=0;function d(t,e){void 0===e&&(e={});var i=function(t,e,i,o,a){void 0===o&&(o=!1);void 0===a&&(a={});var n=t.querySelectorAll(\"input\");o&&(n=t.querySelectorAll(\"input,select\"));for(var s=a,l=0;l<n.length;l++){var r=n[l];if(O(r,o)){var c=I(r);if(null!=c&&i.includes(c))console.log(\"autoFillField.includes(tag):\"+c),!(null===r.value||\"\"===r.value||r.value.match(/^[ ]*$/))&&e||(s[c]?s[c].push(r):s[c]=[r])}}return s}(t,!1,Object.keys(c),!0),o=e,a=/^(\\+\\d+)?[-|\\s]?([\\d-\\s]{3,17})$/,n=/^(\\(\\d+\\))[-|\\s]?([\\d-\\s]{3,17})$/;for(var s in i){var l=void 0;if(l=\"mobile\"===s?i[s].find((function(t){return a.test(t.value)||n.test(t.value)})):\"email\"===s?i[s].find((function(t){return/^\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$/.test(t.value)})):i[s].find((function(t){return t.value})))if(\"mobile\"===s){var r=l.value;/^(\\(\\d+\\))[-|\\s]?([\\d-\\s]{3,17})$/.test(r)&&(r=(r=r.replace(\"(\",\"+\")).replace(\")\",\" \")),r=/^\\+\\d+$/.test(r)?r.replace(\"+\",\"\"):(r=(r=r.replace(/^(\\+\\d+)?[-|\\s]?([\\d-\\s]{3,17})$/,(function(t,e,i){return e?(\"0\"===e[1]&&(e=e.replace(\"+\",\"\")),e+\" \"+i.replace(/\\s/g,\"\")):i.replace(/\\s/g,\"\")}))).trimStart()).replace(/-/g,\"\"),o[s]=r}else o[s]=l.value}return o}function h(t){var e=[],i=[],o=[],a=[],n=[],s=t.form instanceof HTMLFormElement?t.form:null;if(!s){var l={id:t.id,type:t.type,placeholder:t.placeholder,name:t.name},r=k(t),c=null==r?void 0:r.key,u=null==r?void 0:r.is_new_regtags,_=null==r?void 0:r.is_new_attribute;return c?(o.push(c),e.push(l),\"cardNumber\"==c||\"exp_month\"==c||\"exp_year\"==c||\"exp_date\"==c?n.push(c):a.push(c)):i.push(l),{autofill_scope_fields:e,out_scope_input_fields:i,autofill_fields:o,paymentinfo_fileds:n,contactinfo_fileds:a,recognition_regtags_status:u,recognition_attribute_status:_}}return g(s)}function m(t){if(!t)return null;var e=E(t),i=A(t),o=T(t),a=o.key;return{key:e||a||i,is_new_attribute:o.is_new_attribute,is_new_regtags:o.is_new_regtags}}function g(t,e){void 0===e&&(e=!1);var i,o,a=[],n=[],s=[],l=[],r=[],c=[],u=0,_=!1,f=!1,p=!1,d=!1,h=t.querySelectorAll(\"input\");e&&(h=t.querySelectorAll(\"input, select\"));for(var g=0;g<h.length;g++){var y=h[g];if(B(y)){var b=m(y);_||(null==b?void 0:b.is_new_attribute)||(_=!0),!f&&(null==b?void 0:b.is_new_attribute)&&(f=!0),p||(null==b?void 0:b.is_new_regtags)||(p=!0),!d&&(null==b?void 0:b.is_new_regtags)&&(d=!0);var S=null==b?void 0:b.key,w={id:y.id,type:y.type,placeholder:y.placeholder,name:y.name,aria_label:y[\"aria-label\"]?y[\"aria-label\"]:\"null\",aria_labelledby:y[\"aria-labelledby\"]?y[\"aria-labelledby\"]:\"null\",aria_description:y.aria_description?y.aria_description:\"null\"};J(y)&&(i=y,o=void 0,void 0,o=window.getComputedStyle(i),\"none\"!==o.display&&\"hidden\"!==o.visibility&&\"0\"!==o.opacity&&\"rect(0 0 0 0)\"!==o.clip&&\"rect(0px, 0px, 0px, 0px)\"!==o.clip)?S?(l.push(S),\"mobile\"===S&&(w.value=y.value.replace(/\\d/g,\"x\")),a.push(w),\"cardNumber\"==S||\"exp_month\"==S||\"exp_year\"==S||\"exp_date\"==S?c.push(S):r.push(S)):n.push(w):u=1}else{w={id:y.id,type:y.type,placeholder:y.placeholder,name:y.name,aria_label:y[\"aria-label\"]?y[\"aria-label\"]:\"null\",aria_labelledby:y[\"aria-labelledby\"]?y[\"aria-labelledby\"]:\"null\",aria_description:y.aria_description?y.aria_description:\"null\"};s.push(w)}}return{autofill_scope_fields:a,out_scope_input_fields:n,out_scope_form_input_fields:s,autofill_fields:l,paymentinfo_fileds:c,contactinfo_fileds:r,is_have_hiden:u,recognition_attribute_status:v(_,f),recognition_regtags_status:v(p,d)}}function v(t,e){return t&&e?3:!t&&e?2:t&&!e?1:0}function y(t,e){try{var i=void 0;t instanceof HTMLInputElement&&(i=(Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,\"value\")||{}).set),i?i.call(t,e):t.value=e}catch(t){throw t}}function b(t,e){return Object.values(e).some((function(e){return e.includes(t)}))}function S(t,e,i,o,a){void 0===o&&(o=!1),void 0===a&&(a={});var n=t.querySelectorAll(\"input\");o&&(n=t.querySelectorAll(\"input,select\")),console.log(\"getAllInputTagfromForm\"),console.log(i),console.log(\"elementList\"),console.log(n);for(var s=a,l=0;l<n.length;l++){var r=n[l];if(O(r,o)){var c=I(r);if(null!=c&&i.includes(c))console.log(\"autoFillField.includes(tag):\"+c),(null===r.value||\"\"===r.value||r.value.match(/^[ ]*$/)||e)&&(s[c]?s[c].push(r):s[c]=[r])}}return s}function w(t,e,i,o){void 0===o&&(o={});var a=o;if(O(t)){var n=I(t);if(null!=n&&i.includes(n))!(null===t.value||\"\"===t.value||t.value.match(/^[ ]*$/))&&e||(a[n]?a[n].push(t):a[n]=[t])}return a}function I(t){if(!t||!P(t))return null;var e=E(t),i=A(t),o=function(t){for(var e in u)if(M(t,u[e]))return e;return null}(t);return e||o||i}function k(t){if(console.log(\"getTagFromAttribute_\"),console.log(t),!t||!P(t))return null;var e=E(t),i=A(t),o=T(t),a=o.key;return{key:e||a||i,is_new_attribute:o.is_new_attribute,is_new_regtags:o.is_new_regtags}}function F(t,e){for(var i=[],o=[],a=[],n=[],s=[],r=!1,c=!1,u=!1,_=0,f=0,p=[],d=[],h=0;h<t.length;h++){var m=t[h],v=g(m,e),y=v.autofill_scope_fields,b=v.out_scope_input_fields,S=v.contactinfo_fileds,w=v.paymentinfo_fileds,I=v.out_scope_form_input_fields,k=v.recognition_attribute_status,F=v.recognition_regtags_status,E=v.autofill_fields;v.is_have_hiden;S.find((function(t){return l.ins.autoFillField.find((function(e){return e===t}))}))&&0==l.ins.contactInfo_status&&(c=!0),w.length>0&&0==l.ins.paymentInfo_status&&(u=!0),r=c||u;var A=m.querySelectorAll(\"input\");d=d.concat(Array.from(A)),i=i.concat(y),o=o.concat(b),a=a.concat(S),n=n.concat(w),s=s.concat(I),p=p.concat(E),0==_?_=k:k!=_&&(_=3),0==f?f=F:F!=f&&(f=3)}return{all_autofill_scope:i,all_out_scope_autofill:o,contactinfo_scope_fileds:a,paymentinfo_scope_fileds:n,out_scope_form_fields:s,support_autofill:r,support_contact:c,support_payment:u,recognition_attribute_status_:_,recognition_regtags_status_:f,autofill_fields_list:p,all_input_fields:d,have_hiden:0}}function E(t){var e,i,a=t.getAttribute(\"autocomplete\");if(a&&\"none\"!==a&&\"false\"!==a&&\"off\"!==a){var n=a.split(/\\s+/);if(n)try{for(var s=o(n),l=s.next();!l.done;l=s.next()){var r=l.value;for(var u in c)if(c[u].includes(r))return u}}catch(t){e={error:t}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(e)throw e.error}}}return null}function A(t){return\"email\"===t.getAttribute(\"type\")?\"email\":null}function T(t){var e={key:null,is_new_regtags:!1,is_new_attribute:!1};for(var i in u){var o=N(t,u[i]);if(o.is_match)return e.is_new_attribute=o.is_new_attribute,e.is_new_regtags=!1,e.key=i,e;if(N(t,_[i]).is_match)return e.is_new_attribute=o.is_new_attribute,e.is_new_regtags=!0,e.key=i,e}return e}function M(t,e){for(var i=[\"name\",\"placeholder\",\"id\",\"aria-label\",\"aria-labelledby\",\"aria_description\"],o=0;o<i.length;++o){var a=i[o],n=t.getAttribute(a);if(n&&n.match(e))return!0}return!1}function N(t,e){for(var i=[\"name\",\"placeholder\",\"id\",\"aria-label\",\"aria-labelledby\",\"aria_description\"],o={is_new_attribute:!1,is_match:!1},a=0;a<i.length;++a){var n=i[a],s=t.getAttribute(n);if(s&&s.match(e))return o.is_match=!0,o.is_new_attribute=\"name\"!=n&&\"placeholder\"!=n&&\"id\"!=n,o}return o}function O(t,e){return void 0===e&&(e=!1),e?t instanceof HTMLInputElement||t instanceof HTMLSelectElement:t instanceof HTMLInputElement}function P(t){return!(!J(t)||!function(t){return t.tabIndex>=0}(t))&&B(t)}function B(t){var e=t.type||t.getAttribute(\"type\");return!(e&&![\"text\",\"email\",\"tel\"].includes(e))}function J(t){return null!==t.offsetParent}function L(t){return/^\\d*$/.test(t)}function x(t){var e=[];for(var i in t)e.includes(i)||e.push(i);return e}new(function(){function c(t,e,i){void 0===i&&(i={first_page:1,platform:-1}),this.executed=!1,this.iframescope=[],this.iframeDataList=[],this.selected=null,this.click_type=-1,this.showAutoFillPopup=!1,this.autoFillStatus=0,this.version=\"version_20250506_0.6577916962172883\",this.js_from=\"cdn\",this.clickOrigin=null,this.clickSource=null,this.autofill_saved_data={},this.is_use_contact_autofill=0,this.is_use_payment_autofill=0,this._clickData=null,this.all_input_fields=[],this.detected_forms=[],this.detected_input_fields=[],this._is_have_submit=!1,this.submitted=!1;try{console.log(\"window == window.top:\"+(window===window.top)),console.log(e),console.log(i),console.log(\"version:\"+this.version),this.initAutofillInfo(t,e,i),this.iframeBridge=new r,this.addClickEvent(),this.addNativeUpdateEvent(),this.sendEventV3(\"lp_js_init_success\",{js_version:this.version,js_from:this.js_from})}catch(t){this.sendEventV3(\"lp_js_init_fail\",{code:0,fail_reason:JSON.stringify({fail_reason:t.message,stack:t.stack}),js_version:this.version,js_from:this.js_from})}}return c.prototype.initAutofillInfo=function(t,e,i){void 0===i&&(i={first_page:1,platform:-1}),l.ins.initAdInfo(t,i),this._data=l.ins,this.setAutofillInfo(e)},c.prototype.setAutofillInfo=function(t){l.ins.initAutofillInfo(t)},c.prototype.initAutoFill=function(t){return e(this,void 0,void 0,(function(){var e,o,a,s,r,c,u,_,f,p,d,h;return i(this,(function(i){switch(i.label){case 0:return this.executed?[3,4]:window===window.top?[3,2]:[4,(m=2e3,void 0===m&&(m=1e3),new Promise((function(t,e){setTimeout((function(){t()}),m)})))];case 1:if(i.sent(),e=document.querySelectorAll(\"form\"),this.formList=e,o=Array.from(e),a=F(o),s=a.support_autofill,r=a.autofill_fields_list,c=a.all_out_scope_autofill,u=a.all_autofill_scope,_=a.have_hiden,this.iframescope=r,console.log(\"autofill_fields_list\"),console.log(r),f=document.querySelectorAll(\"input\"),!s){for(p=[],d=0;d<f.length;d++)null===f[d].closest(\"form\")&&(h=I(f[d]))&&(p.push(h),this.iframescope.push(h));0===p.length&&this.iframeBridge.postMessageToMainFrame(n.IFRAME_NO_SCOPE,{all_out_scope_autofill:c,all_autofill_scope:u,url:window.location.href,path:new URL(window.location.href).pathname})}if(l.ins.iframeScope=this.iframescope,this.iframescope.length>0&&this.iframeBridge.postMessageToMainFrame(n.IFRAME_HAVE_SCOPE,{iframescope:this.iframescope,have_hiden:_,url:window.location.href,path:new URL(window.location.href).pathname}),f.length<1)return[2];i.label=2;case 2:return[4,this.handShake()];case 3:i.sent(),i.label=4;case 4:return this.checkPageInfo(t),[2]}var m}))}))},c.prototype.checkPageInfo=function(t){var e=this,i=document.querySelectorAll(\"form\");this.formList=i;var o=F(Array.from(i)),s=o.all_autofill_scope,l=o.all_out_scope_autofill,r=o.contactinfo_scope_fileds,c=o.paymentinfo_scope_fileds,u=o.support_autofill,_=o.support_contact,f=o.support_payment,p=o.recognition_attribute_status_,d=o.recognition_regtags_status_,h=-1;\"complete\"===t?h=1:\"interactive\"===t&&(h=2);var m=document.querySelectorAll(\"iframe\"),g={autofill_scope_fields:JSON.stringify(s),out_scope_input_fields:JSON.stringify(l),support_autofill:u?1:0,support_contact:_?1:0,support_payment:f?1:0,contactinfo_scope_fileds:JSON.stringify(r),paymentinfo_scope_fileds:JSON.stringify(c),iframeList:m.length>0?1:0,report_from:t,report_time:h,mainframe_load:this._data.mainframe_load,recognition_attribute_status:p,recognition_regtags_status:d};2==this._data.platform&&window==window.top?(window.JSBridge||a(),window.JSBridge.call(\"getWebViewExtraInfo\",{test:\"t\"},(function(t){var i=\"string\"==typeof t?JSON.parse(t):t;console.log(\"getWebViewExtraInfo\"),console.log(i),e._data.is_first_page=i?i.first_page:-1,e.setAutofillInfo(i.autofillInfo),e.iframeBridge.postMessageToIframes(n.RESET_DATA,{info:i.autofillInfo}),e.sendEventV3(\"lp_inject_js_form_info\",g)}))):1==this._data.platform&&window==window.top&&this.sendEventV3(\"lp_inject_js_form_info\",g)},c.prototype.handShake=function(){var t=this;this.iframeBridge.initHandshake(),this.sendEventV3=this.sendEventV3.bind(this),this.iframeBridge.onHandshake2Complete=function(e){t.initAutofillInfo(e.adInfo,e.autoFillInfo,e.extraData)},this.iframeBridge.removeSelect=function(){t.selected=null},this.iframeBridge.onGet=function(e,i,o){var a;console.log(\"onget\"),console.log(e),t.clickOrigin&&t.clickSource&&(null===(a=t.clickSource)||void 0===a||a.postMessage({event_name:n.MAIN_TO_IFRAME_REMOVESELECT},t.clickOrigin)),t.clickOrigin=i,t.clickSource=o,t.selected=null,t.click_type=e.click_type,t.clickTag=e.tag,0==e.support_autofill?t._data.noKeyReason=0:1==e.support_autofill?t._data.noKeyReason=2:2==e.support_autofill&&(t._data.noKeyReason=-1),e.isSelectEmpty?t.callJSBBridge(e.autofillFields,void 0,e.tag,e.click_type,e.field,1):t.sendTextClick(e.tag,e.autofillFields),t.sendEventV3(\"lp_click_input\",{report_time:2,support_autofill:e.pointData.support_autofill,click_input_status:e.pointData.click_input_status,is_should_detect:e.pointData.is_should_detect,can_autofill:e.pointData.can_autoFill,click_autofill_field:e.pointData.tag,is_field_include:e.pointData.is_field_include,is_value_empty:e.pointData.is_value_empty,is_in_iframe:1,autofill_field:e.tag,recognition_attribute_status:e.pointData.recognition_attribute_status,recognition_regtags_status:e.pointData.recognition_regtags_status})},this.iframeBridge.onTrigger=function(e){console.log(\"onTrigger\"),console.log(e),1==e.autofillData.isAutofillAll?t.insertInput(e.autofillData,t.selected):t.setSingleValue(e.autofillData),t.selected=null},this.iframeBridge.onSetFocus=function(){console.log(\"onSetFocus\"),console.log(t.selected),t.selected&&(console.log(\"setfocus\"),t.selected.focus())},this.iframeBridge.resetData=function(e){console.log(\"resetData\"),console.log(e),t.setAutofillInfo(e.info)},this.iframeBridge.onIframeSendClick=function(e){console.log(\"onIframeSendClick\"),console.log(e),t.sendTextClick(e.tag,e.autofillFields)},this.iframeBridge.onGetSubmit=function(){var e;if(console.log(\"onGetSubmit\"),t.formList&&t.formList.length>0){var i=t.setSubmit(),o=i.contact_info,a=i.payment_info,s=i.autofill_scope_fields,l=i.out_scope_input_fields;null===(e=window.top)||void 0===e||e.postMessage({event_name:n.RECEIVE_SUBMIT,contact_info:o,payment_info:a,autofill_scope_fields:s,out_scope_input_fields:l},\"*\")}},this.iframeBridge.onReceiveSubmit=function(e){console.log(\"onReceiveSubmit:\"+(new Date).getTime()),console.log(e),t.iframeDataList.push({contact_info:e.contact_info,payment_info:e.payment_info,autofill_scope_fields:e.autofill_scope_fields,out_scope_input_fields:e.out_scope_input_fields}),t.autofillFormSubmitCallback(t.event)},this.iframeBridge.onIframeSubmit=function(){console.log(\"onIframeSubmit\"),t.throttledHandleAutoFillSubmit()},this.iframeBridge.sendEventV3=this.sendEventV3.bind(this),this.iframeBridge.onAutofillPopupChange=function(e){t.showAutoFillPopup=e.showAutoFillPopup}},c.prototype.throttledHandleAutoFillSubmit=function(t){void 0===t&&(t=null),console.log(\"throttledHandleAutoFillSubmit\"),this._is_have_submit||this.autofillFormSubmitCallback(t)},c.prototype.addNativeUpdateEvent=function(){window.__autoFillCallback__=this.autoFillCallback.bind(this),window.__AutoFillPopupClose__=this.AutoFillPopupClose.bind(this),window.__rejectUseAutofill__=this.rejectUseAutofill.bind(this),window.__updatePipoPaymentCount__=this.updatePipoPaymentCount.bind(this),window.__autoFillInfoChange__=this.autoFillInfoChange.bind(this),window.__shopifyNativeSubmit__=this.shopifyNativeSubmit.bind(this)},c.prototype.autoFillCallback=function(t){var e;console.log(\"autoFillDataJSON:\"),console.log(t);try{var i=this.iframeBridge.iframeSourceList;if(console.log(\"iframeList:\"+i.length),console.log(i),console.log(window===window.top),window===window.top){try{1==(\"string\"==typeof t?JSON.parse(t):t).isAutofillAll?this.insertInput(t,this.selected):this.selected&&this.setSingleValue(t),this.selected=null}catch(t){console.log(\"autoFillCallback,error5:\"+t),this.sendEventV3(\"lp_js_run_fail\",{code:\"5\",fail_reason:JSON.stringify({msg:t.message,stack:t.stack})})}try{for(var o=0;o<i.length;o++)i[o].origin&&i[o].source&&(null===(e=i[o].source)||void 0===e||e.postMessage({event_name:n.TRIGGER,autofillData:t},i[o].origin))}catch(t){console.log(\"autoFillCallback,error6:\"+t),this.sendEventV3(\"lp_js_run_fail\",{code:\"5.1\",fail_reason:JSON.stringify({msg:t.message,stack:t.stack})})}}}catch(t){console.log(\"autoFillCallback,error2:\"+t),this.sendEventV3(\"lp_js_run_fail\",{code:\"2\",fail_reason:JSON.stringify({msg:t.message,stack:t.stack})})}},c.prototype.insertInput=function(t,e){var i;console.log(\"insertInput\");var o={},a=\"string\"==typeof t?JSON.parse(t):t;if(!a.paymentInfo||\"\"!=a.paymentInfo.cardNumber&&null!=a.paymentInfo.cardNumber){a.contactInfo&&(this.autofill_saved_data.concat_info=a.contactInfo,this.is_use_contact_autofill=1),a.paymentInfo&&(this.autofill_saved_data.payment_info=a.paymentInfo,this.is_use_payment_autofill=1);var s=0,l=!0;if(o=a.contactInfo?a.contactInfo:a.paymentInfo,a.paymentInfo){var r=o.expiryTime.split(\"/\"),c=r[1].slice(-2),u=r[0]+\"/\"+c;o.exp_date=u,o.exp_month=r[0],o.exp_year=c}console.log(\"start:allInputTagMap\"),console.log(this.formList),console.log(o),console.log(e),this.formList=document.querySelectorAll(\"form\"),console.log(this.formList);for(var _={},f=0;f<this.formList.length;f++)_=S(this.formList[f],!0,Object.keys(o),!1,_);var p=document.querySelectorAll(\"input\");for(f=0;f<p.length;f++)b(p[f],_)||(_=w(p[f],!0,Object.keys(o),_));console.log(_);var d=function(t){if(o[t]){var i=o[t];if(console.log(\"value:\"+i),\"mobile\"===t){var n=i.split(/\\s+/);i=n[n.length-1]}_[t].forEach((function(t){console.log(\"elevalue:\"+t.value),console.log(e),t!==e&&t.value?(t===e&&t.value!=i||t.value!=i&&a.paymentInfo)&&(console.log(\"elevalue1:\"+t.value),s+=1,y(t,i)):(console.log(\"value0:\"),s+=1,y(t,i),t.value=i,console.log(\"value01:\"+t.value),t.value!==i&&(l=!1),console.log(\"value02:\"+l)),t.dispatchEvent(new Event(\"input\",{bubbles:!0})),t.dispatchEvent(new Event(\"change\",{bubbles:!0})),t.focus(),t.blur()}))}};for(var m in _)d(m);console.log(\"3\");var g=[],v=[];if(e){var I=h(e);g=I.autofill_scope_fields,v=I.out_scope_input_fields}console.log(\"4\");var k=a.scene?a.scene:-1,F=a.isAutofillAll?a.isAutofillAll:-1,E=a.currentKey?a.currentKey:\"null\",A={popup_type:0,autofill_fields:a.autofillFields?a.autofillFields.toString():\"null\",user_autofill_fields:JSON.stringify(Object.keys(_)),autofill_scope_count:g.length,autofill_out_scope_count:v.length,autofill_count:s,autofill_success:l,infoType:this.click_type.toString(),autofill_key:x(_).toString(),input_key:x(_).toString(),scene:k.toString(),is_autofill_all:F,current_key:E,show_autofill_all:a.currentKey?1:0,no_key_reason:a.noKeyReason};console.log(\"5\"),window===window.top?(A.is_in_iframe=0,this.sendEventV3(\"lp_js_autofill_success\",A)):s>0&&(A.is_in_iframe=1,null===(i=window.top)||void 0===i||i.postMessage({event_name:n.TRIGGER_AUTOFILL_SUBMIT,point_data:A},\"*\")),console.log(\"6\"),this.autoFillStatus=1}},c.prototype.setSingleValue=function(t){var e,i=\"string\"==typeof t?JSON.parse(t):t,o=\"\",a=\"\";if(i.contactInfo?(a=Object.keys(i.contactInfo)[0],o=i.contactInfo[a]):i.paymentInfo&&(a=Object.keys(i.paymentInfo)[0],o=i.paymentInfo[a]),this.selected){var s=k(this.selected);console.log(\"this.selected:\"+(null==s?void 0:s.key),this.clickTag);i.currentKey&&i.currentKey;y(this.selected,o);var l={input_key:a,autofill_key:null==s?void 0:s.key,scene:(i.scene?i.scene:-1).toString(),is_autofill_all:0,infoType:this.click_type.toString(),current_key:i.currentKey,no_key_reason:i.noKeyReason,show_autofill_all:i.currentKey?1:0,autofill_fields:i.autofillFields?i.autofillFields.toString():\"null\"};window===window.top?this.sendEventV3(\"lp_js_autofill_success\",l):(l.is_in_iframe=1,null===(e=window.top)||void 0===e||e.postMessage({event_name:n.TRIGGER_AUTOFILL_SUBMIT,point_data:l},\"*\")),this.selected.focus(),this.selected.blur()}},c.prototype.updatePipoPaymentCount=function(t){l.ins.updatePipoPaymentCount(t),this.iframeBridge.postMessageToIframes(n.SET_IFRAME_DATA,{type:1,pipo_paymentInfo_status:this._data.pipo_paymentInfo_status,paymentField:this._data.paymentField,pipo_payment_count:this._data.pipo_payment_count})},c.prototype.shopifyNativeSubmit=function(){console.log(\"shopifyNativeSubmit\"),this.throttledHandleAutoFillSubmit()},c.prototype.AutoFillPopupClose=function(){this.showAutoFillPopup=!1},c.prototype.autoFillInfoChange=function(t){console.log(\"autoFillInfoChange\"),console.log(t);var e=\"string\"==typeof t?JSON.parse(t):t,i=e.autoFillInfo,o=e.changeFrom;this.setAutofillInfo(i),this.iframeBridge.postMessageToIframes(n.RESET_DATA,{info:i}),this.sendEventV3(\"lp_autofill_info_reset\",{change_from:o})},c.prototype.rejectUseAutofill=function(){console.log(\"__rejectUseAutofill__\"),console.log(this.selected),console.log(this._clickData),this.selected&&this.selected.focus(),this.iframeBridge.postMessageToIframes(n.SET_FOCUS,{}),this._clickData&&(console.log(\"iabEditTextClick\"),window.JSBridge.call(\"iabEditTextClick\",this._clickData,(function(){console.log(\"aaaa\")})))},c.prototype.addClickEvent=function(){console.log(\"addClickEvent:\"+(new Date).getTime()),window.addEventListener(\"click\",this.onClick.bind(this))},c.prototype.removeClickEvent=function(){window.removeEventListener(\"click\",this.onClick.bind(this))},c.prototype.throttledHandleAutoFillRequest=function(t){var e,i,o,a;(e=this.handleAutoFillRequest,i=100,o=this,a=!1,function(t){a||(e.call(o,t),a=!0,setTimeout((function(){a=!1}),i))})(t)},c.prototype.onClick=function(t){console.log(\"click:\"+l.ins.switchAutoFill,window!==window.top,this.iframeBridge.status===s.FULFILLED,(new Date).getTime()),window===window.top||window!==window.top&&this.iframeBridge.status===s.FULFILLED?this.throttledHandleAutoFillRequest(t):console.log(\"click not support autofill\")},c.prototype.onBlur=function(){this.selected=null},c.prototype.handleAutoFillRequest=function(t){var e;console.log(\"handleAutoFillRequest:\");try{var i=null==t?void 0:t.target;if(console.log(i),i&&O(i)&&(console.log(t.type),\"click\"==t.type)){if(console.log(i.form),i.form instanceof HTMLFormElement){var o=i.form;o.removeEventListener(\"submit\",this.autofillFormSubmitCallback.bind(this)),o.addEventListener(\"submit\",this.autofillFormSubmitCallback.bind(this))}this.selected=i,this.clickOrigin&&this.clickSource&&(null===(e=this.clickSource)||void 0===e||e.postMessage({event_name:n.MAIN_TO_IFRAME_REMOVESELECT},this.clickOrigin),this.clickOrigin=null,this.clickSource=null);var a=k(i);console.log(a),this.clickHandle(a,i)}}catch(t){this.sendEventV3(\"lp_js_run_fail\",{js_fail_code:\"0\",fail_reason:JSON.stringify({fail_reason:t.message,stack:t.stack})})}},c.prototype.clickHandle=function(t,e){var i,o,a,s,l;console.log(\"clickHandle:\"),console.log(t);var r=null==t?void 0:t.key,c=(null==t?void 0:t.is_new_attribute)?2:1,u=(null==t?void 0:t.is_new_regtags)?2:1,_=[];if(this.click_type=-1,console.log(\"tagstatus:\"+r,this._data.paymentInfo_status,this._data.pipo_paymentInfo_status),this.clickTag=r,r)if(\"cardNumber\"==r||\"exp_month\"==r||\"exp_year\"==r||\"exp_date\"==r){if(0!=this._data.paymentInfo_status&&0!=this._data.pipo_paymentInfo_status||(_=this._data.Payment_Field,this.click_type=f),!this._data.switchPayment)return console.log(\"switchPayment close\"),this._data.noKeyReason=1,void(window===window.top?this.sendTextClick(null,[]):this.iframeBridge.postMessageToMainFrame(n.IFRAME_TO_MAIN_SENDCLICK,{tag:null,autofillFields:[]}))}else if(0==this._data.contactInfo_status&&(_=this._data.autoFillField,this.click_type=p),!this._data.switchContact)return console.log(\"switchContact close\"),this._data.noKeyReason=1,void(window===window.top?this.sendTextClick(null,[]):this.iframeBridge.postMessageToMainFrame(n.IFRAME_TO_MAIN_SENDCLICK,{tag:null,autofillFields:[]}));var d,h=function(t,e,i){var o={},a=t.form instanceof HTMLFormElement?t.form:null;if(console.log(a),!a){var n=I(t);return n&&i.includes(n)?(o[n]=[t],o):null}return S(a,e,i)}(this.selected,!1,_);this.allInputTagMap=h,console.log(\"allInputTagMap:\"),console.log(h),r&&_.includes(r)&&(null===this.selected.value||\"\"===this.selected.value||this.selected.value.match(/^[ ]*$/))&&(d=this.detect(this.selected,this.click_type));var m={is_should_detect:Number(d),can_autoFill:Number(this._data.canAutoFill),tag:r,is_field_include:Number(_.includes(r)),is_value_empty:Number(null===this.selected.value||\"\"===this.selected.value||this.selected.value.match(/^[ ]*$/))};console.log(\"shoulddetect2:\"),console.log(m),console.log(r),console.log(this._data.autoFillField);var g=0,v=r;v?(g=1,this._data.noKeyReason=2,_.find((function(t){return t===v}))&&(g=2,this._data.noKeyReason=-1)):this._data.noKeyReason=0;var y={report_time:2,support_autofill:g,autofill_field:v||\"\",click_input_status:JSON.stringify({id:null===(i=this.selected)||void 0===i?void 0:i.id,type:null===(o=this.selected)||void 0===o?void 0:o.type,placeholder:null===(a=this.selected)||void 0===a?void 0:a.placeholder,name:null===(s=this.selected)||void 0===s?void 0:s.name}),is_should_detect:m.is_should_detect,can_autofill:m.can_autoFill,click_autofill_field:m.tag,is_field_include:m.is_field_include,is_value_empty:m.is_value_empty,is_in_iframe:0,recognition_attribute_status:c,recognition_regtags_status:u};this.sendNewInputLog(this.selected,m);var b=x(h);if(window!==window.top){console.log(\"callJSBBridge:ifrmae:\"+this.click_type,(new Date).getTime());var w=this.click_type;this.click_type==f&&(b=this._data.Payment_Field),console.log(b),console.log(this.selected);var k;return k=null===this.selected.value||\"\"===this.selected.value||this.selected.value.match(/^[ ]*$/),console.log(\"isSelectEmpty\"),console.log(k),void(null===(l=window.top)||void 0===l||l.postMessage({event_name:n.GET,autofillFields:b,click_type:w,field:_,tag:r,pointData:y,isSelectEmpty:k,support_autofill:g},\"*\"))}if(this.sendEventV3(\"lp_click_input\",y),!(d&&h&&0!==Object.keys(h).length&&this._data.canAutoFill&&r&&_.includes(r)&&(null===this.selected.value||\"\"===this.selected.value||this.selected.value.match(/^[ ]*$/))))return console.log(\"bufuhe\"),console.log(d),console.log(h),console.log(this._data.canAutoFill),console.log(r),console.log(_),console.log(this.selected.value),void(2==g?(b.includes(r)||b.push(r),this.sendTextClick(r,b)):(0==g&&(this._data.noKeyReason=0),this.sendTextClick(null,[])));this.callJSBBridge(x(h),this.selected,r,this.click_type,_,0,y)},c.prototype.callJSBBridge=function(t,e,i,o,n,s,l){var r=this;if(void 0===i&&(i=\"\"),void 0===o&&(o=-1),console.log(\"callJSBBridge:\"+t.length,this.showAutoFillPopup,this._data.switchAutoFill,this._data.is_need_popup),t.length>0)if(!this.showAutoFillPopup&&this._data.switchAutoFill&&this._data.is_need_popup){window.JSBridge||a(),this.showAutoFillPopup=!0;var c=(new Date).getTime(),u=[],_=[];o==p?u=this._data.autoFillField:o==f&&(_=t),console.log(u),console.log(_),window.JSBridge.call(\"showAutofillPopup\",{popupType:0,autofillFields:t,contactInfoFields:u,popupJsbStartTime:c,infoType:o,autofillField:i,firstPage:this._data.is_first_page},(function(t){console.log(\"showAutofillPopup_jsb\u2014\u2014callback\"),console.log(t);var i=t.code,o=(new Date).getTime();1===Number(i)?(r.autoFillStatus=2,r.showAutoFillPopup=!0,null==e||e.blur()):r.showAutoFillPopup=!1,t.show_autofill_code=t.code.toString(),t.msg||(t.msg=\"-1\"),t.show_fail_msg=t.msg,t.popup_type=0,t.cost=o-c,t.infoType=r.click_type.toString(),t.autofill_key=u,r.sendEventV3(\"lp_js_call_showAutofillPopup_jsb\",t)}))}else this.showAutoFillPopup||this.sendEventV3(\"lp_js_call_showAutofillPopup_jsb\",{code:0,msg:\"autofillPopup has show\"}),this._data.is_need_popup||this.sendEventV3(\"lp_popup_show\",{fail_reason:this._data.fail_reason});this.sendTextClick(i,t)},c.prototype.sendTextClick=function(t,e){console.log(\"sendTextClick\");var i=2;this.click_type!=f&&this.click_type!=p||(i=this.click_type);var n=[],s=[];this.click_type==p?(n=e,s=this._data.autoFillField):this.click_type==f&&(n=e,s=e);var l=function(t,e){var i,a;void 0===e&&(e=[\"first_name\",\"last_name\",\"address\",\"unit\",\"city\",\"zip_code\",\"country\",\"email\",\"mobile\"]);var n=[];try{for(var s=o(e),l=s.next();!l.done;l=s.next()){var r=l.value;t.includes(r)&&n.push(r)}}catch(t){i={error:t}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}return n}(this._data.is_need_show_contactall?s:n);t&&(this._data.noKeyReason=-1),console.log(l),console.log(\"call:iabEditTextClick:\"+i,t,this._data.is_need_show_contactall?s:n,this._data.noKeyReason),this._clickData={identify:t?1:0,messageType:i,currentKey:t||\"\",autofillFields:l,noKeyReason:this._data.noKeyReason,messageField:t||\"\"},window.JSBridge||a(),window.JSBridge.call(\"iabEditTextClick\",this._clickData,(function(){console.log(\"aaaa\")}))},c.prototype.sendNewInputLog=function(t,e,i){var o=this;try{var a=!1,n=t.form instanceof HTMLFormElement?t.form:null;if(n){var s=n.getElementsByTagName(\"input\");Array.from(s).forEach((function(t){o.all_input_fields.includes(t)||(o.all_input_fields.push(t),a=!0)}))}else this.all_input_fields.includes(t)||(this.all_input_fields.push(t),a=!0);if(a){var l,r=h(t),c=r.autofill_scope_fields,u=r.out_scope_input_fields,_=(r.autofill_fields,r.paymentinfo_fileds),f=r.contactinfo_fileds,p=r.recognition_regtags_status,d=r.recognition_attribute_status,m=[],g=[],v=[],y=[],b=!1,S=!1;f.find((function(t){return o._data.autoFillField.find((function(e){return e===t}))}))&&0==this._data.contactInfo_status&&(b=!0),(_.length>0&&0==this._data.paymentInfo_status||0==this._data.pipo_paymentInfo_status)&&(S=!0),l=b||S,m=m.concat(c),g=g.concat(u),v=v.concat(f),y=y.concat(_),this.sendEventV3(\"lp_inject_js_form_info\",{autofill_scope_fields:JSON.stringify(m),out_scope_input_fields:JSON.stringify(g),support_autofill:l?1:0,support_contact:b?1:0,support_payment:S?1:0,contactinfo_scope_fileds:JSON.stringify(v),paymentinfo_scope_fileds:JSON.stringify(y),report_time:0,report_from:\"click\",mainframe_load:this._data.mainframe_load,recognition_regtags_status:p,recognition_attribute_status:d})}}catch(t){this.sendEventV3(\"lp_js_run_fail\",{js_fail_code:\"3\",fail_reason:JSON.stringify({fail_reason:t.message,stack:t.stack})})}},c.prototype.detect=function(t,e){var i,a,n,s,l=this;try{var r=t.form instanceof HTMLFormElement?t.form:null,c=!0;if(r)try{for(var u=o(this.detected_forms),_=u.next();!_.done;_=u.next()){if(_.value==r){!1;break}}}catch(t){i={error:t}}finally{try{_&&!_.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}var f=!0;try{for(var p=o(this.detected_input_fields),d=p.next();!d.done;d=p.next()){if(d.value===t){f=!1,c=!1;break}}}catch(t){n={error:t}}finally{try{d&&!d.done&&(s=p.return)&&s.call(p)}finally{if(n)throw n.error}}if(r){this.detected_forms.push(r);var h=r.getElementsByTagName(\"input\");Array.from(h).filter((function(t){return P(t)})).forEach((function(t){!l.detected_input_fields.includes(t)&&function(t,e){var i=I(t);return 0==e?\"cardNumber\"!=i&&\"exp_month\"!=i&&\"exp_year\"!=i&&\"exp_date\"!=i:1==e?\"cardNumber\"==i||\"exp_month\"==i||\"exp_year\"==i||\"exp_date\"==i:void 0}(t,e)&&l.detected_input_fields.push(t)}))}return f&&this.detected_input_fields.push(t),c}catch(t){this.sendEventV3(\"lp_js_run_fail\",{js_fail_code:\"4\",fail_reason:JSON.stringify({fail_reason:t.message,stack:t.stack})})}},c.prototype.autofillFormSubmitCallback=function(t){var e,i,o=this;console.log(\"autofillFormSubmitCallback\"),console.log(this),this.formList=document.querySelectorAll(\"form\"),this._is_have_submit=!0;try{if(window!==window.top)return void(null===(e=window.top)||void 0===e||e.postMessage({event_name:n.IFRAME_SUBMIT},\"*\"));if(console.log(\"this.iframeBridge\"),console.log(this.iframeBridge),console.log(this.iframeBridge.iframeSourceList),console.log(this.iframeDataList),console.log(\"this.iframeBridge.iframeSourceList.length:\"+this.iframeBridge.iframeSourceList.length),console.log(\"this.iframeDataList.length:\"+this.iframeDataList.length),this.iframeBridge.iframeSourceList.length>0&&0===this.iframeDataList.length){console.log(\"sendSubmit:\"+(new Date).getTime());for(var s=0;s<this.iframeBridge.iframeSourceList.length;s++)null===(i=this.iframeBridge.iframeSourceList[s].source)||void 0===i||i.postMessage({event_name:n.GET_SUBMIT},this.iframeBridge.iframeSourceList[s].origin);return}if(this.iframeBridge.iframeSourceList.length>0&&this.iframeDataList.length>0&&this.iframeDataList.length!==this.iframeBridge.iframeSourceList.length)return;console.log(\"setSubmit\");var l=this.setSubmit(),r=l.contact_info,c=l.payment,u=l.payment_info,_=l.infoType,f=l.autofillInputValues,p=l.autofill_scope_fields,d=l.out_scope_input_fields;console.log(\"setSubmit1\"),console.log(f),console.log(_);var h=!this.submitted;this.submitted=!0;var m=function(t,e,i){var o=[],a=i.contactInfo;if(null!=a&&null!=a)for(var n in a)t[n]&&t[n]!=a[n]&&o.push(n);var s=i.paymentInfo;if(null!=s&&null!=s)for(var n in s)e[n]&&e[n]!=s[n]&&o.push(n);return o}(r,u,this.autofill_saved_data);if(this.sendEventV3(\"lp_js_form_submission_action\",{autofill_scope_fields:JSON.stringify(p),out_scope_input_fields:JSON.stringify(d),autofill_valid_scope_fields:JSON.stringify(Object.keys(f)),autoFillStatus:this.autoFillStatus,first_submit:h?1:0,report_time:0,infoType:_,update_key:JSON.stringify(m),iframe_scope_length:this.iframeBridge.iframeSourceList.length,is_use_contact_autofill:this.is_use_contact_autofill,is_use_payment_autofill:this.is_use_payment_autofill}),!f||0===Object.keys(f).length)return;if(-1==_)return;if(!this.showAutoFillPopup&&this._data.switchAutoFill){window.JSBridge||a(),this.showAutoFillPopup=!0;var g=(new Date).getTime();window.JSBridge.call(\"showAutofillPopup\",{popupType:1,popupJsbStartTime:g,extraInfo:JSON.stringify({}),infoType:_,contactInfo:r,paymentInfo:c,firstPage:this._data.is_first_page},(function(t){var e=t.code,i=(new Date).getTime();t.cost=i-g,1===Number(e)?o.showAutoFillPopup=!0:o.showAutoFillPopup=!1,t.show_autofill_code=t.code.toString(),t.msg||(t.msg=\"-1\"),t.show_fail_msg=t.msg,t.popup_type=1,t.firstSubmit=h?1:0,t.infoType=_.toString(),o.sendEventV3(\"lp_js_call_showAutofillPopup_jsb\",t)}))}else this.sendEventV3(\"lp_js_call_showAutofillPopup_jsb\",{code:0,msg:\"autofillPopupHasShow\"})}catch(t){console.log(\"error1:\"+t),this.sendEventV3(\"lp_js_run_fail\",{js_fail_code:\"1\",fail_reason:JSON.stringify({fail_reason:t.message,stack:t.stack})})}},c.prototype.setSubmit=function(t){void 0===t&&(t=[]);var e=t.length>0?t:this.formList,i=[],o=[];console.log(\"list\"),console.log(e);for(var a={},n=0;n<e.length;n++){a=d(e[n],a);var s=g(e[n]),l=s.autofill_scope_fields,r=s.out_scope_input_fields;i=i.concat(l),o=o.concat(r)}console.log(\"autofillInputValues\"),console.log(a);var c,u={},_={};for(var f in a)if(\"exp_date\"!=f)if(\"cardNumber\"!=f){if(\"exp_month\"!=f&&\"exp_year\"!=f)u[f]=a[f];else if(L(a[f].replace(/\\s+/g,\"\"))){h=a[f].replace(/\\s+/g,\"\");_[f]=h,\"exp_year\"==f&&(_[f]=2==h.length?\"20\"+h:h)}}else L(c=a[f].replace(/\\s+/g,\"\"))&&!(c.length<13||c.length>19)&&(_[f]=a[f].replace(/\\s+/g,\"\"));else{var p=a[f].split(\"/\"),h=p[0].replace(/\\s+/g,\"\");_.exp_month=h;var m=p[1].replace(/\\s+/g,\"\"),v=2==m.length?\"20\"+m:m;_.exp_year=v}if(console.log(this.iframeDataList),this.iframeDataList.length>0)for(n=0;n<this.iframeDataList.length;n++){var y=this.iframeDataList[n].contact_info,b=this.iframeDataList[n].payment_info;if(y&&0!==Object.keys(y).length)for(var f in this.setObj(u,y),u)u.hasOwnProperty(f)&&!a.hasOwnProperty(f)&&(a[f]=u[f]);if(b&&0!==Object.keys(b).length)for(var f in this.setObj(_,b),_)_.hasOwnProperty(f)&&!a.hasOwnProperty(f)&&(a[f]=_[f]);i=i.concat(this.iframeDataList[n].autofill_scope_fields),o=o.concat(this.iframeDataList[n].out_scope_input_fields)}var S=function(t,e){var i=[],o=e.paymentInfo;if(null!=o&&null!=o)for(var a in o)t[a]&&t[a]!=o[a]&&i.push(a);return i.length>0}(_,this.autofill_saved_data),w=-1;3==Object.keys(_).length&&!S&&Object.keys(u).length>0?w=2:3==Object.keys(_).length&&S?w=1:Object.keys(u).length>0&&(w=0);var I,k={};if(_.cardNumber){var F=\"4\"==(I=_.cardNumber).substring(0,1)?\"VISA\":\"5\"==I.substring(0,1)?\"MASTER\":\"35\"==I.substring(0,2)?\"JBC\":\"34\"==I.substring(0,2)||\"37\"==I.substring(0,2)?\"AE\":\"DISCOVER\";k.cardNumber=_.cardNumber,k.cardType=F}if(_.exp_month&&_.exp_year){var E=_.exp_month+\"/\"+_.exp_year;k.expiryTime=E}return{contact_info:u,payment:k,payment_info:_,infoType:w,autofillInputValues:a,autofill_scope_fields:i,out_scope_input_fields:o}},c.prototype.setObj=function(t,e){for(var i in e)e.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=e[i])},c.prototype.sendEventV3=function(e,i,o){void 0===i&&(i={});try{if(window===window.top){var a=t({url:location.href,web_url:l.ins.adInfo.web_url,contactInfo_fields:JSON.stringify(l.ins.autoFillField),contactInfo_status:l.ins.contactInfo_status.toString(),paymentInfo_status:l.ins.paymentInfo_status.toString(),pipo_payment_info_status:l.ins.pipo_paymentInfo_status,pipo_card_count:l.ins.pipo_payment_count,pv_id:l.ins.pv_id,first_page:l.ins.is_first_page,iframe_scope_length:this.iframeBridge.iframeSourceList.length,autofill_card_count:l.ins.paymentCount,js_version:this.version,js_from:this.js_from,mainframe_load:l.ins.mainframe_load,ready_state:document.readyState},i);!function(t,e){var i,o=\"undefined\"!=typeof __PIA_WORKER__?new Function(\"return this\")():\"undefined\"!=typeof window?window:{};o.JS2NativeBridge&&o.JS2NativeBridge._invokeMethod?i=function(t){return o.JS2NativeBridge._invokeMethod(JSON.stringify(t))}:o.ToutiaoJSBridge&&o.ToutiaoJSBridge.invokeMethod?i=function(t){return o.ToutiaoJSBridge.invokeMethod(JSON.stringify(t))}:o.JS2NativeBridge&&o.JS2NativeBridge.call?i=function(t){return o.JS2NativeBridge.call(t.func,JSON.stringify(t))}:o.webkit&&o.webkit.messageHandlers&&o.webkit.messageHandlers.callMethodParams?i=function(t){o.webkit.messageHandlers.callMethodParams.postMessage(t)}:o.callMethodParams&&(i=function(t){return o.callMethodParams(t.func,t)}),i({func:t,params:e,JSSDK:\"2.0.0\",__msg_type:\"call\"})}(\"sendLog\",{labelName:e,eventName:\"ad_wap_stat\",is_ad_event:1,value:l.ins.adInfo.cid,extJson:{category:\"event_v3\",tag:\"ad_wap_stat\",refer:\"autofill\",nt:4,is_ad_event:1,value:l.ins.adInfo.cid,log_extra:l.ins.adInfo.log_extra,ad_extra_data:JSON.stringify(a)}})}}catch(t){}},c.prototype.addStateChange=function(){var t=this;document.addEventListener(\"readystatechange\",(function(){\"complete\"!==document.readyState&&\"interactive\"!==document.readyState||t.initAutoFill(document.readyState)}))},c.prototype.registerForPageComplete=function(){var t=this;try{if(window.__initAutoFill__)return;window.__initAutoFill__=!0,window===window.top?\"complete\"===document.readyState?this.initAutoFill(document.readyState):\"interactive\"===document.readyState?(this.initAutoFill(document.readyState),this.addStateChange()):this.addStateChange():\"complete\"===document.readyState?this.initAutoFill(document.readyState):document.addEventListener(\"readystatechange\",(function(){\"complete\"===document.readyState&&t.initAutoFill(document.readyState)}))}catch(t){this.sendEventV3(\"lp_js_init_fail\",{code:1,fail_reason:JSON.stringify({msg:t.message,stack:t.stack})})}},c}())(getClientContext().adInfo,getClientContext().autoFillInfo,getClientContext().extraData).registerForPageComplete()}();"

    return-object v0
.end method

.method public final LJI()Ljava/lang/String;
    .locals 1

    const-string v0, "_jsmanage_ad_autofill_thirdversion"

    return-object v0
.end method
